function pw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vg={exports:{}},so={};var ab;function Gk(){if(ab)return so;ab=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:n,type:a,key:c,ref:s!==void 0?s:null,props:o}}return so.Fragment=e,so.jsx=r,so.jsxs=r,so}var lb;function Kk(){return lb||(lb=1,Vg.exports=Gk()),Vg.exports}var x=Kk(),Xg={exports:{}},ke={};var sb;function Ik(){if(sb)return ke;sb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function _(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function S(U,Z,W){this.props=U,this.context=Z,this.refs=C,this.updater=W||w}S.prototype.isReactComponent={},S.prototype.setState=function(U,Z){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Z,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function E(){}E.prototype=S.prototype;function T(U,Z,W){this.props=U,this.context=Z,this.refs=C,this.updater=W||w}var j=T.prototype=new E;j.constructor=T,N(j,S.prototype),j.isPureReactComponent=!0;var M=Array.isArray;function O(){}var A={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function $(U,Z,W){var ae=W.ref;return{$$typeof:n,type:U,key:Z,ref:ae!==void 0?ae:null,props:W}}function H(U,Z){return $(U.type,Z,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function F(U){var Z={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(W){return Z[W]})}var Q=/\/+/g;function B(U,Z){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):Z.toString(36)}function te(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(O,O):(U.status="pending",U.then(function(Z){U.status==="pending"&&(U.status="fulfilled",U.value=Z)},function(Z){U.status==="pending"&&(U.status="rejected",U.reason=Z)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function L(U,Z,W,ae,pe){var ye=typeof U;(ye==="undefined"||ye==="boolean")&&(U=null);var Ne=!1;if(U===null)Ne=!0;else switch(ye){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(U.$$typeof){case n:case e:Ne=!0;break;case m:return Ne=U._init,L(Ne(U._payload),Z,W,ae,pe)}}if(Ne)return pe=pe(U),Ne=ae===""?"."+B(U,0):ae,M(pe)?(W="",Ne!=null&&(W=Ne.replace(Q,"$&/")+"/"),L(pe,Z,W,"",function(Yt){return Yt})):pe!=null&&(I(pe)&&(pe=H(pe,W+(pe.key==null||U&&U.key===pe.key?"":(""+pe.key).replace(Q,"$&/")+"/")+Ne)),Z.push(pe)),1;Ne=0;var Ue=ae===""?".":ae+":";if(M(U))for(var Me=0;Me<U.length;Me++)ae=U[Me],ye=Ue+B(ae,Me),Ne+=L(ae,Z,W,ye,pe);else if(Me=_(U),typeof Me=="function")for(U=Me.call(U),Me=0;!(ae=U.next()).done;)ae=ae.value,ye=Ue+B(ae,Me++),Ne+=L(ae,Z,W,ye,pe);else if(ye==="object"){if(typeof U.then=="function")return L(te(U),Z,W,ae,pe);throw Z=String(U),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function Y(U,Z,W){if(U==null)return U;var ae=[],pe=0;return L(U,ae,"","",function(ye){return Z.call(W,ye,pe++)}),ae}function se(U){if(U._status===-1){var Z=U._result;Z=Z(),Z.then(function(W){(U._status===0||U._status===-1)&&(U._status=1,U._result=W)},function(W){(U._status===0||U._status===-1)&&(U._status=2,U._result=W)}),U._status===-1&&(U._status=0,U._result=Z)}if(U._status===1)return U._result.default;throw U._result}var ce=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},ge={map:Y,forEach:function(U,Z,W){Y(U,function(){Z.apply(this,arguments)},W)},count:function(U){var Z=0;return Y(U,function(){Z++}),Z},toArray:function(U){return Y(U,function(Z){return Z})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return ke.Activity=p,ke.Children=ge,ke.Component=S,ke.Fragment=r,ke.Profiler=s,ke.PureComponent=T,ke.StrictMode=a,ke.Suspense=h,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ke.__COMPILER_RUNTIME={__proto__:null,c:function(U){return A.H.useMemoCache(U)}},ke.cache=function(U){return function(){return U.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(U,Z,W){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ae=N({},U.props),pe=U.key;if(Z!=null)for(ye in Z.key!==void 0&&(pe=""+Z.key),Z)!R.call(Z,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&Z.ref===void 0||(ae[ye]=Z[ye]);var ye=arguments.length-2;if(ye===1)ae.children=W;else if(1<ye){for(var Ne=Array(ye),Ue=0;Ue<ye;Ue++)Ne[Ue]=arguments[Ue+2];ae.children=Ne}return $(U.type,pe,ae)},ke.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},ke.createElement=function(U,Z,W){var ae,pe={},ye=null;if(Z!=null)for(ae in Z.key!==void 0&&(ye=""+Z.key),Z)R.call(Z,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(pe[ae]=Z[ae]);var Ne=arguments.length-2;if(Ne===1)pe.children=W;else if(1<Ne){for(var Ue=Array(Ne),Me=0;Me<Ne;Me++)Ue[Me]=arguments[Me+2];pe.children=Ue}if(U&&U.defaultProps)for(ae in Ne=U.defaultProps,Ne)pe[ae]===void 0&&(pe[ae]=Ne[ae]);return $(U,ye,pe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(U){return{$$typeof:f,render:U}},ke.isValidElement=I,ke.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:se}},ke.memo=function(U,Z){return{$$typeof:g,type:U,compare:Z===void 0?null:Z}},ke.startTransition=function(U){var Z=A.T,W={};A.T=W;try{var ae=U(),pe=A.S;pe!==null&&pe(W,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(O,ce)}catch(ye){ce(ye)}finally{Z!==null&&W.types!==null&&(Z.types=W.types),A.T=Z}},ke.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ke.use=function(U){return A.H.use(U)},ke.useActionState=function(U,Z,W){return A.H.useActionState(U,Z,W)},ke.useCallback=function(U,Z){return A.H.useCallback(U,Z)},ke.useContext=function(U){return A.H.useContext(U)},ke.useDebugValue=function(){},ke.useDeferredValue=function(U,Z){return A.H.useDeferredValue(U,Z)},ke.useEffect=function(U,Z){return A.H.useEffect(U,Z)},ke.useEffectEvent=function(U){return A.H.useEffectEvent(U)},ke.useId=function(){return A.H.useId()},ke.useImperativeHandle=function(U,Z,W){return A.H.useImperativeHandle(U,Z,W)},ke.useInsertionEffect=function(U,Z){return A.H.useInsertionEffect(U,Z)},ke.useLayoutEffect=function(U,Z){return A.H.useLayoutEffect(U,Z)},ke.useMemo=function(U,Z){return A.H.useMemo(U,Z)},ke.useOptimistic=function(U,Z){return A.H.useOptimistic(U,Z)},ke.useReducer=function(U,Z,W){return A.H.useReducer(U,Z,W)},ke.useRef=function(U){return A.H.useRef(U)},ke.useState=function(U){return A.H.useState(U)},ke.useSyncExternalStore=function(U,Z,W){return A.H.useSyncExternalStore(U,Z,W)},ke.useTransition=function(){return A.H.useTransition()},ke.version="19.2.3",ke}var ob;function P0(){return ob||(ob=1,Xg.exports=Ik()),Xg.exports}var D=P0();const $o=pw(D);var Qg={exports:{}},oo={},Zg={exports:{}},Jg={};var ub;function Yk(){return ub||(ub=1,(function(n){function e(L,Y){var se=L.length;L.push(Y);e:for(;0<se;){var ce=se-1>>>1,ge=L[ce];if(0<s(ge,Y))L[ce]=Y,L[se]=ge,se=ce;else break e}}function r(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var Y=L[0],se=L.pop();if(se!==Y){L[0]=se;e:for(var ce=0,ge=L.length,U=ge>>>1;ce<U;){var Z=2*(ce+1)-1,W=L[Z],ae=Z+1,pe=L[ae];if(0>s(W,se))ae<ge&&0>s(pe,W)?(L[ce]=pe,L[ae]=se,ce=ae):(L[ce]=W,L[Z]=se,ce=Z);else if(ae<ge&&0>s(pe,se))L[ce]=pe,L[ae]=se,ce=ae;else break e}}return Y}function s(L,Y){var se=L.sortIndex-Y.sortIndex;return se!==0?se:L.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],g=[],m=1,p=null,v=3,_=!1,w=!1,N=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function j(L){for(var Y=r(g);Y!==null;){if(Y.callback===null)a(g);else if(Y.startTime<=L)a(g),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=r(g)}}function M(L){if(N=!1,j(L),!w)if(r(h)!==null)w=!0,O||(O=!0,F());else{var Y=r(g);Y!==null&&te(M,Y.startTime-L)}}var O=!1,A=-1,R=5,$=-1;function H(){return C?!0:!(n.unstable_now()-$<R)}function I(){if(C=!1,O){var L=n.unstable_now();$=L;var Y=!0;try{e:{w=!1,N&&(N=!1,E(A),A=-1),_=!0;var se=v;try{t:{for(j(L),p=r(h);p!==null&&!(p.expirationTime>L&&H());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,v=p.priorityLevel;var ge=ce(p.expirationTime<=L);if(L=n.unstable_now(),typeof ge=="function"){p.callback=ge,j(L),Y=!0;break t}p===r(h)&&a(h),j(L)}else a(h);p=r(h)}if(p!==null)Y=!0;else{var U=r(g);U!==null&&te(M,U.startTime-L),Y=!1}}break e}finally{p=null,v=se,_=!1}Y=void 0}}finally{Y?F():O=!1}}}var F;if(typeof T=="function")F=function(){T(I)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,B=Q.port2;Q.port1.onmessage=I,F=function(){B.postMessage(null)}}else F=function(){S(I,0)};function te(L,Y){A=S(function(){L(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(L){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var se=v;v=Y;try{return L()}finally{v=se}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var se=v;v=L;try{return Y()}finally{v=se}},n.unstable_scheduleCallback=function(L,Y,se){var ce=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ce+se:ce):se=ce,L){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=se+ge,L={id:m++,callback:Y,priorityLevel:L,startTime:se,expirationTime:ge,sortIndex:-1},se>ce?(L.sortIndex=se,e(g,L),r(h)===null&&L===r(g)&&(N?(E(A),A=-1):N=!0,te(M,se-ce))):(L.sortIndex=ge,e(h,L),w||_||(w=!0,O||(O=!0,F()))),L},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(L){var Y=v;return function(){var se=v;v=Y;try{return L.apply(this,arguments)}finally{v=se}}}})(Jg)),Jg}var cb;function Vk(){return cb||(cb=1,Zg.exports=Yk()),Zg.exports}var Wg={exports:{}},$t={};var fb;function Xk(){if(fb)return $t;fb=1;var n=P0();function e(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,g,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:h,containerInfo:g,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$t.createPortal=function(h,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(h,g,null,m)},$t.flushSync=function(h){var g=c.T,m=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=g,a.p=m,a.d.f()}},$t.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(h,g))},$t.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},$t.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var m=g.as,p=f(m,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?a.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:_}):m==="script"&&a.d.X(h,{crossOrigin:p,integrity:v,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=f(g.as,g.crossOrigin);a.d.M(h,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(h)},$t.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,p=f(m,g.crossOrigin);a.d.L(h,m,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(h,g){if(typeof h=="string")if(g){var m=f(g.as,g.crossOrigin);a.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(h)},$t.requestFormReset=function(h){a.d.r(h)},$t.unstable_batchedUpdates=function(h,g){return h(g)},$t.useFormState=function(h,g,m){return c.H.useFormState(h,g,m)},$t.useFormStatus=function(){return c.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var db;function mw(){if(db)return Wg.exports;db=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wg.exports=Xk(),Wg.exports}var hb;function Qk(){if(hb)return oo;hb=1;var n=Vk(),e=P0(),r=mw();function a(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function f(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(a(188))}function g(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(a(188));return l!==i?null:i}for(var u=i,d=l;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return h(y),i;if(b===d)return h(y),l;b=b.sibling}throw Error(a(188))}if(u.return!==d.return)u=y,d=b;else{for(var k=!1,z=y.child;z;){if(z===u){k=!0,u=y,d=b;break}if(z===d){k=!0,d=y,u=b;break}z=z.sibling}if(!k){for(z=b.child;z;){if(z===u){k=!0,u=b,d=y;break}if(z===d){k=!0,d=b,u=y;break}z=z.sibling}if(!k)throw Error(a(189))}}if(u.alternate!==d)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:l}function m(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=m(i),l!==null)return l;i=i.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Symbol.for("react.client.reference");function B(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case S:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList";case $:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case T:return i.displayName||"Context";case E:return(i._context.displayName||"Context")+".Consumer";case j:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return l=i.displayName||null,l!==null?l:B(i.type)||"Memo";case R:l=i._payload,i=i._init;try{return B(i(l))}catch{}}return null}var te=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ce=[],ge=-1;function U(i){return{current:i}}function Z(i){0>ge||(i.current=ce[ge],ce[ge]=null,ge--)}function W(i,l){ge++,ce[ge]=i.current,i.current=l}var ae=U(null),pe=U(null),ye=U(null),Ne=U(null);function Ue(i,l){switch(W(ye,l),W(pe,i),W(ae,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?Tv(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=Tv(l),i=jv(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Z(ae),W(ae,i)}function Me(){Z(ae),Z(pe),Z(ye)}function Yt(i){i.memoizedState!==null&&W(Ne,i);var l=ae.current,u=jv(l,i.type);l!==u&&(W(pe,i),W(ae,u))}function Qi(i){pe.current===i&&(Z(ae),Z(pe)),Ne.current===i&&(Z(Ne),ro._currentValue=se)}var gs,iy;function Zi(i){if(gs===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);gs=l&&l[1]||"",iy=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+i+iy}var Md=!1;function Dd(i,l){if(!i||Md)return"";Md=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var J=ee}Reflect.construct(i,[],le)}else{try{le.call()}catch(ee){J=ee}i.call(le.prototype)}}else{try{throw Error()}catch(ee){J=ee}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),k=b[0],z=b[1];if(k&&z){var P=k.split(`
`),X=z.split(`
`);for(y=d=0;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;for(;y<X.length&&!X[y].includes("DetermineComponentFrameRoot");)y++;if(d===P.length||y===X.length)for(d=P.length-1,y=X.length-1;1<=d&&0<=y&&P[d]!==X[y];)y--;for(;1<=d&&0<=y;d--,y--)if(P[d]!==X[y]){if(d!==1||y!==1)do if(d--,y--,0>y||P[d]!==X[y]){var ne=`
`+P[d].replace(" at new "," at ");return i.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",i.displayName)),ne}while(1<=d&&0<=y);break}}}finally{Md=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Zi(u):""}function _3(i,l){switch(i.tag){case 26:case 27:case 5:return Zi(i.type);case 16:return Zi("Lazy");case 13:return i.child!==l&&l!==null?Zi("Suspense Fallback"):Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return Dd(i.type,!1);case 11:return Dd(i.type.render,!1);case 1:return Dd(i.type,!0);case 31:return Zi("Activity");default:return""}}function ay(i){try{var l="",u=null;do l+=_3(i,u),u=i,i=i.return;while(i);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Od=Object.prototype.hasOwnProperty,zd=n.unstable_scheduleCallback,Rd=n.unstable_cancelCallback,w3=n.unstable_shouldYield,S3=n.unstable_requestPaint,sn=n.unstable_now,C3=n.unstable_getCurrentPriorityLevel,ly=n.unstable_ImmediatePriority,sy=n.unstable_UserBlockingPriority,wu=n.unstable_NormalPriority,N3=n.unstable_LowPriority,oy=n.unstable_IdlePriority,k3=n.log,E3=n.unstable_setDisableYieldValue,ps=null,on=null;function ci(i){if(typeof k3=="function"&&E3(i),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(ps,i)}catch{}}var un=Math.clz32?Math.clz32:A3,T3=Math.log,j3=Math.LN2;function A3(i){return i>>>=0,i===0?32:31-(T3(i)/j3|0)|0}var Su=256,Cu=262144,Nu=4194304;function Ji(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ku(i,l,u){var d=i.pendingLanes;if(d===0)return 0;var y=0,b=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var z=d&134217727;return z!==0?(d=z&~b,d!==0?y=Ji(d):(k&=z,k!==0?y=Ji(k):u||(u=z&~i,u!==0&&(y=Ji(u))))):(z=d&~b,z!==0?y=Ji(z):k!==0?y=Ji(k):u||(u=d&~i,u!==0&&(y=Ji(u)))),y===0?0:l!==0&&l!==y&&(l&b)===0&&(b=y&-y,u=l&-l,b>=u||b===32&&(u&4194048)!==0)?l:y}function ms(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function M3(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uy(){var i=Nu;return Nu<<=1,(Nu&62914560)===0&&(Nu=4194304),i}function Ld(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function ys(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function D3(i,l,u,d,y,b){var k=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var z=i.entanglements,P=i.expirationTimes,X=i.hiddenUpdates;for(u=k&~u;0<u;){var ne=31-un(u),le=1<<ne;z[ne]=0,P[ne]=-1;var J=X[ne];if(J!==null)for(X[ne]=null,ne=0;ne<J.length;ne++){var ee=J[ne];ee!==null&&(ee.lane&=-536870913)}u&=~le}d!==0&&cy(i,d,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(k&~l))}function cy(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var d=31-un(l);i.entangledLanes|=l,i.entanglements[d]=i.entanglements[d]|1073741824|u&261930}function fy(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var d=31-un(u),y=1<<d;y&l|i[d]&l&&(i[d]|=l),u&=~y}}function dy(i,l){var u=l&-l;return u=(u&42)!==0?1:$d(u),(u&(i.suspendedLanes|l))!==0?0:u}function $d(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ud(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hy(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:Jv(i.type))}function gy(i,l){var u=Y.p;try{return Y.p=i,l()}finally{Y.p=u}}var fi=Math.random().toString(36).slice(2),At="__reactFiber$"+fi,Vt="__reactProps$"+fi,Ya="__reactContainer$"+fi,Bd="__reactEvents$"+fi,O3="__reactListeners$"+fi,z3="__reactHandles$"+fi,py="__reactResources$"+fi,xs="__reactMarker$"+fi;function Hd(i){delete i[At],delete i[Vt],delete i[Bd],delete i[O3],delete i[z3]}function Va(i){var l=i[At];if(l)return l;for(var u=i.parentNode;u;){if(l=u[Ya]||u[At]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=Lv(i);i!==null;){if(u=i[At])return u;i=Lv(i)}return l}i=u,u=i.parentNode}return null}function Xa(i){if(i=i[At]||i[Ya]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function vs(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(a(33))}function Qa(i){var l=i[py];return l||(l=i[py]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Nt(i){i[xs]=!0}var my=new Set,yy={};function Wi(i,l){Za(i,l),Za(i+"Capture",l)}function Za(i,l){for(yy[i]=l,i=0;i<l.length;i++)my.add(l[i])}var R3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xy={},vy={};function L3(i){return Od.call(vy,i)?!0:Od.call(xy,i)?!1:R3.test(i)?vy[i]=!0:(xy[i]=!0,!1)}function Eu(i,l,u){if(L3(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function Tu(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function wr(i,l,u,d){if(d===null)i.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+d)}}function _n(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function by(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function $3(i,l,u){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,b=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return y.call(this)},set:function(k){u=""+k,b.call(this,k)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Pd(i){if(!i._valueTracker){var l=by(i)?"checked":"value";i._valueTracker=$3(i,l,""+i[l])}}function _y(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),d="";return i&&(d=by(i)?i.checked?"true":"false":i.value),i=d,i!==u?(l.setValue(i),!0):!1}function ju(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var U3=/[\n"\\]/g;function wn(i){return i.replace(U3,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Fd(i,l,u,d,y,b,k,z){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),l!=null?k==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+_n(l)):i.value!==""+_n(l)&&(i.value=""+_n(l)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),l!=null?qd(i,k,_n(l)):u!=null?qd(i,k,_n(u)):d!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?i.name=""+_n(z):i.removeAttribute("name")}function wy(i,l,u,d,y,b,k,z){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),l!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||l!=null)){Pd(i);return}u=u!=null?""+_n(u):"",l=l!=null?""+_n(l):u,z||l===i.value||(i.value=l),i.defaultValue=l}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=z?i.checked:!!d,i.defaultChecked=!!d,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k),Pd(i)}function qd(i,l,u){l==="number"&&ju(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Ja(i,l,u,d){if(i=i.options,l){l={};for(var y=0;y<u.length;y++)l["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=l.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&d&&(i[u].defaultSelected=!0)}else{for(u=""+_n(u),l=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,d&&(i[y].defaultSelected=!0);return}l!==null||i[y].disabled||(l=i[y])}l!==null&&(l.selected=!0)}}function Sy(i,l,u){if(l!=null&&(l=""+_n(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+_n(u):""}function Cy(i,l,u,d){if(l==null){if(d!=null){if(u!=null)throw Error(a(92));if(te(d)){if(1<d.length)throw Error(a(93));d=d[0]}u=d}u==null&&(u=""),l=u}u=_n(l),i.defaultValue=u,d=i.textContent,d===u&&d!==""&&d!==null&&(i.value=d),Pd(i)}function Wa(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var B3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ny(i,l,u){var d=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":d?i.setProperty(l,u):typeof u!="number"||u===0||B3.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function ky(i,l,u){if(l!=null&&typeof l!="object")throw Error(a(62));if(i=i.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var y in l)d=l[y],l.hasOwnProperty(y)&&u[y]!==d&&Ny(i,y,d)}else for(var b in l)l.hasOwnProperty(b)&&Ny(i,b,l[b])}function Gd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),P3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Au(i){return P3.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Sr(){}var Kd=null;function Id(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var el=null,tl=null;function Ey(i){var l=Xa(i);if(l&&(i=l.stateNode)){var u=i[Vt]||null;e:switch(i=l.stateNode,l.type){case"input":if(Fd(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+wn(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var d=u[l];if(d!==i&&d.form===i.form){var y=d[Vt]||null;if(!y)throw Error(a(90));Fd(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<u.length;l++)d=u[l],d.form===i.form&&_y(d)}break e;case"textarea":Sy(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Ja(i,!!u.multiple,l,!1)}}}var Yd=!1;function Ty(i,l,u){if(Yd)return i(l,u);Yd=!0;try{var d=i(l);return d}finally{if(Yd=!1,(el!==null||tl!==null)&&(yc(),el&&(l=el,i=tl,tl=el=null,Ey(l),i)))for(l=0;l<i.length;l++)Ey(i[l])}}function bs(i,l){var u=i.stateNode;if(u===null)return null;var d=u[Vt]||null;if(d===null)return null;u=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(a(231,l,typeof u));return u}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vd=!1;if(Cr)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Vd=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Vd=!1}var di=null,Xd=null,Mu=null;function jy(){if(Mu)return Mu;var i,l=Xd,u=l.length,d,y="value"in di?di.value:di.textContent,b=y.length;for(i=0;i<u&&l[i]===y[i];i++);var k=u-i;for(d=1;d<=k&&l[u-d]===y[b-d];d++);return Mu=y.slice(i,1<d?1-d:void 0)}function Du(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Ou(){return!0}function Ay(){return!1}function Xt(i){function l(u,d,y,b,k){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(b):b[z]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ou:Ay,this.isPropagationStopped=Ay,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ou)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ou)},persist:function(){},isPersistent:Ou}),l}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zu=Xt(ea),ws=p({},ea,{view:0,detail:0}),F3=Xt(ws),Qd,Zd,Ss,Ru=p({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ss&&(Ss&&i.type==="mousemove"?(Qd=i.screenX-Ss.screenX,Zd=i.screenY-Ss.screenY):Zd=Qd=0,Ss=i),Qd)},movementY:function(i){return"movementY"in i?i.movementY:Zd}}),My=Xt(Ru),q3=p({},Ru,{dataTransfer:0}),G3=Xt(q3),K3=p({},ws,{relatedTarget:0}),Jd=Xt(K3),I3=p({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),Y3=Xt(I3),V3=p({},ea,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),X3=Xt(V3),Q3=p({},ea,{data:0}),Dy=Xt(Q3),Z3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e5(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=W3[i])?!!l[i]:!1}function Wd(){return e5}var t5=p({},ws,{key:function(i){if(i.key){var l=Z3[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Du(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?J3[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wd,charCode:function(i){return i.type==="keypress"?Du(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Du(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),n5=Xt(t5),r5=p({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oy=Xt(r5),i5=p({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wd}),a5=Xt(i5),l5=p({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),s5=Xt(l5),o5=p({},Ru,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),u5=Xt(o5),c5=p({},ea,{newState:0,oldState:0}),f5=Xt(c5),d5=[9,13,27,32],eh=Cr&&"CompositionEvent"in window,Cs=null;Cr&&"documentMode"in document&&(Cs=document.documentMode);var h5=Cr&&"TextEvent"in window&&!Cs,zy=Cr&&(!eh||Cs&&8<Cs&&11>=Cs),Ry=" ",Ly=!1;function $y(i,l){switch(i){case"keyup":return d5.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var nl=!1;function g5(i,l){switch(i){case"compositionend":return Uy(l);case"keypress":return l.which!==32?null:(Ly=!0,Ry);case"textInput":return i=l.data,i===Ry&&Ly?null:i;default:return null}}function p5(i,l){if(nl)return i==="compositionend"||!eh&&$y(i,l)?(i=jy(),Mu=Xd=di=null,nl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return zy&&l.locale!=="ko"?null:l.data;default:return null}}var m5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!m5[i.type]:l==="textarea"}function Hy(i,l,u,d){el?tl?tl.push(d):tl=[d]:el=d,l=Cc(l,"onChange"),0<l.length&&(u=new zu("onChange","change",null,u,d),i.push({event:u,listeners:l}))}var Ns=null,ks=null;function y5(i){wv(i,0)}function Lu(i){var l=vs(i);if(_y(l))return i}function Py(i,l){if(i==="change")return l}var Fy=!1;if(Cr){var th;if(Cr){var nh="oninput"in document;if(!nh){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),nh=typeof qy.oninput=="function"}th=nh}else th=!1;Fy=th&&(!document.documentMode||9<document.documentMode)}function Gy(){Ns&&(Ns.detachEvent("onpropertychange",Ky),ks=Ns=null)}function Ky(i){if(i.propertyName==="value"&&Lu(ks)){var l=[];Hy(l,ks,i,Id(i)),Ty(y5,l)}}function x5(i,l,u){i==="focusin"?(Gy(),Ns=l,ks=u,Ns.attachEvent("onpropertychange",Ky)):i==="focusout"&&Gy()}function v5(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lu(ks)}function b5(i,l){if(i==="click")return Lu(l)}function _5(i,l){if(i==="input"||i==="change")return Lu(l)}function w5(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var cn=typeof Object.is=="function"?Object.is:w5;function Es(i,l){if(cn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),d=Object.keys(l);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!Od.call(l,y)||!cn(i[y],l[y]))return!1}return!0}function Iy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yy(i,l){var u=Iy(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=l&&d>=l)return{node:u,offset:l-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Iy(u)}}function Vy(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Vy(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Xy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=ju(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=ju(i.document)}return l}function rh(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var S5=Cr&&"documentMode"in document&&11>=document.documentMode,rl=null,ih=null,Ts=null,ah=!1;function Qy(i,l,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ah||rl==null||rl!==ju(d)||(d=rl,"selectionStart"in d&&rh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ts&&Es(Ts,d)||(Ts=d,d=Cc(ih,"onSelect"),0<d.length&&(l=new zu("onSelect","select",null,l,u),i.push({event:l,listeners:d}),l.target=rl)))}function ta(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var il={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},lh={},Zy={};Cr&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function na(i){if(lh[i])return lh[i];if(!il[i])return i;var l=il[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in Zy)return lh[i]=l[u];return i}var Jy=na("animationend"),Wy=na("animationiteration"),ex=na("animationstart"),C5=na("transitionrun"),N5=na("transitionstart"),k5=na("transitioncancel"),tx=na("transitionend"),nx=new Map,sh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sh.push("scrollEnd");function Fn(i,l){nx.set(i,l),Wi(l,[i])}var $u=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Sn=[],al=0,oh=0;function Uu(){for(var i=al,l=oh=al=0;l<i;){var u=Sn[l];Sn[l++]=null;var d=Sn[l];Sn[l++]=null;var y=Sn[l];Sn[l++]=null;var b=Sn[l];if(Sn[l++]=null,d!==null&&y!==null){var k=d.pending;k===null?y.next=y:(y.next=k.next,k.next=y),d.pending=y}b!==0&&rx(u,y,b)}}function Bu(i,l,u,d){Sn[al++]=i,Sn[al++]=l,Sn[al++]=u,Sn[al++]=d,oh|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function uh(i,l,u,d){return Bu(i,l,u,d),Hu(i)}function ra(i,l){return Bu(i,null,null,l),Hu(i)}function rx(i,l,u){i.lanes|=u;var d=i.alternate;d!==null&&(d.lanes|=u);for(var y=!1,b=i.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&l!==null&&(y=31-un(u),i=b.hiddenUpdates,d=i[y],d===null?i[y]=[l]:d.push(l),l.lane=u|536870912),b):null}function Hu(i){if(50<Qs)throw Qs=0,xg=null,Error(a(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var ll={};function E5(i,l,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(i,l,u,d){return new E5(i,l,u,d)}function ch(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Nr(i,l){var u=i.alternate;return u===null?(u=fn(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function ix(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Pu(i,l,u,d,y,b){var k=0;if(d=i,typeof i=="function")ch(i)&&(k=1);else if(typeof i=="string")k=Dk(i,u,ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case $:return i=fn(31,u,l,y),i.elementType=$,i.lanes=b,i;case N:return ia(u.children,y,b,l);case C:k=8,y|=24;break;case S:return i=fn(12,u,l,y|2),i.elementType=S,i.lanes=b,i;case M:return i=fn(13,u,l,y),i.elementType=M,i.lanes=b,i;case O:return i=fn(19,u,l,y),i.elementType=O,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:k=10;break e;case E:k=9;break e;case j:k=11;break e;case A:k=14;break e;case R:k=16,d=null;break e}k=29,u=Error(a(130,i===null?"null":typeof i,"")),d=null}return l=fn(k,u,l,y),l.elementType=i,l.type=d,l.lanes=b,l}function ia(i,l,u,d){return i=fn(7,i,d,l),i.lanes=u,i}function fh(i,l,u){return i=fn(6,i,null,l),i.lanes=u,i}function ax(i){var l=fn(18,null,null,0);return l.stateNode=i,l}function dh(i,l,u){return l=fn(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var lx=new WeakMap;function Cn(i,l){if(typeof i=="object"&&i!==null){var u=lx.get(i);return u!==void 0?u:(l={value:i,source:l,stack:ay(l)},lx.set(i,l),l)}return{value:i,source:l,stack:ay(l)}}var sl=[],ol=0,Fu=null,js=0,Nn=[],kn=0,hi=null,ar=1,lr="";function kr(i,l){sl[ol++]=js,sl[ol++]=Fu,Fu=i,js=l}function sx(i,l,u){Nn[kn++]=ar,Nn[kn++]=lr,Nn[kn++]=hi,hi=i;var d=ar;i=lr;var y=32-un(d)-1;d&=~(1<<y),u+=1;var b=32-un(l)+y;if(30<b){var k=y-y%5;b=(d&(1<<k)-1).toString(32),d>>=k,y-=k,ar=1<<32-un(l)+y|u<<y|d,lr=b+i}else ar=1<<b|u<<y|d,lr=i}function hh(i){i.return!==null&&(kr(i,1),sx(i,1,0))}function gh(i){for(;i===Fu;)Fu=sl[--ol],sl[ol]=null,js=sl[--ol],sl[ol]=null;for(;i===hi;)hi=Nn[--kn],Nn[kn]=null,lr=Nn[--kn],Nn[kn]=null,ar=Nn[--kn],Nn[kn]=null}function ox(i,l){Nn[kn++]=ar,Nn[kn++]=lr,Nn[kn++]=hi,ar=l.id,lr=l.overflow,hi=i}var Mt=null,nt=null,Le=!1,gi=null,En=!1,ph=Error(a(519));function pi(i){var l=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw As(Cn(l,i)),ph}function ux(i){var l=i.stateNode,u=i.type,d=i.memoizedProps;switch(l[At]=i,l[Vt]=d,u){case"dialog":Oe("cancel",l),Oe("close",l);break;case"iframe":case"object":case"embed":Oe("load",l);break;case"video":case"audio":for(u=0;u<Js.length;u++)Oe(Js[u],l);break;case"source":Oe("error",l);break;case"img":case"image":case"link":Oe("error",l),Oe("load",l);break;case"details":Oe("toggle",l);break;case"input":Oe("invalid",l),wy(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Oe("invalid",l);break;case"textarea":Oe("invalid",l),Cy(l,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||d.suppressHydrationWarning===!0||kv(l.textContent,u)?(d.popover!=null&&(Oe("beforetoggle",l),Oe("toggle",l)),d.onScroll!=null&&Oe("scroll",l),d.onScrollEnd!=null&&Oe("scrollend",l),d.onClick!=null&&(l.onclick=Sr),l=!0):l=!1,l||pi(i,!0)}function cx(i){for(Mt=i.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:En=!1;return;case 27:case 3:En=!0;return;default:Mt=Mt.return}}function ul(i){if(i!==Mt)return!1;if(!Le)return cx(i),Le=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Og(i.type,i.memoizedProps)),u=!u),u&&nt&&pi(i),cx(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));nt=Rv(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));nt=Rv(i)}else l===27?(l=nt,ji(i.type)?(i=Ug,Ug=null,nt=i):nt=l):nt=Mt?jn(i.stateNode.nextSibling):null;return!0}function aa(){nt=Mt=null,Le=!1}function mh(){var i=gi;return i!==null&&(Wt===null?Wt=i:Wt.push.apply(Wt,i),gi=null),i}function As(i){gi===null?gi=[i]:gi.push(i)}var yh=U(null),la=null,Er=null;function mi(i,l,u){W(yh,l._currentValue),l._currentValue=u}function Tr(i){i._currentValue=yh.current,Z(yh)}function xh(i,l,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),i===u)break;i=i.return}}function vh(i,l,u,d){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var k=y.child;b=b.firstContext;e:for(;b!==null;){var z=b;b=y;for(var P=0;P<l.length;P++)if(z.context===l[P]){b.lanes|=u,z=b.alternate,z!==null&&(z.lanes|=u),xh(b.return,u,i),d||(k=null);break e}b=z.next}}else if(y.tag===18){if(k=y.return,k===null)throw Error(a(341));k.lanes|=u,b=k.alternate,b!==null&&(b.lanes|=u),xh(k,u,i),k=null}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===i){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}}function cl(i,l,u,d){i=null;for(var y=l,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var k=y.alternate;if(k===null)throw Error(a(387));if(k=k.memoizedProps,k!==null){var z=y.type;cn(y.pendingProps.value,k.value)||(i!==null?i.push(z):i=[z])}}else if(y===Ne.current){if(k=y.alternate,k===null)throw Error(a(387));k.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(ro):i=[ro])}y=y.return}i!==null&&vh(l,i,u,d),l.flags|=262144}function qu(i){for(i=i.firstContext;i!==null;){if(!cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sa(i){la=i,Er=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Dt(i){return fx(la,i)}function Gu(i,l){return la===null&&sa(i),fx(i,l)}function fx(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Er===null){if(i===null)throw Error(a(308));Er=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Er=Er.next=l;return u}var T5=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,d){i.push(d)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},j5=n.unstable_scheduleCallback,A5=n.unstable_NormalPriority,pt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bh(){return{controller:new T5,data:new Map,refCount:0}}function Ms(i){i.refCount--,i.refCount===0&&j5(A5,function(){i.controller.abort()})}var Ds=null,_h=0,fl=0,dl=null;function M5(i,l){if(Ds===null){var u=Ds=[];_h=0,fl=Cg(),dl={status:"pending",value:void 0,then:function(d){u.push(d)}}}return _h++,l.then(dx,dx),l}function dx(){if(--_h===0&&Ds!==null){dl!==null&&(dl.status="fulfilled");var i=Ds;Ds=null,fl=0,dl=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function D5(i,l){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return i.then(function(){d.status="fulfilled",d.value=l;for(var y=0;y<u.length;y++)(0,u[y])(l)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var hx=L.S;L.S=function(i,l){Q1=sn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&M5(i,l),hx!==null&&hx(i,l)};var oa=U(null);function wh(){var i=oa.current;return i!==null?i:We.pooledCache}function Ku(i,l){l===null?W(oa,oa.current):W(oa,l.pool)}function gx(){var i=wh();return i===null?null:{parent:pt._currentValue,pool:i}}var hl=Error(a(460)),Sh=Error(a(474)),Iu=Error(a(542)),Yu={then:function(){}};function px(i){return i=i.status,i==="fulfilled"||i==="rejected"}function mx(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(Sr,Sr),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,xx(i),i;default:if(typeof l.status=="string")l.then(Sr,Sr);else{if(i=We,i!==null&&100<i.shellSuspendCounter)throw Error(a(482));i=l,i.status="pending",i.then(function(d){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=d}},function(d){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,xx(i),i}throw ca=l,hl}}function ua(i){try{var l=i._init;return l(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ca=u,hl):u}}var ca=null;function yx(){if(ca===null)throw Error(a(459));var i=ca;return ca=null,i}function xx(i){if(i===hl||i===Iu)throw Error(a(483))}var gl=null,Os=0;function Vu(i){var l=Os;return Os+=1,gl===null&&(gl=[]),mx(gl,i,l)}function zs(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Xu(i,l){throw l.$$typeof===v?Error(a(525)):(i=Object.prototype.toString.call(l),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function vx(i){function l(K,q){if(i){var V=K.deletions;V===null?(K.deletions=[q],K.flags|=16):V.push(q)}}function u(K,q){if(!i)return null;for(;q!==null;)l(K,q),q=q.sibling;return null}function d(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function y(K,q){return K=Nr(K,q),K.index=0,K.sibling=null,K}function b(K,q,V){return K.index=V,i?(V=K.alternate,V!==null?(V=V.index,V<q?(K.flags|=67108866,q):V):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function k(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function z(K,q,V,ie){return q===null||q.tag!==6?(q=fh(V,K.mode,ie),q.return=K,q):(q=y(q,V),q.return=K,q)}function P(K,q,V,ie){var Se=V.type;return Se===N?ne(K,q,V.props.children,ie,V.key):q!==null&&(q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&ua(Se)===q.type)?(q=y(q,V.props),zs(q,V),q.return=K,q):(q=Pu(V.type,V.key,V.props,null,K.mode,ie),zs(q,V),q.return=K,q)}function X(K,q,V,ie){return q===null||q.tag!==4||q.stateNode.containerInfo!==V.containerInfo||q.stateNode.implementation!==V.implementation?(q=dh(V,K.mode,ie),q.return=K,q):(q=y(q,V.children||[]),q.return=K,q)}function ne(K,q,V,ie,Se){return q===null||q.tag!==7?(q=ia(V,K.mode,ie,Se),q.return=K,q):(q=y(q,V),q.return=K,q)}function le(K,q,V){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=fh(""+q,K.mode,V),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return V=Pu(q.type,q.key,q.props,null,K.mode,V),zs(V,q),V.return=K,V;case w:return q=dh(q,K.mode,V),q.return=K,q;case R:return q=ua(q),le(K,q,V)}if(te(q)||F(q))return q=ia(q,K.mode,V,null),q.return=K,q;if(typeof q.then=="function")return le(K,Vu(q),V);if(q.$$typeof===T)return le(K,Gu(K,q),V);Xu(K,q)}return null}function J(K,q,V,ie){var Se=q!==null?q.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return Se!==null?null:z(K,q,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return V.key===Se?P(K,q,V,ie):null;case w:return V.key===Se?X(K,q,V,ie):null;case R:return V=ua(V),J(K,q,V,ie)}if(te(V)||F(V))return Se!==null?null:ne(K,q,V,ie,null);if(typeof V.then=="function")return J(K,q,Vu(V),ie);if(V.$$typeof===T)return J(K,q,Gu(K,V),ie);Xu(K,V)}return null}function ee(K,q,V,ie,Se){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return K=K.get(V)||null,z(q,K,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return K=K.get(ie.key===null?V:ie.key)||null,P(q,K,ie,Se);case w:return K=K.get(ie.key===null?V:ie.key)||null,X(q,K,ie,Se);case R:return ie=ua(ie),ee(K,q,V,ie,Se)}if(te(ie)||F(ie))return K=K.get(V)||null,ne(q,K,ie,Se,null);if(typeof ie.then=="function")return ee(K,q,V,Vu(ie),Se);if(ie.$$typeof===T)return ee(K,q,V,Gu(q,ie),Se);Xu(q,ie)}return null}function ve(K,q,V,ie){for(var Se=null,Be=null,be=q,Te=q=0,Re=null;be!==null&&Te<V.length;Te++){be.index>Te?(Re=be,be=null):Re=be.sibling;var He=J(K,be,V[Te],ie);if(He===null){be===null&&(be=Re);break}i&&be&&He.alternate===null&&l(K,be),q=b(He,q,Te),Be===null?Se=He:Be.sibling=He,Be=He,be=Re}if(Te===V.length)return u(K,be),Le&&kr(K,Te),Se;if(be===null){for(;Te<V.length;Te++)be=le(K,V[Te],ie),be!==null&&(q=b(be,q,Te),Be===null?Se=be:Be.sibling=be,Be=be);return Le&&kr(K,Te),Se}for(be=d(be);Te<V.length;Te++)Re=ee(be,K,Te,V[Te],ie),Re!==null&&(i&&Re.alternate!==null&&be.delete(Re.key===null?Te:Re.key),q=b(Re,q,Te),Be===null?Se=Re:Be.sibling=Re,Be=Re);return i&&be.forEach(function(zi){return l(K,zi)}),Le&&kr(K,Te),Se}function Ce(K,q,V,ie){if(V==null)throw Error(a(151));for(var Se=null,Be=null,be=q,Te=q=0,Re=null,He=V.next();be!==null&&!He.done;Te++,He=V.next()){be.index>Te?(Re=be,be=null):Re=be.sibling;var zi=J(K,be,He.value,ie);if(zi===null){be===null&&(be=Re);break}i&&be&&zi.alternate===null&&l(K,be),q=b(zi,q,Te),Be===null?Se=zi:Be.sibling=zi,Be=zi,be=Re}if(He.done)return u(K,be),Le&&kr(K,Te),Se;if(be===null){for(;!He.done;Te++,He=V.next())He=le(K,He.value,ie),He!==null&&(q=b(He,q,Te),Be===null?Se=He:Be.sibling=He,Be=He);return Le&&kr(K,Te),Se}for(be=d(be);!He.done;Te++,He=V.next())He=ee(be,K,Te,He.value,ie),He!==null&&(i&&He.alternate!==null&&be.delete(He.key===null?Te:He.key),q=b(He,q,Te),Be===null?Se=He:Be.sibling=He,Be=He);return i&&be.forEach(function(qk){return l(K,qk)}),Le&&kr(K,Te),Se}function Ze(K,q,V,ie){if(typeof V=="object"&&V!==null&&V.type===N&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case _:e:{for(var Se=V.key;q!==null;){if(q.key===Se){if(Se=V.type,Se===N){if(q.tag===7){u(K,q.sibling),ie=y(q,V.props.children),ie.return=K,K=ie;break e}}else if(q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&ua(Se)===q.type){u(K,q.sibling),ie=y(q,V.props),zs(ie,V),ie.return=K,K=ie;break e}u(K,q);break}else l(K,q);q=q.sibling}V.type===N?(ie=ia(V.props.children,K.mode,ie,V.key),ie.return=K,K=ie):(ie=Pu(V.type,V.key,V.props,null,K.mode,ie),zs(ie,V),ie.return=K,K=ie)}return k(K);case w:e:{for(Se=V.key;q!==null;){if(q.key===Se)if(q.tag===4&&q.stateNode.containerInfo===V.containerInfo&&q.stateNode.implementation===V.implementation){u(K,q.sibling),ie=y(q,V.children||[]),ie.return=K,K=ie;break e}else{u(K,q);break}else l(K,q);q=q.sibling}ie=dh(V,K.mode,ie),ie.return=K,K=ie}return k(K);case R:return V=ua(V),Ze(K,q,V,ie)}if(te(V))return ve(K,q,V,ie);if(F(V)){if(Se=F(V),typeof Se!="function")throw Error(a(150));return V=Se.call(V),Ce(K,q,V,ie)}if(typeof V.then=="function")return Ze(K,q,Vu(V),ie);if(V.$$typeof===T)return Ze(K,q,Gu(K,V),ie);Xu(K,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,q!==null&&q.tag===6?(u(K,q.sibling),ie=y(q,V),ie.return=K,K=ie):(u(K,q),ie=fh(V,K.mode,ie),ie.return=K,K=ie),k(K)):u(K,q)}return function(K,q,V,ie){try{Os=0;var Se=Ze(K,q,V,ie);return gl=null,Se}catch(be){if(be===hl||be===Iu)throw be;var Be=fn(29,be,null,K.mode);return Be.lanes=ie,Be.return=K,Be}finally{}}}var fa=vx(!0),bx=vx(!1),yi=!1;function Ch(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nh(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function xi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function vi(i,l,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Pe&2)!==0){var y=d.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),d.pending=l,l=Hu(i),rx(i,null,u),l}return Bu(i,d,l,u),Hu(i)}function Rs(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var d=l.lanes;d&=i.pendingLanes,u|=d,l.lanes=u,fy(i,u)}}function kh(i,l){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=k:b=b.next=k,u=u.next}while(u!==null);b===null?y=b=l:b=b.next=l}else y=b=l;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var Eh=!1;function Ls(){if(Eh){var i=dl;if(i!==null)throw i}}function $s(i,l,u,d){Eh=!1;var y=i.updateQueue;yi=!1;var b=y.firstBaseUpdate,k=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var P=z,X=P.next;P.next=null,k===null?b=X:k.next=X,k=P;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,z=ne.lastBaseUpdate,z!==k&&(z===null?ne.firstBaseUpdate=X:z.next=X,ne.lastBaseUpdate=P))}if(b!==null){var le=y.baseState;k=0,ne=X=P=null,z=b;do{var J=z.lane&-536870913,ee=J!==z.lane;if(ee?(ze&J)===J:(d&J)===J){J!==0&&J===fl&&(Eh=!0),ne!==null&&(ne=ne.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var ve=i,Ce=z;J=l;var Ze=u;switch(Ce.tag){case 1:if(ve=Ce.payload,typeof ve=="function"){le=ve.call(Ze,le,J);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ce.payload,J=typeof ve=="function"?ve.call(Ze,le,J):ve,J==null)break e;le=p({},le,J);break e;case 2:yi=!0}}J=z.callback,J!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=y.callbacks,ee===null?y.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ne===null?(X=ne=ee,P=le):ne=ne.next=ee,k|=J;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;ee=z,z=ee.next,ee.next=null,y.lastBaseUpdate=ee,y.shared.pending=null}}while(!0);ne===null&&(P=le),y.baseState=P,y.firstBaseUpdate=X,y.lastBaseUpdate=ne,b===null&&(y.shared.lanes=0),Ci|=k,i.lanes=k,i.memoizedState=le}}function _x(i,l){if(typeof i!="function")throw Error(a(191,i));i.call(l)}function wx(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)_x(u[i],l)}var pl=U(null),Qu=U(0);function Sx(i,l){i=$r,W(Qu,i),W(pl,l),$r=i|l.baseLanes}function Th(){W(Qu,$r),W(pl,pl.current)}function jh(){$r=Qu.current,Z(pl),Z(Qu)}var dn=U(null),Tn=null;function bi(i){var l=i.alternate;W(ht,ht.current&1),W(dn,i),Tn===null&&(l===null||pl.current!==null||l.memoizedState!==null)&&(Tn=i)}function Ah(i){W(ht,ht.current),W(dn,i),Tn===null&&(Tn=i)}function Cx(i){i.tag===22?(W(ht,ht.current),W(dn,i),Tn===null&&(Tn=i)):_i()}function _i(){W(ht,ht.current),W(dn,dn.current)}function hn(i){Z(dn),Tn===i&&(Tn=null),Z(ht)}var ht=U(0);function Zu(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Lg(u)||$g(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var jr=0,Ee=null,Xe=null,mt=null,Ju=!1,ml=!1,da=!1,Wu=0,Us=0,yl=null,O5=0;function ut(){throw Error(a(321))}function Mh(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!cn(i[u],l[u]))return!1;return!0}function Dh(i,l,u,d,y,b){return jr=b,Ee=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,L.H=i===null||i.memoizedState===null?s1:Yh,da=!1,b=u(d,y),da=!1,ml&&(b=kx(l,u,d,y)),Nx(i),b}function Nx(i){L.H=Ps;var l=Xe!==null&&Xe.next!==null;if(jr=0,mt=Xe=Ee=null,Ju=!1,Us=0,yl=null,l)throw Error(a(300));i===null||yt||(i=i.dependencies,i!==null&&qu(i)&&(yt=!0))}function kx(i,l,u,d){Ee=i;var y=0;do{if(ml&&(yl=null),Us=0,ml=!1,25<=y)throw Error(a(301));if(y+=1,mt=Xe=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}L.H=o1,b=l(u,d)}while(ml);return b}function z5(){var i=L.H,l=i.useState()[0];return l=typeof l.then=="function"?Bs(l):l,i=i.useState()[0],(Xe!==null?Xe.memoizedState:null)!==i&&(Ee.flags|=1024),l}function Oh(){var i=Wu!==0;return Wu=0,i}function zh(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function Rh(i){if(Ju){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ju=!1}jr=0,mt=Xe=Ee=null,ml=!1,Us=Wu=0,yl=null}function Ft(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ee.memoizedState=mt=i:mt=mt.next=i,mt}function gt(){if(Xe===null){var i=Ee.alternate;i=i!==null?i.memoizedState:null}else i=Xe.next;var l=mt===null?Ee.memoizedState:mt.next;if(l!==null)mt=l,Xe=i;else{if(i===null)throw Ee.alternate===null?Error(a(467)):Error(a(310));Xe=i,i={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},mt===null?Ee.memoizedState=mt=i:mt=mt.next=i}return mt}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bs(i){var l=Us;return Us+=1,yl===null&&(yl=[]),i=mx(yl,i,l),l=Ee,(mt===null?l.memoizedState:mt.next)===null&&(l=l.alternate,L.H=l===null||l.memoizedState===null?s1:Yh),i}function tc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Bs(i);if(i.$$typeof===T)return Dt(i)}throw Error(a(438,String(i)))}function Lh(i){var l=null,u=Ee.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var d=Ee.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=ec(),Ee.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),d=0;d<i;d++)u[d]=H;return l.index++,u}function Ar(i,l){return typeof l=="function"?l(i):l}function nc(i){var l=gt();return $h(l,Xe,i)}function $h(i,l,u){var d=i.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=u;var y=i.baseQueue,b=d.pending;if(b!==null){if(y!==null){var k=y.next;y.next=b.next,b.next=k}l.baseQueue=y=b,d.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{l=y.next;var z=k=null,P=null,X=l,ne=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(ze&le)===le:(jr&le)===le){var J=X.revertLane;if(J===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===fl&&(ne=!0);else if((jr&J)===J){X=X.next,J===fl&&(ne=!0);continue}else le={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(z=P=le,k=b):P=P.next=le,Ee.lanes|=J,Ci|=J;le=X.action,da&&u(b,le),b=X.hasEagerState?X.eagerState:u(b,le)}else J={lane:le,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},P===null?(z=P=J,k=b):P=P.next=J,Ee.lanes|=le,Ci|=le;X=X.next}while(X!==null&&X!==l);if(P===null?k=b:P.next=z,!cn(b,i.memoizedState)&&(yt=!0,ne&&(u=dl,u!==null)))throw u;i.memoizedState=b,i.baseState=k,i.baseQueue=P,d.lastRenderedState=b}return y===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function Uh(i){var l=gt(),u=l.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var d=u.dispatch,y=u.pending,b=l.memoizedState;if(y!==null){u.pending=null;var k=y=y.next;do b=i(b,k.action),k=k.next;while(k!==y);cn(b,l.memoizedState)||(yt=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),u.lastRenderedState=b}return[b,d]}function Ex(i,l,u){var d=Ee,y=gt(),b=Le;if(b){if(u===void 0)throw Error(a(407));u=u()}else u=l();var k=!cn((Xe||y).memoizedState,u);if(k&&(y.memoizedState=u,yt=!0),y=y.queue,Ph(Ax.bind(null,d,y,i),[i]),y.getSnapshot!==l||k||mt!==null&&mt.memoizedState.tag&1){if(d.flags|=2048,xl(9,{destroy:void 0},jx.bind(null,d,y,u,l),null),We===null)throw Error(a(349));b||(jr&127)!==0||Tx(d,l,u)}return u}function Tx(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Ee.updateQueue,l===null?(l=ec(),Ee.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function jx(i,l,u,d){l.value=u,l.getSnapshot=d,Mx(l)&&Dx(i)}function Ax(i,l,u){return u(function(){Mx(l)&&Dx(i)})}function Mx(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!cn(i,u)}catch{return!0}}function Dx(i){var l=ra(i,2);l!==null&&en(l,i,2)}function Bh(i){var l=Ft();if(typeof i=="function"){var u=i;if(i=u(),da){ci(!0);try{u()}finally{ci(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:i},l}function Ox(i,l,u,d){return i.baseState=u,$h(i,Xe,typeof d=="function"?d:Ar)}function R5(i,l,u,d,y){if(ac(i))throw Error(a(485));if(i=l.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};L.T!==null?u(!0):b.isTransition=!1,d(b),u=l.pending,u===null?(b.next=l.pending=b,zx(l,b)):(b.next=u.next,l.pending=u.next=b)}}function zx(i,l){var u=l.action,d=l.payload,y=i.state;if(l.isTransition){var b=L.T,k={};L.T=k;try{var z=u(y,d),P=L.S;P!==null&&P(k,z),Rx(i,l,z)}catch(X){Hh(i,l,X)}finally{b!==null&&k.types!==null&&(b.types=k.types),L.T=b}}else try{b=u(y,d),Rx(i,l,b)}catch(X){Hh(i,l,X)}}function Rx(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Lx(i,l,d)},function(d){return Hh(i,l,d)}):Lx(i,l,u)}function Lx(i,l,u){l.status="fulfilled",l.value=u,$x(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,zx(i,u)))}function Hh(i,l,u){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=u,$x(l),l=l.next;while(l!==d)}i.action=null}function $x(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function Ux(i,l){return l}function Bx(i,l){if(Le){var u=We.formState;if(u!==null){e:{var d=Ee;if(Le){if(nt){t:{for(var y=nt,b=En;y.nodeType!==8;){if(!b){y=null;break t}if(y=jn(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){nt=jn(y.nextSibling),d=y.data==="F!";break e}}pi(d)}d=!1}d&&(l=u[0])}}return u=Ft(),u.memoizedState=u.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ux,lastRenderedState:l},u.queue=d,u=i1.bind(null,Ee,d),d.dispatch=u,d=Bh(!1),b=Ih.bind(null,Ee,!1,d.queue),d=Ft(),y={state:l,dispatch:null,action:i,pending:null},d.queue=y,u=R5.bind(null,Ee,y,b,u),y.dispatch=u,d.memoizedState=i,[l,u,!1]}function Hx(i){var l=gt();return Px(l,Xe,i)}function Px(i,l,u){if(l=$h(i,l,Ux)[0],i=nc(Ar)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=Bs(l)}catch(k){throw k===hl?Iu:k}else d=l;l=gt();var y=l.queue,b=y.dispatch;return u!==l.memoizedState&&(Ee.flags|=2048,xl(9,{destroy:void 0},L5.bind(null,y,u),null)),[d,b,i]}function L5(i,l){i.action=l}function Fx(i){var l=gt(),u=Xe;if(u!==null)return Px(l,u,i);gt(),l=l.memoizedState,u=gt();var d=u.queue.dispatch;return u.memoizedState=i,[l,d,!1]}function xl(i,l,u,d){return i={tag:i,create:u,deps:d,inst:l,next:null},l=Ee.updateQueue,l===null&&(l=ec(),Ee.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,l.lastEffect=i),i}function qx(){return gt().memoizedState}function rc(i,l,u,d){var y=Ft();Ee.flags|=i,y.memoizedState=xl(1|l,{destroy:void 0},u,d===void 0?null:d)}function ic(i,l,u,d){var y=gt();d=d===void 0?null:d;var b=y.memoizedState.inst;Xe!==null&&d!==null&&Mh(d,Xe.memoizedState.deps)?y.memoizedState=xl(l,b,u,d):(Ee.flags|=i,y.memoizedState=xl(1|l,b,u,d))}function Gx(i,l){rc(8390656,8,i,l)}function Ph(i,l){ic(2048,8,i,l)}function $5(i){Ee.flags|=4;var l=Ee.updateQueue;if(l===null)l=ec(),Ee.updateQueue=l,l.events=[i];else{var u=l.events;u===null?l.events=[i]:u.push(i)}}function Kx(i){var l=gt().memoizedState;return $5({ref:l,nextImpl:i}),function(){if((Pe&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}function Ix(i,l){return ic(4,2,i,l)}function Yx(i,l){return ic(4,4,i,l)}function Vx(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Xx(i,l,u){u=u!=null?u.concat([i]):null,ic(4,4,Vx.bind(null,l,i),u)}function Fh(){}function Qx(i,l){var u=gt();l=l===void 0?null:l;var d=u.memoizedState;return l!==null&&Mh(l,d[1])?d[0]:(u.memoizedState=[i,l],i)}function Zx(i,l){var u=gt();l=l===void 0?null:l;var d=u.memoizedState;if(l!==null&&Mh(l,d[1]))return d[0];if(d=i(),da){ci(!0);try{i()}finally{ci(!1)}}return u.memoizedState=[d,l],d}function qh(i,l,u){return u===void 0||(jr&1073741824)!==0&&(ze&261930)===0?i.memoizedState=l:(i.memoizedState=u,i=J1(),Ee.lanes|=i,Ci|=i,u)}function Jx(i,l,u,d){return cn(u,l)?u:pl.current!==null?(i=qh(i,u,d),cn(i,l)||(yt=!0),i):(jr&42)===0||(jr&1073741824)!==0&&(ze&261930)===0?(yt=!0,i.memoizedState=u):(i=J1(),Ee.lanes|=i,Ci|=i,l)}function Wx(i,l,u,d,y){var b=Y.p;Y.p=b!==0&&8>b?b:8;var k=L.T,z={};L.T=z,Ih(i,!1,l,u);try{var P=y(),X=L.S;if(X!==null&&X(z,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ne=D5(P,d);Hs(i,l,ne,mn(i))}else Hs(i,l,d,mn(i))}catch(le){Hs(i,l,{then:function(){},status:"rejected",reason:le},mn())}finally{Y.p=b,k!==null&&z.types!==null&&(k.types=z.types),L.T=k}}function U5(){}function Gh(i,l,u,d){if(i.tag!==5)throw Error(a(476));var y=e1(i).queue;Wx(i,y,l,se,u===null?U5:function(){return t1(i),u(d)})}function e1(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:se},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function t1(i){var l=e1(i);l.next===null&&(l=i.alternate.memoizedState),Hs(i,l.next.queue,{},mn())}function Kh(){return Dt(ro)}function n1(){return gt().memoizedState}function r1(){return gt().memoizedState}function B5(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=mn();i=xi(u);var d=vi(l,i,u);d!==null&&(en(d,l,u),Rs(d,l,u)),l={cache:bh()},i.payload=l;return}l=l.return}}function H5(i,l,u){var d=mn();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ac(i)?a1(l,u):(u=uh(i,l,u,d),u!==null&&(en(u,i,d),l1(u,l,d)))}function i1(i,l,u){var d=mn();Hs(i,l,u,d)}function Hs(i,l,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(ac(i))a1(l,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var k=l.lastRenderedState,z=b(k,u);if(y.hasEagerState=!0,y.eagerState=z,cn(z,k))return Bu(i,l,y,0),We===null&&Uu(),!1}catch{}finally{}if(u=uh(i,l,y,d),u!==null)return en(u,i,d),l1(u,l,d),!0}return!1}function Ih(i,l,u,d){if(d={lane:2,revertLane:Cg(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ac(i)){if(l)throw Error(a(479))}else l=uh(i,u,d,2),l!==null&&en(l,i,2)}function ac(i){var l=i.alternate;return i===Ee||l!==null&&l===Ee}function a1(i,l){ml=Ju=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function l1(i,l,u){if((u&4194048)!==0){var d=l.lanes;d&=i.pendingLanes,u|=d,l.lanes=u,fy(i,u)}}var Ps={readContext:Dt,use:tc,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};Ps.useEffectEvent=ut;var s1={readContext:Dt,use:tc,useCallback:function(i,l){return Ft().memoizedState=[i,l===void 0?null:l],i},useContext:Dt,useEffect:Gx,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,rc(4194308,4,Vx.bind(null,l,i),u)},useLayoutEffect:function(i,l){return rc(4194308,4,i,l)},useInsertionEffect:function(i,l){rc(4,2,i,l)},useMemo:function(i,l){var u=Ft();l=l===void 0?null:l;var d=i();if(da){ci(!0);try{i()}finally{ci(!1)}}return u.memoizedState=[d,l],d},useReducer:function(i,l,u){var d=Ft();if(u!==void 0){var y=u(l);if(da){ci(!0);try{u(l)}finally{ci(!1)}}}else y=l;return d.memoizedState=d.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},d.queue=i,i=i.dispatch=H5.bind(null,Ee,i),[d.memoizedState,i]},useRef:function(i){var l=Ft();return i={current:i},l.memoizedState=i},useState:function(i){i=Bh(i);var l=i.queue,u=i1.bind(null,Ee,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:Fh,useDeferredValue:function(i,l){var u=Ft();return qh(u,i,l)},useTransition:function(){var i=Bh(!1);return i=Wx.bind(null,Ee,i.queue,!0,!1),Ft().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var d=Ee,y=Ft();if(Le){if(u===void 0)throw Error(a(407));u=u()}else{if(u=l(),We===null)throw Error(a(349));(ze&127)!==0||Tx(d,l,u)}y.memoizedState=u;var b={value:u,getSnapshot:l};return y.queue=b,Gx(Ax.bind(null,d,b,i),[i]),d.flags|=2048,xl(9,{destroy:void 0},jx.bind(null,d,b,u,l),null),u},useId:function(){var i=Ft(),l=We.identifierPrefix;if(Le){var u=lr,d=ar;u=(d&~(1<<32-un(d)-1)).toString(32)+u,l="_"+l+"R_"+u,u=Wu++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=O5++,l="_"+l+"r_"+u.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:Kh,useFormState:Bx,useActionState:Bx,useOptimistic:function(i){var l=Ft();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Ih.bind(null,Ee,!0,u),u.dispatch=l,[i,l]},useMemoCache:Lh,useCacheRefresh:function(){return Ft().memoizedState=B5.bind(null,Ee)},useEffectEvent:function(i){var l=Ft(),u={impl:i};return l.memoizedState=u,function(){if((Pe&2)!==0)throw Error(a(440));return u.impl.apply(void 0,arguments)}}},Yh={readContext:Dt,use:tc,useCallback:Qx,useContext:Dt,useEffect:Ph,useImperativeHandle:Xx,useInsertionEffect:Ix,useLayoutEffect:Yx,useMemo:Zx,useReducer:nc,useRef:qx,useState:function(){return nc(Ar)},useDebugValue:Fh,useDeferredValue:function(i,l){var u=gt();return Jx(u,Xe.memoizedState,i,l)},useTransition:function(){var i=nc(Ar)[0],l=gt().memoizedState;return[typeof i=="boolean"?i:Bs(i),l]},useSyncExternalStore:Ex,useId:n1,useHostTransitionStatus:Kh,useFormState:Hx,useActionState:Hx,useOptimistic:function(i,l){var u=gt();return Ox(u,Xe,i,l)},useMemoCache:Lh,useCacheRefresh:r1};Yh.useEffectEvent=Kx;var o1={readContext:Dt,use:tc,useCallback:Qx,useContext:Dt,useEffect:Ph,useImperativeHandle:Xx,useInsertionEffect:Ix,useLayoutEffect:Yx,useMemo:Zx,useReducer:Uh,useRef:qx,useState:function(){return Uh(Ar)},useDebugValue:Fh,useDeferredValue:function(i,l){var u=gt();return Xe===null?qh(u,i,l):Jx(u,Xe.memoizedState,i,l)},useTransition:function(){var i=Uh(Ar)[0],l=gt().memoizedState;return[typeof i=="boolean"?i:Bs(i),l]},useSyncExternalStore:Ex,useId:n1,useHostTransitionStatus:Kh,useFormState:Fx,useActionState:Fx,useOptimistic:function(i,l){var u=gt();return Xe!==null?Ox(u,Xe,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Lh,useCacheRefresh:r1};o1.useEffectEvent=Kx;function Vh(i,l,u,d){l=i.memoizedState,u=u(d,l),u=u==null?l:p({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Xh={enqueueSetState:function(i,l,u){i=i._reactInternals;var d=mn(),y=xi(d);y.payload=l,u!=null&&(y.callback=u),l=vi(i,y,d),l!==null&&(en(l,i,d),Rs(l,i,d))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var d=mn(),y=xi(d);y.tag=1,y.payload=l,u!=null&&(y.callback=u),l=vi(i,y,d),l!==null&&(en(l,i,d),Rs(l,i,d))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=mn(),d=xi(u);d.tag=2,l!=null&&(d.callback=l),l=vi(i,d,u),l!==null&&(en(l,i,u),Rs(l,i,u))}};function u1(i,l,u,d,y,b,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,b,k):l.prototype&&l.prototype.isPureReactComponent?!Es(u,d)||!Es(y,b):!0}function c1(i,l,u,d){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,d),l.state!==i&&Xh.enqueueReplaceState(l,l.state,null)}function ha(i,l){var u=l;if("ref"in l){u={};for(var d in l)d!=="ref"&&(u[d]=l[d])}if(i=i.defaultProps){u===l&&(u=p({},u));for(var y in i)u[y]===void 0&&(u[y]=i[y])}return u}function f1(i){$u(i)}function d1(i){console.error(i)}function h1(i){$u(i)}function lc(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function g1(i,l,u){try{var d=i.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Qh(i,l,u){return u=xi(u),u.tag=3,u.payload={element:null},u.callback=function(){lc(i,l)},u}function p1(i){return i=xi(i),i.tag=3,i}function m1(i,l,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;i.payload=function(){return y(b)},i.callback=function(){g1(l,u,d)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){g1(l,u,d),typeof y!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var z=d.stack;this.componentDidCatch(d.value,{componentStack:z!==null?z:""})})}function P5(i,l,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=u.alternate,l!==null&&cl(l,u,y,!0),u=dn.current,u!==null){switch(u.tag){case 31:case 13:return Tn===null?xc():u.alternate===null&&ct===0&&(ct=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===Yu?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([d]):l.add(d),_g(i,d,y)),!1;case 22:return u.flags|=65536,d===Yu?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([d]):u.add(d)),_g(i,d,y)),!1}throw Error(a(435,u.tag))}return _g(i,d,y),xc(),!1}if(Le)return l=dn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,d!==ph&&(i=Error(a(422),{cause:d}),As(Cn(i,u)))):(d!==ph&&(l=Error(a(423),{cause:d}),As(Cn(l,u))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,d=Cn(d,u),y=Qh(i.stateNode,d,y),kh(i,y),ct!==4&&(ct=2)),!1;var b=Error(a(520),{cause:d});if(b=Cn(b,u),Xs===null?Xs=[b]:Xs.push(b),ct!==4&&(ct=2),l===null)return!0;d=Cn(d,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=y&-y,u.lanes|=i,i=Qh(u.stateNode,d,i),kh(u,i),!1;case 1:if(l=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ni===null||!Ni.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=p1(y),m1(y,i,u,d),kh(u,y),!1}u=u.return}while(u!==null);return!1}var Zh=Error(a(461)),yt=!1;function Ot(i,l,u,d){l.child=i===null?bx(l,null,u,d):fa(l,i.child,u,d)}function y1(i,l,u,d,y){u=u.render;var b=l.ref;if("ref"in d){var k={};for(var z in d)z!=="ref"&&(k[z]=d[z])}else k=d;return sa(l),d=Dh(i,l,u,k,b,y),z=Oh(),i!==null&&!yt?(zh(i,l,y),Mr(i,l,y)):(Le&&z&&hh(l),l.flags|=1,Ot(i,l,d,y),l.child)}function x1(i,l,u,d,y){if(i===null){var b=u.type;return typeof b=="function"&&!ch(b)&&b.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=b,v1(i,l,b,d,y)):(i=Pu(u.type,null,d,l,l.mode,y),i.ref=l.ref,i.return=l,l.child=i)}if(b=i.child,!ag(i,y)){var k=b.memoizedProps;if(u=u.compare,u=u!==null?u:Es,u(k,d)&&i.ref===l.ref)return Mr(i,l,y)}return l.flags|=1,i=Nr(b,d),i.ref=l.ref,i.return=l,l.child=i}function v1(i,l,u,d,y){if(i!==null){var b=i.memoizedProps;if(Es(b,d)&&i.ref===l.ref)if(yt=!1,l.pendingProps=d=b,ag(i,y))(i.flags&131072)!==0&&(yt=!0);else return l.lanes=i.lanes,Mr(i,l,y)}return Jh(i,l,u,d,y)}function b1(i,l,u,d){var y=d.children,b=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(d=l.child=i.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~b}else d=0,l.child=null;return _1(i,l,b,u,d)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ku(l,b!==null?b.cachePool:null),b!==null?Sx(l,b):Th(),Cx(l);else return d=l.lanes=536870912,_1(i,l,b!==null?b.baseLanes|u:u,u,d)}else b!==null?(Ku(l,b.cachePool),Sx(l,b),_i(),l.memoizedState=null):(i!==null&&Ku(l,null),Th(),_i());return Ot(i,l,y,u),l.child}function Fs(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function _1(i,l,u,d,y){var b=wh();return b=b===null?null:{parent:pt._currentValue,pool:b},l.memoizedState={baseLanes:u,cachePool:b},i!==null&&Ku(l,null),Th(),Cx(l),i!==null&&cl(i,l,d,!0),l.childLanes=y,null}function sc(i,l){return l=uc({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function w1(i,l,u){return fa(l,i.child,null,u),i=sc(l,l.pendingProps),i.flags|=2,hn(l),l.memoizedState=null,i}function F5(i,l,u){var d=l.pendingProps,y=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(Le){if(d.mode==="hidden")return i=sc(l,d),l.lanes=536870912,Fs(null,i);if(Ah(l),(i=nt)?(i=zv(i,En),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:hi!==null?{id:ar,overflow:lr}:null,retryLane:536870912,hydrationErrors:null},u=ax(i),u.return=l,l.child=u,Mt=l,nt=null)):i=null,i===null)throw pi(l);return l.lanes=536870912,null}return sc(l,d)}var b=i.memoizedState;if(b!==null){var k=b.dehydrated;if(Ah(l),y)if(l.flags&256)l.flags&=-257,l=w1(i,l,u);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(a(558));else if(yt||cl(i,l,u,!1),y=(u&i.childLanes)!==0,yt||y){if(d=We,d!==null&&(k=dy(d,u),k!==0&&k!==b.retryLane))throw b.retryLane=k,ra(i,k),en(d,i,k),Zh;xc(),l=w1(i,l,u)}else i=b.treeContext,nt=jn(k.nextSibling),Mt=l,Le=!0,gi=null,En=!1,i!==null&&ox(l,i),l=sc(l,d),l.flags|=4096;return l}return i=Nr(i.child,{mode:d.mode,children:d.children}),i.ref=l.ref,l.child=i,i.return=l,i}function oc(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function Jh(i,l,u,d,y){return sa(l),u=Dh(i,l,u,d,void 0,y),d=Oh(),i!==null&&!yt?(zh(i,l,y),Mr(i,l,y)):(Le&&d&&hh(l),l.flags|=1,Ot(i,l,u,y),l.child)}function S1(i,l,u,d,y,b){return sa(l),l.updateQueue=null,u=kx(l,d,u,y),Nx(i),d=Oh(),i!==null&&!yt?(zh(i,l,b),Mr(i,l,b)):(Le&&d&&hh(l),l.flags|=1,Ot(i,l,u,b),l.child)}function C1(i,l,u,d,y){if(sa(l),l.stateNode===null){var b=ll,k=u.contextType;typeof k=="object"&&k!==null&&(b=Dt(k)),b=new u(d,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Xh,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=d,b.state=l.memoizedState,b.refs={},Ch(l),k=u.contextType,b.context=typeof k=="object"&&k!==null?Dt(k):ll,b.state=l.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(Vh(l,u,k,d),b.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&Xh.enqueueReplaceState(b,b.state,null),$s(l,d,b,y),Ls(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(i===null){b=l.stateNode;var z=l.memoizedProps,P=ha(u,z);b.props=P;var X=b.context,ne=u.contextType;k=ll,typeof ne=="object"&&ne!==null&&(k=Dt(ne));var le=u.getDerivedStateFromProps;ne=typeof le=="function"||typeof b.getSnapshotBeforeUpdate=="function",z=l.pendingProps!==z,ne||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(z||X!==k)&&c1(l,b,d,k),yi=!1;var J=l.memoizedState;b.state=J,$s(l,d,b,y),Ls(),X=l.memoizedState,z||J!==X||yi?(typeof le=="function"&&(Vh(l,u,le,d),X=l.memoizedState),(P=yi||u1(l,u,P,d,J,X,k))?(ne||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=X),b.props=d,b.state=X,b.context=k,d=P):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{b=l.stateNode,Nh(i,l),k=l.memoizedProps,ne=ha(u,k),b.props=ne,le=l.pendingProps,J=b.context,X=u.contextType,P=ll,typeof X=="object"&&X!==null&&(P=Dt(X)),z=u.getDerivedStateFromProps,(X=typeof z=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==le||J!==P)&&c1(l,b,d,P),yi=!1,J=l.memoizedState,b.state=J,$s(l,d,b,y),Ls();var ee=l.memoizedState;k!==le||J!==ee||yi||i!==null&&i.dependencies!==null&&qu(i.dependencies)?(typeof z=="function"&&(Vh(l,u,z,d),ee=l.memoizedState),(ne=yi||u1(l,u,ne,d,J,ee,P)||i!==null&&i.dependencies!==null&&qu(i.dependencies))?(X||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ee,P),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ee,P)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===i.memoizedProps&&J===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&J===i.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=ee),b.props=d,b.state=ee,b.context=P,d=ne):(typeof b.componentDidUpdate!="function"||k===i.memoizedProps&&J===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&J===i.memoizedState||(l.flags|=1024),d=!1)}return b=d,oc(i,l),d=(l.flags&128)!==0,b||d?(b=l.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,i!==null&&d?(l.child=fa(l,i.child,null,y),l.child=fa(l,null,u,y)):Ot(i,l,u,y),l.memoizedState=b.state,i=l.child):i=Mr(i,l,y),i}function N1(i,l,u,d){return aa(),l.flags|=256,Ot(i,l,u,d),l.child}var Wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eg(i){return{baseLanes:i,cachePool:gx()}}function tg(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=pn),i}function k1(i,l,u){var d=l.pendingProps,y=!1,b=(l.flags&128)!==0,k;if((k=b)||(k=i!==null&&i.memoizedState===null?!1:(ht.current&2)!==0),k&&(y=!0,l.flags&=-129),k=(l.flags&32)!==0,l.flags&=-33,i===null){if(Le){if(y?bi(l):_i(),(i=nt)?(i=zv(i,En),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:hi!==null?{id:ar,overflow:lr}:null,retryLane:536870912,hydrationErrors:null},u=ax(i),u.return=l,l.child=u,Mt=l,nt=null)):i=null,i===null)throw pi(l);return $g(i)?l.lanes=32:l.lanes=536870912,null}var z=d.children;return d=d.fallback,y?(_i(),y=l.mode,z=uc({mode:"hidden",children:z},y),d=ia(d,y,u,null),z.return=l,d.return=l,z.sibling=d,l.child=z,d=l.child,d.memoizedState=eg(u),d.childLanes=tg(i,k,u),l.memoizedState=Wh,Fs(null,d)):(bi(l),ng(l,z))}var P=i.memoizedState;if(P!==null&&(z=P.dehydrated,z!==null)){if(b)l.flags&256?(bi(l),l.flags&=-257,l=rg(i,l,u)):l.memoizedState!==null?(_i(),l.child=i.child,l.flags|=128,l=null):(_i(),z=d.fallback,y=l.mode,d=uc({mode:"visible",children:d.children},y),z=ia(z,y,u,null),z.flags|=2,d.return=l,z.return=l,d.sibling=z,l.child=d,fa(l,i.child,null,u),d=l.child,d.memoizedState=eg(u),d.childLanes=tg(i,k,u),l.memoizedState=Wh,l=Fs(null,d));else if(bi(l),$g(z)){if(k=z.nextSibling&&z.nextSibling.dataset,k)var X=k.dgst;k=X,d=Error(a(419)),d.stack="",d.digest=k,As({value:d,source:null,stack:null}),l=rg(i,l,u)}else if(yt||cl(i,l,u,!1),k=(u&i.childLanes)!==0,yt||k){if(k=We,k!==null&&(d=dy(k,u),d!==0&&d!==P.retryLane))throw P.retryLane=d,ra(i,d),en(k,i,d),Zh;Lg(z)||xc(),l=rg(i,l,u)}else Lg(z)?(l.flags|=192,l.child=i.child,l=null):(i=P.treeContext,nt=jn(z.nextSibling),Mt=l,Le=!0,gi=null,En=!1,i!==null&&ox(l,i),l=ng(l,d.children),l.flags|=4096);return l}return y?(_i(),z=d.fallback,y=l.mode,P=i.child,X=P.sibling,d=Nr(P,{mode:"hidden",children:d.children}),d.subtreeFlags=P.subtreeFlags&65011712,X!==null?z=Nr(X,z):(z=ia(z,y,u,null),z.flags|=2),z.return=l,d.return=l,d.sibling=z,l.child=d,Fs(null,d),d=l.child,z=i.child.memoizedState,z===null?z=eg(u):(y=z.cachePool,y!==null?(P=pt._currentValue,y=y.parent!==P?{parent:P,pool:P}:y):y=gx(),z={baseLanes:z.baseLanes|u,cachePool:y}),d.memoizedState=z,d.childLanes=tg(i,k,u),l.memoizedState=Wh,Fs(i.child,d)):(bi(l),u=i.child,i=u.sibling,u=Nr(u,{mode:"visible",children:d.children}),u.return=l,u.sibling=null,i!==null&&(k=l.deletions,k===null?(l.deletions=[i],l.flags|=16):k.push(i)),l.child=u,l.memoizedState=null,u)}function ng(i,l){return l=uc({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function uc(i,l){return i=fn(22,i,null,l),i.lanes=0,i}function rg(i,l,u){return fa(l,i.child,null,u),i=ng(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function E1(i,l,u){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l),xh(i.return,l,u)}function ig(i,l,u,d,y,b){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:b}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=d,k.tail=u,k.tailMode=y,k.treeForkCount=b)}function T1(i,l,u){var d=l.pendingProps,y=d.revealOrder,b=d.tail;d=d.children;var k=ht.current,z=(k&2)!==0;if(z?(k=k&1|2,l.flags|=128):k&=1,W(ht,k),Ot(i,l,d,u),d=Le?js:0,!z&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&E1(i,u,l);else if(i.tag===19)E1(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(u=l.child,y=null;u!==null;)i=u.alternate,i!==null&&Zu(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=l.child,l.child=null):(y=u.sibling,u.sibling=null),ig(l,!1,y,u,b,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=l.child,l.child=null;y!==null;){if(i=y.alternate,i!==null&&Zu(i)===null){l.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}ig(l,!0,u,null,b,d);break;case"together":ig(l,!1,null,null,void 0,d);break;default:l.memoizedState=null}return l.child}function Mr(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),Ci|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(cl(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(a(153));if(l.child!==null){for(i=l.child,u=Nr(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Nr(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function ag(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&qu(i)))}function q5(i,l,u){switch(l.tag){case 3:Ue(l,l.stateNode.containerInfo),mi(l,pt,i.memoizedState.cache),aa();break;case 27:case 5:Yt(l);break;case 4:Ue(l,l.stateNode.containerInfo);break;case 10:mi(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Ah(l),null;break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(bi(l),l.flags|=128,null):(u&l.child.childLanes)!==0?k1(i,l,u):(bi(l),i=Mr(i,l,u),i!==null?i.sibling:null);bi(l);break;case 19:var y=(i.flags&128)!==0;if(d=(u&l.childLanes)!==0,d||(cl(i,l,u,!1),d=(u&l.childLanes)!==0),y){if(d)return T1(i,l,u);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),W(ht,ht.current),d)break;return null;case 22:return l.lanes=0,b1(i,l,u,l.pendingProps);case 24:mi(l,pt,i.memoizedState.cache)}return Mr(i,l,u)}function j1(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)yt=!0;else{if(!ag(i,u)&&(l.flags&128)===0)return yt=!1,q5(i,l,u);yt=(i.flags&131072)!==0}else yt=!1,Le&&(l.flags&1048576)!==0&&sx(l,js,l.index);switch(l.lanes=0,l.tag){case 16:e:{var d=l.pendingProps;if(i=ua(l.elementType),l.type=i,typeof i=="function")ch(i)?(d=ha(i,d),l.tag=1,l=C1(null,l,i,d,u)):(l.tag=0,l=Jh(null,l,i,d,u));else{if(i!=null){var y=i.$$typeof;if(y===j){l.tag=11,l=y1(null,l,i,d,u);break e}else if(y===A){l.tag=14,l=x1(null,l,i,d,u);break e}}throw l=B(i)||i,Error(a(306,l,""))}}return l;case 0:return Jh(i,l,l.type,l.pendingProps,u);case 1:return d=l.type,y=ha(d,l.pendingProps),C1(i,l,d,y,u);case 3:e:{if(Ue(l,l.stateNode.containerInfo),i===null)throw Error(a(387));d=l.pendingProps;var b=l.memoizedState;y=b.element,Nh(i,l),$s(l,d,null,u);var k=l.memoizedState;if(d=k.cache,mi(l,pt,d),d!==b.cache&&vh(l,[pt],u,!0),Ls(),d=k.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:k.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=N1(i,l,d,u);break e}else if(d!==y){y=Cn(Error(a(424)),l),As(y),l=N1(i,l,d,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(nt=jn(i.firstChild),Mt=l,Le=!0,gi=null,En=!0,u=bx(l,null,d,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(aa(),d===y){l=Mr(i,l,u);break e}Ot(i,l,d,u)}l=l.child}return l;case 26:return oc(i,l),i===null?(u=Hv(l.type,null,l.pendingProps,null))?l.memoizedState=u:Le||(u=l.type,i=l.pendingProps,d=Nc(ye.current).createElement(u),d[At]=l,d[Vt]=i,zt(d,u,i),Nt(d),l.stateNode=d):l.memoizedState=Hv(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Yt(l),i===null&&Le&&(d=l.stateNode=$v(l.type,l.pendingProps,ye.current),Mt=l,En=!0,y=nt,ji(l.type)?(Ug=y,nt=jn(d.firstChild)):nt=y),Ot(i,l,l.pendingProps.children,u),oc(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Le&&((y=d=nt)&&(d=vk(d,l.type,l.pendingProps,En),d!==null?(l.stateNode=d,Mt=l,nt=jn(d.firstChild),En=!1,y=!0):y=!1),y||pi(l)),Yt(l),y=l.type,b=l.pendingProps,k=i!==null?i.memoizedProps:null,d=b.children,Og(y,b)?d=null:k!==null&&Og(y,k)&&(l.flags|=32),l.memoizedState!==null&&(y=Dh(i,l,z5,null,null,u),ro._currentValue=y),oc(i,l),Ot(i,l,d,u),l.child;case 6:return i===null&&Le&&((i=u=nt)&&(u=bk(u,l.pendingProps,En),u!==null?(l.stateNode=u,Mt=l,nt=null,i=!0):i=!1),i||pi(l)),null;case 13:return k1(i,l,u);case 4:return Ue(l,l.stateNode.containerInfo),d=l.pendingProps,i===null?l.child=fa(l,null,d,u):Ot(i,l,d,u),l.child;case 11:return y1(i,l,l.type,l.pendingProps,u);case 7:return Ot(i,l,l.pendingProps,u),l.child;case 8:return Ot(i,l,l.pendingProps.children,u),l.child;case 12:return Ot(i,l,l.pendingProps.children,u),l.child;case 10:return d=l.pendingProps,mi(l,l.type,d.value),Ot(i,l,d.children,u),l.child;case 9:return y=l.type._context,d=l.pendingProps.children,sa(l),y=Dt(y),d=d(y),l.flags|=1,Ot(i,l,d,u),l.child;case 14:return x1(i,l,l.type,l.pendingProps,u);case 15:return v1(i,l,l.type,l.pendingProps,u);case 19:return T1(i,l,u);case 31:return F5(i,l,u);case 22:return b1(i,l,u,l.pendingProps);case 24:return sa(l),d=Dt(pt),i===null?(y=wh(),y===null&&(y=We,b=bh(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),l.memoizedState={parent:d,cache:y},Ch(l),mi(l,pt,y)):((i.lanes&u)!==0&&(Nh(i,l),$s(l,null,null,u),Ls()),y=i.memoizedState,b=l.memoizedState,y.parent!==d?(y={parent:d,cache:d},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),mi(l,pt,d)):(d=b.cache,mi(l,pt,d),d!==y.cache&&vh(l,[pt],u,!0))),Ot(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function Dr(i){i.flags|=4}function lg(i,l,u,d,y){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(nv())i.flags|=8192;else throw ca=Yu,Sh}else i.flags&=-16777217}function A1(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Kv(l))if(nv())i.flags|=8192;else throw ca=Yu,Sh}function cc(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?uy():536870912,i.lanes|=l,wl|=l)}function qs(i,l){if(!Le)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function rt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(l)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=d,i.childLanes=u,l}function G5(i,l,u){var d=l.pendingProps;switch(gh(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(l),null;case 1:return rt(l),null;case 3:return u=l.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Tr(pt),Me(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ul(l)?Dr(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,mh())),rt(l),null;case 26:var y=l.type,b=l.memoizedState;return i===null?(Dr(l),b!==null?(rt(l),A1(l,b)):(rt(l),lg(l,y,null,d,u))):b?b!==i.memoizedState?(Dr(l),rt(l),A1(l,b)):(rt(l),l.flags&=-16777217):(i=i.memoizedProps,i!==d&&Dr(l),rt(l),lg(l,y,i,d,u)),null;case 27:if(Qi(l),u=ye.current,y=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==d&&Dr(l);else{if(!d){if(l.stateNode===null)throw Error(a(166));return rt(l),null}i=ae.current,ul(l)?ux(l):(i=$v(y,d,u),l.stateNode=i,Dr(l))}return rt(l),null;case 5:if(Qi(l),y=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==d&&Dr(l);else{if(!d){if(l.stateNode===null)throw Error(a(166));return rt(l),null}if(b=ae.current,ul(l))ux(l);else{var k=Nc(ye.current);switch(b){case 1:b=k.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=k.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=k.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=k.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=k.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?k.createElement("select",{is:d.is}):k.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?k.createElement(y,{is:d.is}):k.createElement(y)}}b[At]=l,b[Vt]=d;e:for(k=l.child;k!==null;){if(k.tag===5||k.tag===6)b.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===l)break e;for(;k.sibling===null;){if(k.return===null||k.return===l)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}l.stateNode=b;e:switch(zt(b,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Dr(l)}}return rt(l),lg(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,u),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==d&&Dr(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(a(166));if(i=ye.current,ul(l)){if(i=l.stateNode,u=l.memoizedProps,d=null,y=Mt,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}i[At]=l,i=!!(i.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||kv(i.nodeValue,u)),i||pi(l,!0)}else i=Nc(i).createTextNode(d),i[At]=l,l.stateNode=i}return rt(l),null;case 31:if(u=l.memoizedState,i===null||i.memoizedState!==null){if(d=ul(l),u!==null){if(i===null){if(!d)throw Error(a(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(557));i[At]=l}else aa(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;rt(l),i=!1}else u=mh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return l.flags&256?(hn(l),l):(hn(l),null);if((l.flags&128)!==0)throw Error(a(558))}return rt(l),null;case 13:if(d=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=ul(l),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(a(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[At]=l}else aa(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;rt(l),y=!1}else y=mh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(hn(l),l):(hn(l),null)}return hn(l),(l.flags&128)!==0?(l.lanes=u,l):(u=d!==null,i=i!==null&&i.memoizedState!==null,u&&(d=l.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)),u!==i&&u&&(l.child.flags|=8192),cc(l,l.updateQueue),rt(l),null);case 4:return Me(),i===null&&Tg(l.stateNode.containerInfo),rt(l),null;case 10:return Tr(l.type),rt(l),null;case 19:if(Z(ht),d=l.memoizedState,d===null)return rt(l),null;if(y=(l.flags&128)!==0,b=d.rendering,b===null)if(y)qs(d,!1);else{if(ct!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(b=Zu(i),b!==null){for(l.flags|=128,qs(d,!1),i=b.updateQueue,l.updateQueue=i,cc(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)ix(u,i),u=u.sibling;return W(ht,ht.current&1|2),Le&&kr(l,d.treeForkCount),l.child}i=i.sibling}d.tail!==null&&sn()>pc&&(l.flags|=128,y=!0,qs(d,!1),l.lanes=4194304)}else{if(!y)if(i=Zu(b),i!==null){if(l.flags|=128,y=!0,i=i.updateQueue,l.updateQueue=i,cc(l,i),qs(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!Le)return rt(l),null}else 2*sn()-d.renderingStartTime>pc&&u!==536870912&&(l.flags|=128,y=!0,qs(d,!1),l.lanes=4194304);d.isBackwards?(b.sibling=l.child,l.child=b):(i=d.last,i!==null?i.sibling=b:l.child=b,d.last=b)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=sn(),i.sibling=null,u=ht.current,W(ht,y?u&1|2:u&1),Le&&kr(l,d.treeForkCount),i):(rt(l),null);case 22:case 23:return hn(l),jh(),d=l.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(u&536870912)!==0&&(l.flags&128)===0&&(rt(l),l.subtreeFlags&6&&(l.flags|=8192)):rt(l),u=l.updateQueue,u!==null&&cc(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==u&&(l.flags|=2048),i!==null&&Z(oa),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Tr(pt),rt(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function K5(i,l){switch(gh(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Tr(pt),Me(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Qi(l),null;case 31:if(l.memoizedState!==null){if(hn(l),l.alternate===null)throw Error(a(340));aa()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(hn(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(a(340));aa()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Z(ht),null;case 4:return Me(),null;case 10:return Tr(l.type),null;case 22:case 23:return hn(l),jh(),i!==null&&Z(oa),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Tr(pt),null;case 25:return null;default:return null}}function M1(i,l){switch(gh(l),l.tag){case 3:Tr(pt),Me();break;case 26:case 27:case 5:Qi(l);break;case 4:Me();break;case 31:l.memoizedState!==null&&hn(l);break;case 13:hn(l);break;case 19:Z(ht);break;case 10:Tr(l.type);break;case 22:case 23:hn(l),jh(),i!==null&&Z(oa);break;case 24:Tr(pt)}}function Gs(i,l){try{var u=l.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&i)===i){d=void 0;var b=u.create,k=u.inst;d=b(),k.destroy=d}u=u.next}while(u!==y)}}catch(z){Ye(l,l.return,z)}}function wi(i,l,u){try{var d=l.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&i)===i){var k=d.inst,z=k.destroy;if(z!==void 0){k.destroy=void 0,y=l;var P=u,X=z;try{X()}catch(ne){Ye(y,P,ne)}}}d=d.next}while(d!==b)}}catch(ne){Ye(l,l.return,ne)}}function D1(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{wx(l,u)}catch(d){Ye(i,i.return,d)}}}function O1(i,l,u){u.props=ha(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(d){Ye(i,l,d)}}function Ks(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof u=="function"?i.refCleanup=u(d):u.current=d}}catch(y){Ye(i,l,y)}}function sr(i,l){var u=i.ref,d=i.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){Ye(i,l,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Ye(i,l,y)}else u.current=null}function z1(i){var l=i.type,u=i.memoizedProps,d=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){Ye(i,i.return,y)}}function sg(i,l,u){try{var d=i.stateNode;hk(d,i.type,u,l),d[Vt]=l}catch(y){Ye(i,i.return,y)}}function R1(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ji(i.type)||i.tag===4}function og(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||R1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ji(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ug(i,l,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Sr));else if(d!==4&&(d===27&&ji(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(ug(i,l,u),i=i.sibling;i!==null;)ug(i,l,u),i=i.sibling}function fc(i,l,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(d!==4&&(d===27&&ji(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(fc(i,l,u),i=i.sibling;i!==null;)fc(i,l,u),i=i.sibling}function L1(i){var l=i.stateNode,u=i.memoizedProps;try{for(var d=i.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);zt(l,d,u),l[At]=i,l[Vt]=u}catch(b){Ye(i,i.return,b)}}var Or=!1,xt=!1,cg=!1,$1=typeof WeakSet=="function"?WeakSet:Set,kt=null;function I5(i,l){if(i=i.containerInfo,Mg=Dc,i=Xy(i),rh(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var k=0,z=-1,P=-1,X=0,ne=0,le=i,J=null;t:for(;;){for(var ee;le!==u||y!==0&&le.nodeType!==3||(z=k+y),le!==b||d!==0&&le.nodeType!==3||(P=k+d),le.nodeType===3&&(k+=le.nodeValue.length),(ee=le.firstChild)!==null;)J=le,le=ee;for(;;){if(le===i)break t;if(J===u&&++X===y&&(z=k),J===b&&++ne===d&&(P=k),(ee=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=ee}u=z===-1||P===-1?null:{start:z,end:P}}else u=null}u=u||{start:0,end:0}}else u=null;for(Dg={focusedElem:i,selectionRange:u},Dc=!1,kt=l;kt!==null;)if(l=kt,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,kt=i;else for(;kt!==null;){switch(l=kt,b=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)y=i[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=l,y=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var ve=ha(u.type,y);i=d.getSnapshotBeforeUpdate(ve,b),d.__reactInternalSnapshotBeforeUpdate=i}catch(Ce){Ye(u,u.return,Ce)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)Rg(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(a(163))}if(i=l.sibling,i!==null){i.return=l.return,kt=i;break}kt=l.return}}function U1(i,l,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Rr(i,u),d&4&&Gs(5,u);break;case 1:if(Rr(i,u),d&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(k){Ye(u,u.return,k)}else{var y=ha(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(y,l,i.__reactInternalSnapshotBeforeUpdate)}catch(k){Ye(u,u.return,k)}}d&64&&D1(u),d&512&&Ks(u,u.return);break;case 3:if(Rr(i,u),d&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{wx(i,l)}catch(k){Ye(u,u.return,k)}}break;case 27:l===null&&d&4&&L1(u);case 26:case 5:Rr(i,u),l===null&&d&4&&z1(u),d&512&&Ks(u,u.return);break;case 12:Rr(i,u);break;case 31:Rr(i,u),d&4&&P1(i,u);break;case 13:Rr(i,u),d&4&&F1(i,u),d&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=tk.bind(null,u),_k(i,u))));break;case 22:if(d=u.memoizedState!==null||Or,!d){l=l!==null&&l.memoizedState!==null||xt,y=Or;var b=xt;Or=d,(xt=l)&&!b?Lr(i,u,(u.subtreeFlags&8772)!==0):Rr(i,u),Or=y,xt=b}break;case 30:break;default:Rr(i,u)}}function B1(i){var l=i.alternate;l!==null&&(i.alternate=null,B1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Hd(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var at=null,Qt=!1;function zr(i,l,u){for(u=u.child;u!==null;)H1(i,l,u),u=u.sibling}function H1(i,l,u){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ps,u)}catch{}switch(u.tag){case 26:xt||sr(u,l),zr(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:xt||sr(u,l);var d=at,y=Qt;ji(u.type)&&(at=u.stateNode,Qt=!1),zr(i,l,u),eo(u.stateNode),at=d,Qt=y;break;case 5:xt||sr(u,l);case 6:if(d=at,y=Qt,at=null,zr(i,l,u),at=d,Qt=y,at!==null)if(Qt)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(u.stateNode)}catch(b){Ye(u,l,b)}else try{at.removeChild(u.stateNode)}catch(b){Ye(u,l,b)}break;case 18:at!==null&&(Qt?(i=at,Dv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Al(i)):Dv(at,u.stateNode));break;case 4:d=at,y=Qt,at=u.stateNode.containerInfo,Qt=!0,zr(i,l,u),at=d,Qt=y;break;case 0:case 11:case 14:case 15:wi(2,u,l),xt||wi(4,u,l),zr(i,l,u);break;case 1:xt||(sr(u,l),d=u.stateNode,typeof d.componentWillUnmount=="function"&&O1(u,l,d)),zr(i,l,u);break;case 21:zr(i,l,u);break;case 22:xt=(d=xt)||u.memoizedState!==null,zr(i,l,u),xt=d;break;default:zr(i,l,u)}}function P1(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Al(i)}catch(u){Ye(l,l.return,u)}}}function F1(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Al(i)}catch(u){Ye(l,l.return,u)}}function Y5(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new $1),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new $1),l;default:throw Error(a(435,i.tag))}}function dc(i,l){var u=Y5(i);l.forEach(function(d){if(!u.has(d)){u.add(d);var y=nk.bind(null,i,d);d.then(y,y)}})}function Zt(i,l){var u=l.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],b=i,k=l,z=k;e:for(;z!==null;){switch(z.tag){case 27:if(ji(z.type)){at=z.stateNode,Qt=!1;break e}break;case 5:at=z.stateNode,Qt=!1;break e;case 3:case 4:at=z.stateNode.containerInfo,Qt=!0;break e}z=z.return}if(at===null)throw Error(a(160));H1(b,k,y),at=null,Qt=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)q1(l,i),l=l.sibling}var qn=null;function q1(i,l){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Zt(l,i),Jt(i),d&4&&(wi(3,i,i.return),Gs(3,i),wi(5,i,i.return));break;case 1:Zt(l,i),Jt(i),d&512&&(xt||u===null||sr(u,u.return)),d&64&&Or&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=qn;if(Zt(l,i),Jt(i),d&512&&(xt||u===null||sr(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=i.memoizedState,u===null)if(d===null)if(i.stateNode===null){e:{d=i.type,u=i.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[xs]||b[At]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),zt(b,d,u),b[At]=i,Nt(b),d=b;break e;case"link":var k=qv("link","href",y).get(d+(u.href||""));if(k){for(var z=0;z<k.length;z++)if(b=k[z],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(z,1);break t}}b=y.createElement(d),zt(b,d,u),y.head.appendChild(b);break;case"meta":if(k=qv("meta","content",y).get(d+(u.content||""))){for(z=0;z<k.length;z++)if(b=k[z],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(z,1);break t}}b=y.createElement(d),zt(b,d,u),y.head.appendChild(b);break;default:throw Error(a(468,d))}b[At]=i,Nt(b),d=b}i.stateNode=d}else Gv(y,i.type,i.stateNode);else i.stateNode=Fv(y,d,i.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?Gv(y,i.type,i.stateNode):Fv(y,d,i.memoizedProps)):d===null&&i.stateNode!==null&&sg(i,i.memoizedProps,u.memoizedProps)}break;case 27:Zt(l,i),Jt(i),d&512&&(xt||u===null||sr(u,u.return)),u!==null&&d&4&&sg(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Zt(l,i),Jt(i),d&512&&(xt||u===null||sr(u,u.return)),i.flags&32){y=i.stateNode;try{Wa(y,"")}catch(ve){Ye(i,i.return,ve)}}d&4&&i.stateNode!=null&&(y=i.memoizedProps,sg(i,y,u!==null?u.memoizedProps:y)),d&1024&&(cg=!0);break;case 6:if(Zt(l,i),Jt(i),d&4){if(i.stateNode===null)throw Error(a(162));d=i.memoizedProps,u=i.stateNode;try{u.nodeValue=d}catch(ve){Ye(i,i.return,ve)}}break;case 3:if(Tc=null,y=qn,qn=kc(l.containerInfo),Zt(l,i),qn=y,Jt(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Al(l.containerInfo)}catch(ve){Ye(i,i.return,ve)}cg&&(cg=!1,G1(i));break;case 4:d=qn,qn=kc(i.stateNode.containerInfo),Zt(l,i),Jt(i),qn=d;break;case 12:Zt(l,i),Jt(i);break;case 31:Zt(l,i),Jt(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,dc(i,d)));break;case 13:Zt(l,i),Jt(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(gc=sn()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,dc(i,d)));break;case 22:y=i.memoizedState!==null;var P=u!==null&&u.memoizedState!==null,X=Or,ne=xt;if(Or=X||y,xt=ne||P,Zt(l,i),xt=ne,Or=X,Jt(i),d&8192)e:for(l=i.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(u===null||P||Or||xt||ga(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){P=u=l;try{if(b=P.stateNode,y)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{z=P.stateNode;var le=P.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;z.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ve){Ye(P,P.return,ve)}}}else if(l.tag===6){if(u===null){P=l;try{P.stateNode.nodeValue=y?"":P.memoizedProps}catch(ve){Ye(P,P.return,ve)}}}else if(l.tag===18){if(u===null){P=l;try{var ee=P.stateNode;y?Ov(ee,!0):Ov(P.stateNode,!1)}catch(ve){Ye(P,P.return,ve)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=i.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,dc(i,u))));break;case 19:Zt(l,i),Jt(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,dc(i,d)));break;case 30:break;case 21:break;default:Zt(l,i),Jt(i)}}function Jt(i){var l=i.flags;if(l&2){try{for(var u,d=i.return;d!==null;){if(R1(d)){u=d;break}d=d.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var y=u.stateNode,b=og(i);fc(i,b,y);break;case 5:var k=u.stateNode;u.flags&32&&(Wa(k,""),u.flags&=-33);var z=og(i);fc(i,z,k);break;case 3:case 4:var P=u.stateNode.containerInfo,X=og(i);ug(i,X,P);break;default:throw Error(a(161))}}catch(ne){Ye(i,i.return,ne)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function G1(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;G1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Rr(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)U1(i,l.alternate,l),l=l.sibling}function ga(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:wi(4,l,l.return),ga(l);break;case 1:sr(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&O1(l,l.return,u),ga(l);break;case 27:eo(l.stateNode);case 26:case 5:sr(l,l.return),ga(l);break;case 22:l.memoizedState===null&&ga(l);break;case 30:ga(l);break;default:ga(l)}i=i.sibling}}function Lr(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,y=i,b=l,k=b.flags;switch(b.tag){case 0:case 11:case 15:Lr(y,b,u),Gs(4,b);break;case 1:if(Lr(y,b,u),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(X){Ye(d,d.return,X)}if(d=b,y=d.updateQueue,y!==null){var z=d.stateNode;try{var P=y.shared.hiddenCallbacks;if(P!==null)for(y.shared.hiddenCallbacks=null,y=0;y<P.length;y++)_x(P[y],z)}catch(X){Ye(d,d.return,X)}}u&&k&64&&D1(b),Ks(b,b.return);break;case 27:L1(b);case 26:case 5:Lr(y,b,u),u&&d===null&&k&4&&z1(b),Ks(b,b.return);break;case 12:Lr(y,b,u);break;case 31:Lr(y,b,u),u&&k&4&&P1(y,b);break;case 13:Lr(y,b,u),u&&k&4&&F1(y,b);break;case 22:b.memoizedState===null&&Lr(y,b,u),Ks(b,b.return);break;case 30:break;default:Lr(y,b,u)}l=l.sibling}}function fg(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Ms(u))}function dg(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Ms(i))}function Gn(i,l,u,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)K1(i,l,u,d),l=l.sibling}function K1(i,l,u,d){var y=l.flags;switch(l.tag){case 0:case 11:case 15:Gn(i,l,u,d),y&2048&&Gs(9,l);break;case 1:Gn(i,l,u,d);break;case 3:Gn(i,l,u,d),y&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Ms(i)));break;case 12:if(y&2048){Gn(i,l,u,d),i=l.stateNode;try{var b=l.memoizedProps,k=b.id,z=b.onPostCommit;typeof z=="function"&&z(k,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Ye(l,l.return,P)}}else Gn(i,l,u,d);break;case 31:Gn(i,l,u,d);break;case 13:Gn(i,l,u,d);break;case 23:break;case 22:b=l.stateNode,k=l.alternate,l.memoizedState!==null?b._visibility&2?Gn(i,l,u,d):Is(i,l):b._visibility&2?Gn(i,l,u,d):(b._visibility|=2,vl(i,l,u,d,(l.subtreeFlags&10256)!==0||!1)),y&2048&&fg(k,l);break;case 24:Gn(i,l,u,d),y&2048&&dg(l.alternate,l);break;default:Gn(i,l,u,d)}}function vl(i,l,u,d,y){for(y=y&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=i,k=l,z=u,P=d,X=k.flags;switch(k.tag){case 0:case 11:case 15:vl(b,k,z,P,y),Gs(8,k);break;case 23:break;case 22:var ne=k.stateNode;k.memoizedState!==null?ne._visibility&2?vl(b,k,z,P,y):Is(b,k):(ne._visibility|=2,vl(b,k,z,P,y)),y&&X&2048&&fg(k.alternate,k);break;case 24:vl(b,k,z,P,y),y&&X&2048&&dg(k.alternate,k);break;default:vl(b,k,z,P,y)}l=l.sibling}}function Is(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,d=l,y=d.flags;switch(d.tag){case 22:Is(u,d),y&2048&&fg(d.alternate,d);break;case 24:Is(u,d),y&2048&&dg(d.alternate,d);break;default:Is(u,d)}l=l.sibling}}var Ys=8192;function bl(i,l,u){if(i.subtreeFlags&Ys)for(i=i.child;i!==null;)I1(i,l,u),i=i.sibling}function I1(i,l,u){switch(i.tag){case 26:bl(i,l,u),i.flags&Ys&&i.memoizedState!==null&&Ok(u,qn,i.memoizedState,i.memoizedProps);break;case 5:bl(i,l,u);break;case 3:case 4:var d=qn;qn=kc(i.stateNode.containerInfo),bl(i,l,u),qn=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=Ys,Ys=16777216,bl(i,l,u),Ys=d):bl(i,l,u));break;default:bl(i,l,u)}}function Y1(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Vs(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var d=l[u];kt=d,X1(d,i)}Y1(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)V1(i),i=i.sibling}function V1(i){switch(i.tag){case 0:case 11:case 15:Vs(i),i.flags&2048&&wi(9,i,i.return);break;case 3:Vs(i);break;case 12:Vs(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,hc(i)):Vs(i);break;default:Vs(i)}}function hc(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var d=l[u];kt=d,X1(d,i)}Y1(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:wi(8,l,l.return),hc(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,hc(l));break;default:hc(l)}i=i.sibling}}function X1(i,l){for(;kt!==null;){var u=kt;switch(u.tag){case 0:case 11:case 15:wi(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ms(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,kt=d;else e:for(u=i;kt!==null;){d=kt;var y=d.sibling,b=d.return;if(B1(d),d===u){kt=null;break e}if(y!==null){y.return=b,kt=y;break e}kt=b}}}var V5={getCacheForType:function(i){var l=Dt(pt),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u},cacheSignal:function(){return Dt(pt).controller.signal}},X5=typeof WeakMap=="function"?WeakMap:Map,Pe=0,We=null,De=null,ze=0,Ie=0,gn=null,Si=!1,_l=!1,hg=!1,$r=0,ct=0,Ci=0,pa=0,gg=0,pn=0,wl=0,Xs=null,Wt=null,pg=!1,gc=0,Q1=0,pc=1/0,mc=null,Ni=null,bt=0,ki=null,Sl=null,Ur=0,mg=0,yg=null,Z1=null,Qs=0,xg=null;function mn(){return(Pe&2)!==0&&ze!==0?ze&-ze:L.T!==null?Cg():hy()}function J1(){if(pn===0)if((ze&536870912)===0||Le){var i=Cu;Cu<<=1,(Cu&3932160)===0&&(Cu=262144),pn=i}else pn=536870912;return i=dn.current,i!==null&&(i.flags|=32),pn}function en(i,l,u){(i===We&&(Ie===2||Ie===9)||i.cancelPendingCommit!==null)&&(Cl(i,0),Ei(i,ze,pn,!1)),ys(i,u),((Pe&2)===0||i!==We)&&(i===We&&((Pe&2)===0&&(pa|=u),ct===4&&Ei(i,ze,pn,!1)),or(i))}function W1(i,l,u){if((Pe&6)!==0)throw Error(a(327));var d=!u&&(l&127)===0&&(l&i.expiredLanes)===0||ms(i,l),y=d?J5(i,l):bg(i,l,!0),b=d;do{if(y===0){_l&&!d&&Ei(i,l,0,!1);break}else{if(u=i.current.alternate,b&&!Q5(u)){y=bg(i,l,!1),b=!1;continue}if(y===2){if(b=l,i.errorRecoveryDisabledLanes&b)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){l=k;e:{var z=i;y=Xs;var P=z.current.memoizedState.isDehydrated;if(P&&(Cl(z,k).flags|=256),k=bg(z,k,!1),k!==2){if(hg&&!P){z.errorRecoveryDisabledLanes|=b,pa|=b,y=4;break e}b=Wt,Wt=y,b!==null&&(Wt===null?Wt=b:Wt.push.apply(Wt,b))}y=k}if(b=!1,y!==2)continue}}if(y===1){Cl(i,0),Ei(i,l,0,!0);break}e:{switch(d=i,b=y,b){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:Ei(d,l,pn,!Si);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(y=gc+300-sn(),10<y)){if(Ei(d,l,pn,!Si),ku(d,0,!0)!==0)break e;Ur=l,d.timeoutHandle=Av(ev.bind(null,d,u,Wt,mc,pg,l,pn,pa,wl,Si,b,"Throttled",-0,0),y);break e}ev(d,u,Wt,mc,pg,l,pn,pa,wl,Si,b,null,-0,0)}}break}while(!0);or(i)}function ev(i,l,u,d,y,b,k,z,P,X,ne,le,J,ee){if(i.timeoutHandle=-1,le=l.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sr},I1(l,b,le);var ve=(b&62914560)===b?gc-sn():(b&4194048)===b?Q1-sn():0;if(ve=zk(le,ve),ve!==null){Ur=b,i.cancelPendingCommit=ve(ov.bind(null,i,l,b,u,d,y,k,z,P,ne,le,null,J,ee)),Ei(i,b,k,!X);return}}ov(i,l,b,u,d,y,k,z,P)}function Q5(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],b=y.getSnapshot;y=y.value;try{if(!cn(b(),y))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ei(i,l,u,d){l&=~gg,l&=~pa,i.suspendedLanes|=l,i.pingedLanes&=~l,d&&(i.warmLanes|=l),d=i.expirationTimes;for(var y=l;0<y;){var b=31-un(y),k=1<<b;d[b]=-1,y&=~k}u!==0&&cy(i,u,l)}function yc(){return(Pe&6)===0?(Zs(0),!1):!0}function vg(){if(De!==null){if(Ie===0)var i=De.return;else i=De,Er=la=null,Rh(i),gl=null,Os=0,i=De;for(;i!==null;)M1(i.alternate,i),i=i.return;De=null}}function Cl(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,mk(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ur=0,vg(),We=i,De=u=Nr(i.current,null),ze=l,Ie=0,gn=null,Si=!1,_l=ms(i,l),hg=!1,wl=pn=gg=pa=Ci=ct=0,Wt=Xs=null,pg=!1,(l&8)!==0&&(l|=l&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=l;0<d;){var y=31-un(d),b=1<<y;l|=i[y],d&=~b}return $r=l,Uu(),u}function tv(i,l){Ee=null,L.H=Ps,l===hl||l===Iu?(l=yx(),Ie=3):l===Sh?(l=yx(),Ie=4):Ie=l===Zh?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,gn=l,De===null&&(ct=1,lc(i,Cn(l,i.current)))}function nv(){var i=dn.current;return i===null?!0:(ze&4194048)===ze?Tn===null:(ze&62914560)===ze||(ze&536870912)!==0?i===Tn:!1}function rv(){var i=L.H;return L.H=Ps,i===null?Ps:i}function iv(){var i=L.A;return L.A=V5,i}function xc(){ct=4,Si||(ze&4194048)!==ze&&dn.current!==null||(_l=!0),(Ci&134217727)===0&&(pa&134217727)===0||We===null||Ei(We,ze,pn,!1)}function bg(i,l,u){var d=Pe;Pe|=2;var y=rv(),b=iv();(We!==i||ze!==l)&&(mc=null,Cl(i,l)),l=!1;var k=ct;e:do try{if(Ie!==0&&De!==null){var z=De,P=gn;switch(Ie){case 8:vg(),k=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(l=!0);var X=Ie;if(Ie=0,gn=null,Nl(i,z,P,X),u&&_l){k=0;break e}break;default:X=Ie,Ie=0,gn=null,Nl(i,z,P,X)}}Z5(),k=ct;break}catch(ne){tv(i,ne)}while(!0);return l&&i.shellSuspendCounter++,Er=la=null,Pe=d,L.H=y,L.A=b,De===null&&(We=null,ze=0,Uu()),k}function Z5(){for(;De!==null;)av(De)}function J5(i,l){var u=Pe;Pe|=2;var d=rv(),y=iv();We!==i||ze!==l?(mc=null,pc=sn()+500,Cl(i,l)):_l=ms(i,l);e:do try{if(Ie!==0&&De!==null){l=De;var b=gn;t:switch(Ie){case 1:Ie=0,gn=null,Nl(i,l,b,1);break;case 2:case 9:if(px(b)){Ie=0,gn=null,lv(l);break}l=function(){Ie!==2&&Ie!==9||We!==i||(Ie=7),or(i)},b.then(l,l);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:px(b)?(Ie=0,gn=null,lv(l)):(Ie=0,gn=null,Nl(i,l,b,7));break;case 5:var k=null;switch(De.tag){case 26:k=De.memoizedState;case 5:case 27:var z=De;if(k?Kv(k):z.stateNode.complete){Ie=0,gn=null;var P=z.sibling;if(P!==null)De=P;else{var X=z.return;X!==null?(De=X,vc(X)):De=null}break t}}Ie=0,gn=null,Nl(i,l,b,5);break;case 6:Ie=0,gn=null,Nl(i,l,b,6);break;case 8:vg(),ct=6;break e;default:throw Error(a(462))}}W5();break}catch(ne){tv(i,ne)}while(!0);return Er=la=null,L.H=d,L.A=y,Pe=u,De!==null?0:(We=null,ze=0,Uu(),ct)}function W5(){for(;De!==null&&!w3();)av(De)}function av(i){var l=j1(i.alternate,i,$r);i.memoizedProps=i.pendingProps,l===null?vc(i):De=l}function lv(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=S1(u,l,l.pendingProps,l.type,void 0,ze);break;case 11:l=S1(u,l,l.pendingProps,l.type.render,l.ref,ze);break;case 5:Rh(l);default:M1(u,l),l=De=ix(l,$r),l=j1(u,l,$r)}i.memoizedProps=i.pendingProps,l===null?vc(i):De=l}function Nl(i,l,u,d){Er=la=null,Rh(l),gl=null,Os=0;var y=l.return;try{if(P5(i,y,l,u,ze)){ct=1,lc(i,Cn(u,i.current)),De=null;return}}catch(b){if(y!==null)throw De=y,b;ct=1,lc(i,Cn(u,i.current)),De=null;return}l.flags&32768?(Le||d===1?i=!0:_l||(ze&536870912)!==0?i=!1:(Si=i=!0,(d===2||d===9||d===3||d===6)&&(d=dn.current,d!==null&&d.tag===13&&(d.flags|=16384))),sv(l,i)):vc(l)}function vc(i){var l=i;do{if((l.flags&32768)!==0){sv(l,Si);return}i=l.return;var u=G5(l.alternate,l,$r);if(u!==null){De=u;return}if(l=l.sibling,l!==null){De=l;return}De=l=i}while(l!==null);ct===0&&(ct=5)}function sv(i,l){do{var u=K5(i.alternate,i);if(u!==null){u.flags&=32767,De=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){De=i;return}De=i=u}while(i!==null);ct=6,De=null}function ov(i,l,u,d,y,b,k,z,P){i.cancelPendingCommit=null;do bc();while(bt!==0);if((Pe&6)!==0)throw Error(a(327));if(l!==null){if(l===i.current)throw Error(a(177));if(b=l.lanes|l.childLanes,b|=oh,D3(i,u,b,k,z,P),i===We&&(De=We=null,ze=0),Sl=l,ki=i,Ur=u,mg=b,yg=y,Z1=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,rk(wu,function(){return hv(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=L.T,L.T=null,y=Y.p,Y.p=2,k=Pe,Pe|=4;try{I5(i,l,u)}finally{Pe=k,Y.p=y,L.T=d}}bt=1,uv(),cv(),fv()}}function uv(){if(bt===1){bt=0;var i=ki,l=Sl,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=L.T,L.T=null;var d=Y.p;Y.p=2;var y=Pe;Pe|=4;try{q1(l,i);var b=Dg,k=Xy(i.containerInfo),z=b.focusedElem,P=b.selectionRange;if(k!==z&&z&&z.ownerDocument&&Vy(z.ownerDocument.documentElement,z)){if(P!==null&&rh(z)){var X=P.start,ne=P.end;if(ne===void 0&&(ne=X),"selectionStart"in z)z.selectionStart=X,z.selectionEnd=Math.min(ne,z.value.length);else{var le=z.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var ee=J.getSelection(),ve=z.textContent.length,Ce=Math.min(P.start,ve),Ze=P.end===void 0?Ce:Math.min(P.end,ve);!ee.extend&&Ce>Ze&&(k=Ze,Ze=Ce,Ce=k);var K=Yy(z,Ce),q=Yy(z,Ze);if(K&&q&&(ee.rangeCount!==1||ee.anchorNode!==K.node||ee.anchorOffset!==K.offset||ee.focusNode!==q.node||ee.focusOffset!==q.offset)){var V=le.createRange();V.setStart(K.node,K.offset),ee.removeAllRanges(),Ce>Ze?(ee.addRange(V),ee.extend(q.node,q.offset)):(V.setEnd(q.node,q.offset),ee.addRange(V))}}}}for(le=[],ee=z;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<le.length;z++){var ie=le[z];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Dc=!!Mg,Dg=Mg=null}finally{Pe=y,Y.p=d,L.T=u}}i.current=l,bt=2}}function cv(){if(bt===2){bt=0;var i=ki,l=Sl,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=L.T,L.T=null;var d=Y.p;Y.p=2;var y=Pe;Pe|=4;try{U1(i,l.alternate,l)}finally{Pe=y,Y.p=d,L.T=u}}bt=3}}function fv(){if(bt===4||bt===3){bt=0,S3();var i=ki,l=Sl,u=Ur,d=Z1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?bt=5:(bt=0,Sl=ki=null,dv(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Ni=null),Ud(u),l=l.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ps,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=L.T,y=Y.p,Y.p=2,L.T=null;try{for(var b=i.onRecoverableError,k=0;k<d.length;k++){var z=d[k];b(z.value,{componentStack:z.stack})}}finally{L.T=l,Y.p=y}}(Ur&3)!==0&&bc(),or(i),y=i.pendingLanes,(u&261930)!==0&&(y&42)!==0?i===xg?Qs++:(Qs=0,xg=i):Qs=0,Zs(0)}}function dv(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Ms(l)))}function bc(){return uv(),cv(),fv(),hv()}function hv(){if(bt!==5)return!1;var i=ki,l=mg;mg=0;var u=Ud(Ur),d=L.T,y=Y.p;try{Y.p=32>u?32:u,L.T=null,u=yg,yg=null;var b=ki,k=Ur;if(bt=0,Sl=ki=null,Ur=0,(Pe&6)!==0)throw Error(a(331));var z=Pe;if(Pe|=4,V1(b.current),K1(b,b.current,k,u),Pe=z,Zs(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(ps,b)}catch{}return!0}finally{Y.p=y,L.T=d,dv(i,l)}}function gv(i,l,u){l=Cn(u,l),l=Qh(i.stateNode,l,2),i=vi(i,l,2),i!==null&&(ys(i,2),or(i))}function Ye(i,l,u){if(i.tag===3)gv(i,i,u);else for(;l!==null;){if(l.tag===3){gv(l,i,u);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ni===null||!Ni.has(d))){i=Cn(u,i),u=p1(2),d=vi(l,u,2),d!==null&&(m1(u,d,l,i),ys(d,2),or(d));break}}l=l.return}}function _g(i,l,u){var d=i.pingCache;if(d===null){d=i.pingCache=new X5;var y=new Set;d.set(l,y)}else y=d.get(l),y===void 0&&(y=new Set,d.set(l,y));y.has(u)||(hg=!0,y.add(u),i=ek.bind(null,i,l,u),l.then(i,i))}function ek(i,l,u){var d=i.pingCache;d!==null&&d.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,We===i&&(ze&u)===u&&(ct===4||ct===3&&(ze&62914560)===ze&&300>sn()-gc?(Pe&2)===0&&Cl(i,0):gg|=u,wl===ze&&(wl=0)),or(i)}function pv(i,l){l===0&&(l=uy()),i=ra(i,l),i!==null&&(ys(i,l),or(i))}function tk(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),pv(i,u)}function nk(i,l){var u=0;switch(i.tag){case 31:case 13:var d=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(a(314))}d!==null&&d.delete(l),pv(i,u)}function rk(i,l){return zd(i,l)}var _c=null,kl=null,wg=!1,wc=!1,Sg=!1,Ti=0;function or(i){i!==kl&&i.next===null&&(kl===null?_c=kl=i:kl=kl.next=i),wc=!0,wg||(wg=!0,ak())}function Zs(i,l){if(!Sg&&wc){Sg=!0;do for(var u=!1,d=_c;d!==null;){if(i!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var k=d.suspendedLanes,z=d.pingedLanes;b=(1<<31-un(42|i)+1)-1,b&=y&~(k&~z),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,vv(d,b))}else b=ze,b=ku(d,d===We?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||ms(d,b)||(u=!0,vv(d,b));d=d.next}while(u);Sg=!1}}function ik(){mv()}function mv(){wc=wg=!1;var i=0;Ti!==0&&pk()&&(i=Ti);for(var l=sn(),u=null,d=_c;d!==null;){var y=d.next,b=yv(d,l);b===0?(d.next=null,u===null?_c=y:u.next=y,y===null&&(kl=u)):(u=d,(i!==0||(b&3)!==0)&&(wc=!0)),d=y}bt!==0&&bt!==5||Zs(i),Ti!==0&&(Ti=0)}function yv(i,l){for(var u=i.suspendedLanes,d=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var k=31-un(b),z=1<<k,P=y[k];P===-1?((z&u)===0||(z&d)!==0)&&(y[k]=M3(z,l)):P<=l&&(i.expiredLanes|=z),b&=~z}if(l=We,u=ze,u=ku(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,u===0||i===l&&(Ie===2||Ie===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Rd(d),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||ms(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(d!==null&&Rd(d),Ud(u)){case 2:case 8:u=sy;break;case 32:u=wu;break;case 268435456:u=oy;break;default:u=wu}return d=xv.bind(null,i),u=zd(u,d),i.callbackPriority=l,i.callbackNode=u,l}return d!==null&&d!==null&&Rd(d),i.callbackPriority=2,i.callbackNode=null,2}function xv(i,l){if(bt!==0&&bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(bc()&&i.callbackNode!==u)return null;var d=ze;return d=ku(i,i===We?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(W1(i,d,l),yv(i,sn()),i.callbackNode!=null&&i.callbackNode===u?xv.bind(null,i):null)}function vv(i,l){if(bc())return null;W1(i,l,!0)}function ak(){yk(function(){(Pe&6)!==0?zd(ly,ik):mv()})}function Cg(){if(Ti===0){var i=fl;i===0&&(i=Su,Su<<=1,(Su&261888)===0&&(Su=256)),Ti=i}return Ti}function bv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Au(""+i)}function _v(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function lk(i,l,u,d,y){if(l==="submit"&&u&&u.stateNode===y){var b=bv((y[Vt]||null).action),k=d.submitter;k&&(l=(l=k[Vt]||null)?bv(l.formAction):k.getAttribute("formAction"),l!==null&&(b=l,k=null));var z=new zu("action","action",null,d,y);i.push({event:z,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ti!==0){var P=k?_v(y,k):new FormData(y);Gh(u,{pending:!0,data:P,method:y.method,action:b},null,P)}}else typeof b=="function"&&(z.preventDefault(),P=k?_v(y,k):new FormData(y),Gh(u,{pending:!0,data:P,method:y.method,action:b},b,P))},currentTarget:y}]})}}for(var Ng=0;Ng<sh.length;Ng++){var kg=sh[Ng],sk=kg.toLowerCase(),ok=kg[0].toUpperCase()+kg.slice(1);Fn(sk,"on"+ok)}Fn(Jy,"onAnimationEnd"),Fn(Wy,"onAnimationIteration"),Fn(ex,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(C5,"onTransitionRun"),Fn(N5,"onTransitionStart"),Fn(k5,"onTransitionCancel"),Fn(tx,"onTransitionEnd"),Za("onMouseEnter",["mouseout","mouseover"]),Za("onMouseLeave",["mouseout","mouseover"]),Za("onPointerEnter",["pointerout","pointerover"]),Za("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Js));function wv(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],y=d.event;d=d.listeners;e:{var b=void 0;if(l)for(var k=d.length-1;0<=k;k--){var z=d[k],P=z.instance,X=z.currentTarget;if(z=z.listener,P!==b&&y.isPropagationStopped())break e;b=z,y.currentTarget=X;try{b(y)}catch(ne){$u(ne)}y.currentTarget=null,b=P}else for(k=0;k<d.length;k++){if(z=d[k],P=z.instance,X=z.currentTarget,z=z.listener,P!==b&&y.isPropagationStopped())break e;b=z,y.currentTarget=X;try{b(y)}catch(ne){$u(ne)}y.currentTarget=null,b=P}}}}function Oe(i,l){var u=l[Bd];u===void 0&&(u=l[Bd]=new Set);var d=i+"__bubble";u.has(d)||(Sv(l,i,2,!1),u.add(d))}function Eg(i,l,u){var d=0;l&&(d|=4),Sv(u,i,d,l)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Tg(i){if(!i[Sc]){i[Sc]=!0,my.forEach(function(u){u!=="selectionchange"&&(uk.has(u)||Eg(u,!1,i),Eg(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Sc]||(l[Sc]=!0,Eg("selectionchange",!1,l))}}function Sv(i,l,u,d){switch(Jv(l)){case 2:var y=$k;break;case 8:y=Uk;break;default:y=qg}u=y.bind(null,l,u,i),y=void 0,!Vd||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),d?y!==void 0?i.addEventListener(l,u,{capture:!0,passive:y}):i.addEventListener(l,u,!0):y!==void 0?i.addEventListener(l,u,{passive:y}):i.addEventListener(l,u,!1)}function jg(i,l,u,d,y){var b=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var z=d.stateNode.containerInfo;if(z===y)break;if(k===4)for(k=d.return;k!==null;){var P=k.tag;if((P===3||P===4)&&k.stateNode.containerInfo===y)return;k=k.return}for(;z!==null;){if(k=Va(z),k===null)return;if(P=k.tag,P===5||P===6||P===26||P===27){d=b=k;continue e}z=z.parentNode}}d=d.return}Ty(function(){var X=b,ne=Id(u),le=[];e:{var J=nx.get(i);if(J!==void 0){var ee=zu,ve=i;switch(i){case"keypress":if(Du(u)===0)break e;case"keydown":case"keyup":ee=n5;break;case"focusin":ve="focus",ee=Jd;break;case"focusout":ve="blur",ee=Jd;break;case"beforeblur":case"afterblur":ee=Jd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=My;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=G3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=a5;break;case Jy:case Wy:case ex:ee=Y3;break;case tx:ee=s5;break;case"scroll":case"scrollend":ee=F3;break;case"wheel":ee=u5;break;case"copy":case"cut":case"paste":ee=X3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Oy;break;case"toggle":case"beforetoggle":ee=f5}var Ce=(l&4)!==0,Ze=!Ce&&(i==="scroll"||i==="scrollend"),K=Ce?J!==null?J+"Capture":null:J;Ce=[];for(var q=X,V;q!==null;){var ie=q;if(V=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||V===null||K===null||(ie=bs(q,K),ie!=null&&Ce.push(Ws(q,ie,V))),Ze)break;q=q.return}0<Ce.length&&(J=new ee(J,ve,null,u,ne),le.push({event:J,listeners:Ce}))}}if((l&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",J&&u!==Kd&&(ve=u.relatedTarget||u.fromElement)&&(Va(ve)||ve[Ya]))break e;if((ee||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(ve=u.relatedTarget||u.toElement,ee=X,ve=ve?Va(ve):null,ve!==null&&(Ze=o(ve),Ce=ve.tag,ve!==Ze||Ce!==5&&Ce!==27&&Ce!==6)&&(ve=null)):(ee=null,ve=X),ee!==ve)){if(Ce=My,ie="onMouseLeave",K="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=Oy,ie="onPointerLeave",K="onPointerEnter",q="pointer"),Ze=ee==null?J:vs(ee),V=ve==null?J:vs(ve),J=new Ce(ie,q+"leave",ee,u,ne),J.target=Ze,J.relatedTarget=V,ie=null,Va(ne)===X&&(Ce=new Ce(K,q+"enter",ve,u,ne),Ce.target=V,Ce.relatedTarget=Ze,ie=Ce),Ze=ie,ee&&ve)t:{for(Ce=ck,K=ee,q=ve,V=0,ie=K;ie;ie=Ce(ie))V++;ie=0;for(var Se=q;Se;Se=Ce(Se))ie++;for(;0<V-ie;)K=Ce(K),V--;for(;0<ie-V;)q=Ce(q),ie--;for(;V--;){if(K===q||q!==null&&K===q.alternate){Ce=K;break t}K=Ce(K),q=Ce(q)}Ce=null}else Ce=null;ee!==null&&Cv(le,J,ee,Ce,!1),ve!==null&&Ze!==null&&Cv(le,Ze,ve,Ce,!0)}}e:{if(J=X?vs(X):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Be=Py;else if(By(J))if(Fy)Be=_5;else{Be=v5;var be=x5}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&Gd(X.elementType)&&(Be=Py):Be=b5;if(Be&&(Be=Be(i,X))){Hy(le,Be,u,ne);break e}be&&be(i,J,X),i==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&qd(J,"number",J.value)}switch(be=X?vs(X):window,i){case"focusin":(By(be)||be.contentEditable==="true")&&(rl=be,ih=X,Ts=null);break;case"focusout":Ts=ih=rl=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,Qy(le,u,ne);break;case"selectionchange":if(S5)break;case"keydown":case"keyup":Qy(le,u,ne)}var Te;if(eh)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else nl?$y(i,u)&&(Re="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(zy&&u.locale!=="ko"&&(nl||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&nl&&(Te=jy()):(di=ne,Xd="value"in di?di.value:di.textContent,nl=!0)),be=Cc(X,Re),0<be.length&&(Re=new Dy(Re,i,null,u,ne),le.push({event:Re,listeners:be}),Te?Re.data=Te:(Te=Uy(u),Te!==null&&(Re.data=Te)))),(Te=h5?g5(i,u):p5(i,u))&&(Re=Cc(X,"onBeforeInput"),0<Re.length&&(be=new Dy("onBeforeInput","beforeinput",null,u,ne),le.push({event:be,listeners:Re}),be.data=Te)),lk(le,i,X,u,ne)}wv(le,l)})}function Ws(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Cc(i,l){for(var u=l+"Capture",d=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=bs(i,u),y!=null&&d.unshift(Ws(i,y,b)),y=bs(i,l),y!=null&&d.push(Ws(i,y,b))),i.tag===3)return d;i=i.return}return[]}function ck(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Cv(i,l,u,d,y){for(var b=l._reactName,k=[];u!==null&&u!==d;){var z=u,P=z.alternate,X=z.stateNode;if(z=z.tag,P!==null&&P===d)break;z!==5&&z!==26&&z!==27||X===null||(P=X,y?(X=bs(u,b),X!=null&&k.unshift(Ws(u,X,P))):y||(X=bs(u,b),X!=null&&k.push(Ws(u,X,P)))),u=u.return}k.length!==0&&i.push({event:l,listeners:k})}var fk=/\r\n?/g,dk=/\u0000|\uFFFD/g;function Nv(i){return(typeof i=="string"?i:""+i).replace(fk,`
`).replace(dk,"")}function kv(i,l){return l=Nv(l),Nv(i)===l}function Qe(i,l,u,d,y,b){switch(u){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||Wa(i,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&Wa(i,""+d);break;case"className":Tu(i,"class",d);break;case"tabIndex":Tu(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Tu(i,u,d);break;case"style":ky(i,d,b);break;case"data":if(l!=="object"){Tu(i,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}d=Au(""+d),i.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(l!=="input"&&Qe(i,l,"name",y.name,y,null),Qe(i,l,"formEncType",y.formEncType,y,null),Qe(i,l,"formMethod",y.formMethod,y,null),Qe(i,l,"formTarget",y.formTarget,y,null)):(Qe(i,l,"encType",y.encType,y,null),Qe(i,l,"method",y.method,y,null),Qe(i,l,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(u);break}d=Au(""+d),i.setAttribute(u,d);break;case"onClick":d!=null&&(i.onclick=Sr);break;case"onScroll":d!=null&&Oe("scroll",i);break;case"onScrollEnd":d!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}u=Au(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""+d):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":d===!0?i.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(u,d):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(u,d):i.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(u):i.setAttribute(u,d);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),Eu(i,"popover",d);break;case"xlinkActuate":wr(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":wr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":wr(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":wr(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":wr(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":wr(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":wr(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":wr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":wr(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Eu(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=H3.get(u)||u,Eu(i,u,d))}}function Ag(i,l,u,d,y,b){switch(u){case"style":ky(i,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(a(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(a(60));i.innerHTML=u}}break;case"children":typeof d=="string"?Wa(i,d):(typeof d=="number"||typeof d=="bigint")&&Wa(i,""+d);break;case"onScroll":d!=null&&Oe("scroll",i);break;case"onScrollEnd":d!=null&&Oe("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yy.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),l=u.slice(2,y?u.length-7:void 0),b=i[Vt]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(l,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,d,y);break e}u in i?i[u]=d:d===!0?i.setAttribute(u,""):Eu(i,u,d)}}}function zt(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var d=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var k=u[b];if(k!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Qe(i,l,b,k,u,null)}}y&&Qe(i,l,"srcSet",u.srcSet,u,null),d&&Qe(i,l,"src",u.src,u,null);return;case"input":Oe("invalid",i);var z=b=k=y=null,P=null,X=null;for(d in u)if(u.hasOwnProperty(d)){var ne=u[d];if(ne!=null)switch(d){case"name":y=ne;break;case"type":k=ne;break;case"checked":P=ne;break;case"defaultChecked":X=ne;break;case"value":b=ne;break;case"defaultValue":z=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,l));break;default:Qe(i,l,d,ne,u,null)}}wy(i,b,z,P,X,k,y,!1);return;case"select":Oe("invalid",i),d=k=b=null;for(y in u)if(u.hasOwnProperty(y)&&(z=u[y],z!=null))switch(y){case"value":b=z;break;case"defaultValue":k=z;break;case"multiple":d=z;default:Qe(i,l,y,z,u,null)}l=b,u=k,i.multiple=!!d,l!=null?Ja(i,!!d,l,!1):u!=null&&Ja(i,!!d,u,!0);return;case"textarea":Oe("invalid",i),b=y=d=null;for(k in u)if(u.hasOwnProperty(k)&&(z=u[k],z!=null))switch(k){case"value":d=z;break;case"defaultValue":y=z;break;case"children":b=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(91));break;default:Qe(i,l,k,z,u,null)}Cy(i,d,y,b);return;case"option":for(P in u)if(u.hasOwnProperty(P)&&(d=u[P],d!=null))switch(P){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Qe(i,l,P,d,u,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(d=0;d<Js.length;d++)Oe(Js[d],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(d=u[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:Qe(i,l,X,d,u,null)}return;default:if(Gd(l)){for(ne in u)u.hasOwnProperty(ne)&&(d=u[ne],d!==void 0&&Ag(i,l,ne,d,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(d=u[z],d!=null&&Qe(i,l,z,d,u,null))}function hk(i,l,u,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,k=null,z=null,P=null,X=null,ne=null;for(ee in u){var le=u[ee];if(u.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":P=le;default:d.hasOwnProperty(ee)||Qe(i,l,ee,null,d,le)}}for(var J in d){var ee=d[J];if(le=u[J],d.hasOwnProperty(J)&&(ee!=null||le!=null))switch(J){case"type":b=ee;break;case"name":y=ee;break;case"checked":X=ee;break;case"defaultChecked":ne=ee;break;case"value":k=ee;break;case"defaultValue":z=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,l));break;default:ee!==le&&Qe(i,l,J,ee,d,le)}}Fd(i,k,z,P,X,ne,b,y);return;case"select":ee=k=z=J=null;for(b in u)if(P=u[b],u.hasOwnProperty(b)&&P!=null)switch(b){case"value":break;case"multiple":ee=P;default:d.hasOwnProperty(b)||Qe(i,l,b,null,d,P)}for(y in d)if(b=d[y],P=u[y],d.hasOwnProperty(y)&&(b!=null||P!=null))switch(y){case"value":J=b;break;case"defaultValue":z=b;break;case"multiple":k=b;default:b!==P&&Qe(i,l,y,b,d,P)}l=z,u=k,d=ee,J!=null?Ja(i,!!u,J,!1):!!d!=!!u&&(l!=null?Ja(i,!!u,l,!0):Ja(i,!!u,u?[]:"",!1));return;case"textarea":ee=J=null;for(z in u)if(y=u[z],u.hasOwnProperty(z)&&y!=null&&!d.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Qe(i,l,z,null,d,y)}for(k in d)if(y=d[k],b=u[k],d.hasOwnProperty(k)&&(y!=null||b!=null))switch(k){case"value":J=y;break;case"defaultValue":ee=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==b&&Qe(i,l,k,y,d,b)}Sy(i,J,ee);return;case"option":for(var ve in u)if(J=u[ve],u.hasOwnProperty(ve)&&J!=null&&!d.hasOwnProperty(ve))switch(ve){case"selected":i.selected=!1;break;default:Qe(i,l,ve,null,d,J)}for(P in d)if(J=d[P],ee=u[P],d.hasOwnProperty(P)&&J!==ee&&(J!=null||ee!=null))switch(P){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Qe(i,l,P,J,d,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in u)J=u[Ce],u.hasOwnProperty(Ce)&&J!=null&&!d.hasOwnProperty(Ce)&&Qe(i,l,Ce,null,d,J);for(X in d)if(J=d[X],ee=u[X],d.hasOwnProperty(X)&&J!==ee&&(J!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,l));break;default:Qe(i,l,X,J,d,ee)}return;default:if(Gd(l)){for(var Ze in u)J=u[Ze],u.hasOwnProperty(Ze)&&J!==void 0&&!d.hasOwnProperty(Ze)&&Ag(i,l,Ze,void 0,d,J);for(ne in d)J=d[ne],ee=u[ne],!d.hasOwnProperty(ne)||J===ee||J===void 0&&ee===void 0||Ag(i,l,ne,J,d,ee);return}}for(var K in u)J=u[K],u.hasOwnProperty(K)&&J!=null&&!d.hasOwnProperty(K)&&Qe(i,l,K,null,d,J);for(le in d)J=d[le],ee=u[le],!d.hasOwnProperty(le)||J===ee||J==null&&ee==null||Qe(i,l,le,J,d,ee)}function Ev(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gk(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],b=y.transferSize,k=y.initiatorType,z=y.duration;if(b&&z&&Ev(k)){for(k=0,z=y.responseEnd,d+=1;d<u.length;d++){var P=u[d],X=P.startTime;if(X>z)break;var ne=P.transferSize,le=P.initiatorType;ne&&Ev(le)&&(P=P.responseEnd,k+=ne*(P<z?1:(z-X)/(P-X)))}if(--d,l+=8*(b+k)/(y.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Mg=null,Dg=null;function Nc(i){return i.nodeType===9?i:i.ownerDocument}function Tv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Og(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var zg=null;function pk(){var i=window.event;return i&&i.type==="popstate"?i===zg?!1:(zg=i,!0):(zg=null,!1)}var Av=typeof setTimeout=="function"?setTimeout:void 0,mk=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,yk=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(i){return Mv.resolve(null).then(i).catch(xk)}:Av;function xk(i){setTimeout(function(){throw i})}function ji(i){return i==="head"}function Dv(i,l){var u=l,d=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){i.removeChild(y),Al(l);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")eo(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,eo(u);for(var b=u.firstChild;b;){var k=b.nextSibling,z=b.nodeName;b[xs]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=k}}else u==="body"&&eo(i.ownerDocument.body);u=y}while(u);Al(l)}function Ov(i,l){var u=i;i=0;do{var d=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=d}while(u)}function Rg(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Rg(u),Hd(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function vk(i,l,u,d){for(;i.nodeType===1;){var y=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[xs])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=jn(i.nextSibling),i===null)break}return null}function bk(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=jn(i.nextSibling),i===null))return null;return i}function zv(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=jn(i.nextSibling),i===null))return null;return i}function Lg(i){return i.data==="$?"||i.data==="$~"}function $g(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function _k(i,l){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||u.readyState!=="loading")l();else{var d=function(){l(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function jn(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var Ug=null;function Rv(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(l===0)return jn(i.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}i=i.nextSibling}return null}function Lv(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return i;l--}else u!=="/$"&&u!=="/&"||l++}i=i.previousSibling}return null}function $v(i,l,u){switch(l=Nc(u),i){case"html":if(i=l.documentElement,!i)throw Error(a(452));return i;case"head":if(i=l.head,!i)throw Error(a(453));return i;case"body":if(i=l.body,!i)throw Error(a(454));return i;default:throw Error(a(451))}}function eo(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Hd(i)}var An=new Map,Uv=new Set;function kc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Br=Y.d;Y.d={f:wk,r:Sk,D:Ck,C:Nk,L:kk,m:Ek,X:jk,S:Tk,M:Ak};function wk(){var i=Br.f(),l=yc();return i||l}function Sk(i){var l=Xa(i);l!==null&&l.tag===5&&l.type==="form"?t1(l):Br.r(i)}var El=typeof document>"u"?null:document;function Bv(i,l,u){var d=El;if(d&&typeof l=="string"&&l){var y=wn(l);y='link[rel="'+i+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Uv.has(y)||(Uv.add(y),i={rel:i,crossOrigin:u,href:l},d.querySelector(y)===null&&(l=d.createElement("link"),zt(l,"link",i),Nt(l),d.head.appendChild(l)))}}function Ck(i){Br.D(i),Bv("dns-prefetch",i,null)}function Nk(i,l){Br.C(i,l),Bv("preconnect",i,l)}function kk(i,l,u){Br.L(i,l,u);var d=El;if(d&&i&&l){var y='link[rel="preload"][as="'+wn(l)+'"]';l==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+wn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+wn(u.imageSizes)+'"]')):y+='[href="'+wn(i)+'"]';var b=y;switch(l){case"style":b=Tl(i);break;case"script":b=jl(i)}An.has(b)||(i=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),An.set(b,i),d.querySelector(y)!==null||l==="style"&&d.querySelector(to(b))||l==="script"&&d.querySelector(no(b))||(l=d.createElement("link"),zt(l,"link",i),Nt(l),d.head.appendChild(l)))}}function Ek(i,l){Br.m(i,l);var u=El;if(u&&i){var d=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+wn(d)+'"][href="'+wn(i)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=jl(i)}if(!An.has(b)&&(i=p({rel:"modulepreload",href:i},l),An.set(b,i),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(no(b)))return}d=u.createElement("link"),zt(d,"link",i),Nt(d),u.head.appendChild(d)}}}function Tk(i,l,u){Br.S(i,l,u);var d=El;if(d&&i){var y=Qa(d).hoistableStyles,b=Tl(i);l=l||"default";var k=y.get(b);if(!k){var z={loading:0,preload:null};if(k=d.querySelector(to(b)))z.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":l},u),(u=An.get(b))&&Bg(i,u);var P=k=d.createElement("link");Nt(P),zt(P,"link",i),P._p=new Promise(function(X,ne){P.onload=X,P.onerror=ne}),P.addEventListener("load",function(){z.loading|=1}),P.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Ec(k,l,d)}k={type:"stylesheet",instance:k,count:1,state:z},y.set(b,k)}}}function jk(i,l){Br.X(i,l);var u=El;if(u&&i){var d=Qa(u).hoistableScripts,y=jl(i),b=d.get(y);b||(b=u.querySelector(no(y)),b||(i=p({src:i,async:!0},l),(l=An.get(y))&&Hg(i,l),b=u.createElement("script"),Nt(b),zt(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function Ak(i,l){Br.M(i,l);var u=El;if(u&&i){var d=Qa(u).hoistableScripts,y=jl(i),b=d.get(y);b||(b=u.querySelector(no(y)),b||(i=p({src:i,async:!0,type:"module"},l),(l=An.get(y))&&Hg(i,l),b=u.createElement("script"),Nt(b),zt(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function Hv(i,l,u,d){var y=(y=ye.current)?kc(y):null;if(!y)throw Error(a(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Tl(u.href),u=Qa(y).hoistableStyles,d=u.get(l),d||(d={type:"style",instance:null,count:0,state:null},u.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Tl(u.href);var b=Qa(y).hoistableStyles,k=b.get(i);if(k||(y=y.ownerDocument||y,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,k),(b=y.querySelector(to(i)))&&!b._p&&(k.instance=b,k.state.loading=5),An.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},An.set(i,u),b||Mk(y,i,u,k.state))),l&&d===null)throw Error(a(528,""));return k}if(l&&d!==null)throw Error(a(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=jl(u),u=Qa(y).hoistableScripts,d=u.get(l),d||(d={type:"script",instance:null,count:0,state:null},u.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,i))}}function Tl(i){return'href="'+wn(i)+'"'}function to(i){return'link[rel="stylesheet"]['+i+"]"}function Pv(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function Mk(i,l,u,d){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=i.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),zt(l,"link",u),Nt(l),i.head.appendChild(l))}function jl(i){return'[src="'+wn(i)+'"]'}function no(i){return"script[async]"+i}function Fv(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var d=i.querySelector('style[data-href~="'+wn(u.href)+'"]');if(d)return l.instance=d,Nt(d),d;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Nt(d),zt(d,"style",y),Ec(d,u.precedence,i),l.instance=d;case"stylesheet":y=Tl(u.href);var b=i.querySelector(to(y));if(b)return l.state.loading|=4,l.instance=b,Nt(b),b;d=Pv(u),(y=An.get(y))&&Bg(d,y),b=(i.ownerDocument||i).createElement("link"),Nt(b);var k=b;return k._p=new Promise(function(z,P){k.onload=z,k.onerror=P}),zt(b,"link",d),l.state.loading|=4,Ec(b,u.precedence,i),l.instance=b;case"script":return b=jl(u.src),(y=i.querySelector(no(b)))?(l.instance=y,Nt(y),y):(d=u,(y=An.get(b))&&(d=p({},u),Hg(d,y)),i=i.ownerDocument||i,y=i.createElement("script"),Nt(y),zt(y,"link",d),i.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,Ec(d,u.precedence,i));return l.instance}function Ec(i,l,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,k=0;k<d.length;k++){var z=d[k];if(z.dataset.precedence===l)b=z;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function Bg(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Hg(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Tc=null;function qv(i,l,u){if(Tc===null){var d=new Map,y=Tc=new Map;y.set(u,d)}else y=Tc,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(i))return d;for(d.set(i,null),u=u.getElementsByTagName(i),y=0;y<u.length;y++){var b=u[y];if(!(b[xs]||b[At]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(l)||"";k=i+k;var z=d.get(k);z?z.push(b):d.set(k,[b])}}return d}function Gv(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function Dk(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Kv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Ok(i,l,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Tl(d.href),b=l.querySelector(to(y));if(b){l=b._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=jc.bind(i),l.then(i,i)),u.state.loading|=4,u.instance=b,Nt(b);return}b=l.ownerDocument||l,d=Pv(d),(y=An.get(y))&&Bg(d,y),b=b.createElement("link"),Nt(b);var k=b;k._p=new Promise(function(z,P){k.onload=z,k.onerror=P}),zt(b,"link",d),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=jc.bind(i),l.addEventListener("load",u),l.addEventListener("error",u))}}var Pg=0;function zk(i,l){return i.stylesheets&&i.count===0&&Mc(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var d=setTimeout(function(){if(i.stylesheets&&Mc(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+l);0<i.imgBytes&&Pg===0&&(Pg=62500*gk());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Mc(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Pg?50:800)+l);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ac=null;function Mc(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ac=new Map,l.forEach(Rk,i),Ac=null,jc.call(i))}function Rk(i,l){if(!(l.state.loading&4)){var u=Ac.get(i);if(u)var d=u.get(null);else{u=new Map,Ac.set(i,u);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var k=y[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),d=k)}d&&u.set(null,d)}y=l.instance,k=y.getAttribute("data-precedence"),b=u.get(k)||d,b===d&&u.set(null,y),u.set(k,y),this.count++,d=jc.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),l.state.loading|=4}}var ro={$$typeof:T,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Lk(i,l,u,d,y,b,k,z,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ld(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.hiddenUpdates=Ld(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Iv(i,l,u,d,y,b,k,z,P,X,ne,le){return i=new Lk(i,l,u,k,P,X,ne,le,z),l=1,b===!0&&(l|=24),b=fn(3,null,null,l),i.current=b,b.stateNode=i,l=bh(),l.refCount++,i.pooledCache=l,l.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:l},Ch(b),i}function Yv(i){return i?(i=ll,i):ll}function Vv(i,l,u,d,y,b){y=Yv(y),d.context===null?d.context=y:d.pendingContext=y,d=xi(l),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=vi(i,d,l),u!==null&&(en(u,i,l),Rs(u,i,l))}function Xv(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Fg(i,l){Xv(i,l),(i=i.alternate)&&Xv(i,l)}function Qv(i){if(i.tag===13||i.tag===31){var l=ra(i,67108864);l!==null&&en(l,i,67108864),Fg(i,67108864)}}function Zv(i){if(i.tag===13||i.tag===31){var l=mn();l=$d(l);var u=ra(i,l);u!==null&&en(u,i,l),Fg(i,l)}}var Dc=!0;function $k(i,l,u,d){var y=L.T;L.T=null;var b=Y.p;try{Y.p=2,qg(i,l,u,d)}finally{Y.p=b,L.T=y}}function Uk(i,l,u,d){var y=L.T;L.T=null;var b=Y.p;try{Y.p=8,qg(i,l,u,d)}finally{Y.p=b,L.T=y}}function qg(i,l,u,d){if(Dc){var y=Gg(d);if(y===null)jg(i,l,d,Oc,u),Wv(i,d);else if(Hk(y,i,l,u,d))d.stopPropagation();else if(Wv(i,d),l&4&&-1<Bk.indexOf(i)){for(;y!==null;){var b=Xa(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=Ji(b.pendingLanes);if(k!==0){var z=b;for(z.pendingLanes|=2,z.entangledLanes|=2;k;){var P=1<<31-un(k);z.entanglements[1]|=P,k&=~P}or(b),(Pe&6)===0&&(pc=sn()+500,Zs(0))}}break;case 31:case 13:z=ra(b,2),z!==null&&en(z,b,2),yc(),Fg(b,2)}if(b=Gg(d),b===null&&jg(i,l,d,Oc,u),b===y)break;y=b}y!==null&&d.stopPropagation()}else jg(i,l,d,null,u)}}function Gg(i){return i=Id(i),Kg(i)}var Oc=null;function Kg(i){if(Oc=null,i=Va(i),i!==null){var l=o(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=c(l),i!==null)return i;i=null}else if(u===31){if(i=f(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return Oc=i,null}function Jv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(C3()){case ly:return 2;case sy:return 8;case wu:case N3:return 32;case oy:return 268435456;default:return 32}default:return 32}}var Ig=!1,Ai=null,Mi=null,Di=null,io=new Map,ao=new Map,Oi=[],Bk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wv(i,l){switch(i){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":io.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(l.pointerId)}}function lo(i,l,u,d,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:l,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},l!==null&&(l=Xa(l),l!==null&&Qv(l)),i):(i.eventSystemFlags|=d,l=i.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),i)}function Hk(i,l,u,d,y){switch(l){case"focusin":return Ai=lo(Ai,i,l,u,d,y),!0;case"dragenter":return Mi=lo(Mi,i,l,u,d,y),!0;case"mouseover":return Di=lo(Di,i,l,u,d,y),!0;case"pointerover":var b=y.pointerId;return io.set(b,lo(io.get(b)||null,i,l,u,d,y)),!0;case"gotpointercapture":return b=y.pointerId,ao.set(b,lo(ao.get(b)||null,i,l,u,d,y)),!0}return!1}function eb(i){var l=Va(i.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){i.blockedOn=l,gy(i.priority,function(){Zv(u)});return}}else if(l===31){if(l=f(u),l!==null){i.blockedOn=l,gy(i.priority,function(){Zv(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Gg(i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);Kd=d,u.target.dispatchEvent(d),Kd=null}else return l=Xa(u),l!==null&&Qv(l),i.blockedOn=u,!1;l.shift()}return!0}function tb(i,l,u){zc(i)&&u.delete(l)}function Pk(){Ig=!1,Ai!==null&&zc(Ai)&&(Ai=null),Mi!==null&&zc(Mi)&&(Mi=null),Di!==null&&zc(Di)&&(Di=null),io.forEach(tb),ao.forEach(tb)}function Rc(i,l){i.blockedOn===l&&(i.blockedOn=null,Ig||(Ig=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Pk)))}var Lc=null;function nb(i){Lc!==i&&(Lc=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lc===i&&(Lc=null);for(var l=0;l<i.length;l+=3){var u=i[l],d=i[l+1],y=i[l+2];if(typeof d!="function"){if(Kg(d||u)===null)continue;break}var b=Xa(u);b!==null&&(i.splice(l,3),l-=3,Gh(b,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function Al(i){function l(P){return Rc(P,i)}Ai!==null&&Rc(Ai,i),Mi!==null&&Rc(Mi,i),Di!==null&&Rc(Di,i),io.forEach(l),ao.forEach(l);for(var u=0;u<Oi.length;u++){var d=Oi[u];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Oi.length&&(u=Oi[0],u.blockedOn===null);)eb(u),u.blockedOn===null&&Oi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],b=u[d+1],k=y[Vt]||null;if(typeof b=="function")k||nb(u);else if(k){var z=null;if(b&&b.hasAttribute("formAction")){if(y=b,k=b[Vt]||null)z=k.formAction;else if(Kg(y)!==null)continue}else z=k.action;typeof z=="function"?u[d+1]=z:(u.splice(d,3),d-=3),nb(u)}}}function rb(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(k){return y=k})},focusReset:"manual",scroll:"manual"})}function l(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),y!==null&&(y(),y=null)}}}function Yg(i){this._internalRoot=i}$c.prototype.render=Yg.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(a(409));var u=l.current,d=mn();Vv(u,d,i,l,null,null)},$c.prototype.unmount=Yg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Vv(i.current,2,null,i,null,null),yc(),l[Ya]=null}};function $c(i){this._internalRoot=i}$c.prototype.unstable_scheduleHydration=function(i){if(i){var l=hy();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Oi.length&&l!==0&&l<Oi[u].priority;u++);Oi.splice(u,0,i),u===0&&eb(i)}};var ib=e.version;if(ib!=="19.2.3")throw Error(a(527,ib,"19.2.3"));Y.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=g(l),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var Fk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{ps=Uc.inject(Fk),on=Uc}catch{}}return oo.createRoot=function(i,l){if(!s(i))throw Error(a(299));var u=!1,d="",y=f1,b=d1,k=h1;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),l=Iv(i,1,!1,null,null,u,d,null,y,b,k,rb),i[Ya]=l.current,Tg(i),new Yg(l)},oo.hydrateRoot=function(i,l,u){if(!s(i))throw Error(a(299));var d=!1,y="",b=f1,k=d1,z=h1,P=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.formState!==void 0&&(P=u.formState)),l=Iv(i,1,!0,l,u??null,d,y,P,b,k,z,rb),l.context=Yv(null),u=l.current,d=mn(),d=$d(d),y=xi(d),y.callback=null,vi(u,y,d),u=d,l.current.lanes=u,ys(l,u),or(l),i[Ya]=l.current,Tg(i),new $c(l)},oo.version="19.2.3",oo}var gb;function Zk(){if(gb)return Qg.exports;gb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qg.exports=Qk(),Qg.exports}var Jk=Zk();var pb="popstate";function Wk(n={}){function e(a,s){let{pathname:o,search:c,hash:f}=a.location;return Op("",{pathname:o,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:Uo(s)}return tE(e,r,null,n)}function St(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Wn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eE(){return Math.random().toString(36).substring(2,10)}function mb(n,e){return{usr:n.state,key:n.key,idx:e}}function Op(n,e,r=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ru(e):e,state:r,key:e&&e.key||a||eE()}}function Uo({pathname:n="/",search:e="",hash:r=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function ru(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substring(r),n=n.substring(0,r));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function tE(n,e,r,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,c=s.history,f="POP",h=null,g=m();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function m(){return(c.state||{idx:null}).idx}function p(){f="POP";let C=m(),S=C==null?null:C-g;g=C,h&&h({action:f,location:N.location,delta:S})}function v(C,S){f="PUSH";let E=Op(N.location,C,S);g=m()+1;let T=mb(E,g),j=N.createHref(E);try{c.pushState(T,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(j)}o&&h&&h({action:f,location:N.location,delta:1})}function _(C,S){f="REPLACE";let E=Op(N.location,C,S);g=m();let T=mb(E,g),j=N.createHref(E);c.replaceState(T,"",j),o&&h&&h({action:f,location:N.location,delta:0})}function w(C){return nE(C)}let N={get action(){return f},get location(){return n(s,c)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(pb,p),h=C,()=>{s.removeEventListener(pb,p),h=null}},createHref(C){return e(s,C)},createURL:w,encodeLocation(C){let S=w(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:_,go(C){return c.go(C)}};return N}function nE(n,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),St(r,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Uo(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function yw(n,e,r="/"){return rE(n,e,r,!1)}function rE(n,e,r,a){let s=typeof e=="string"?ru(e):e,o=ni(s.pathname||"/",r);if(o==null)return null;let c=xw(n);iE(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let g=pE(o);f=hE(c[h],g,a)}return f}function xw(n,e=[],r=[],a="",s=!1){let o=(c,f,h=s,g)=>{let m={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(a)&&h)return;St(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length)}let p=ei([a,m.relativePath]),v=r.concat(m);c.children&&c.children.length>0&&(St(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),xw(c.children,e,v,p,h)),!(c.path==null&&!c.index)&&e.push({path:p,score:fE(p,c.index),routesMeta:v})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))o(c,f);else for(let h of vw(c.path))o(c,f,!0,h)}),e}function vw(n){let e=n.split("/");if(e.length===0)return[];let[r,...a]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let c=vw(a.join("/")),f=[];return f.push(...c.map(h=>h===""?o:[o,h].join("/"))),s&&f.push(...c),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function iE(n){n.sort((e,r)=>e.score!==r.score?r.score-e.score:dE(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var aE=/^:[\w-]+$/,lE=3,sE=2,oE=1,uE=10,cE=-2,yb=n=>n==="*";function fE(n,e){let r=n.split("/"),a=r.length;return r.some(yb)&&(a+=cE),e&&(a+=sE),r.filter(s=>!yb(s)).reduce((s,o)=>s+(aE.test(o)?lE:o===""?oE:uE),a)}function dE(n,e){return n.length===e.length&&n.slice(0,-1).every((a,s)=>a===e[s])?n[n.length-1]-e[e.length-1]:0}function hE(n,e,r=!1){let{routesMeta:a}=n,s={},o="/",c=[];for(let f=0;f<a.length;++f){let h=a[f],g=f===a.length-1,m=o==="/"?e:e.slice(o.length)||"/",p=wf({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},m),v=h.route;if(!p&&g&&r&&!a[a.length-1].route.index&&(p=wf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!p)return null;Object.assign(s,p.params),c.push({params:s,pathname:ei([o,p.pathname]),pathnameBase:vE(ei([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=ei([o,p.pathnameBase]))}return c}function wf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,a]=gE(n.path,n.caseSensitive,n.end),s=e.match(r);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:a.reduce((g,{paramName:m,isOptional:p},v)=>{if(m==="*"){let w=f[v]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const _=f[v];return p&&!_?g[m]=void 0:g[m]=(_||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:n}}function gE(n,e=!1,r=!0){Wn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(a.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function pE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ni(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=n.charAt(r);return a&&a!=="/"?null:n.slice(r)||"/"}var bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mE=n=>bw.test(n);function yE(n,e="/"){let{pathname:r,search:a="",hash:s=""}=typeof n=="string"?ru(n):n,o;if(r)if(mE(r))o=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Wn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?o=xb(r.substring(1),"/"):o=xb(r,e)}else o=e;return{pathname:o,search:bE(a),hash:_E(s)}}function xb(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ep(n,e,r,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xE(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function _w(n){let e=xE(n);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function ww(n,e,r,a=!1){let s;typeof n=="string"?s=ru(n):(s={...n},St(!s.pathname||!s.pathname.includes("?"),ep("?","pathname","search",s)),St(!s.pathname||!s.pathname.includes("#"),ep("#","pathname","hash",s)),St(!s.search||!s.search.includes("#"),ep("#","search","hash",s)));let o=n===""||s.pathname==="",c=o?"/":s.pathname,f;if(c==null)f=r;else{let p=e.length-1;if(!a&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),p-=1;s.pathname=v.join("/")}f=p>=0?e[p]:"/"}let h=yE(s,f),g=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(g||m)&&(h.pathname+="/"),h}var ei=n=>n.join("/").replace(/\/\/+/g,"/"),vE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_E=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,wE=class{constructor(n,e,r,a=!1){this.status=n,this.statusText=e||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function SE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function CE(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cw(n,e){let r=n;if(typeof r!="string"||!bw.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let a=r,s=!1;if(Sw)try{let o=new URL(window.location.href),c=r.startsWith("//")?new URL(o.protocol+r):new URL(r),f=ni(c.pathname,e);c.origin===o.origin&&f!=null?r=f+c.search+c.hash:s=!0}catch{Wn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Nw=["POST","PUT","PATCH","DELETE"];new Set(Nw);var NE=["GET",...Nw];new Set(NE);var is=D.createContext(null);is.displayName="DataRouter";var td=D.createContext(null);td.displayName="DataRouterState";var kE=D.createContext(!1),kw=D.createContext({isTransitioning:!1});kw.displayName="ViewTransition";var EE=D.createContext(new Map);EE.displayName="Fetchers";var TE=D.createContext(null);TE.displayName="Await";var Bn=D.createContext(null);Bn.displayName="Navigation";var nd=D.createContext(null);nd.displayName="Location";var li=D.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var F0=D.createContext(null);F0.displayName="RouteError";var Ew="REACT_ROUTER_ERROR",jE="REDIRECT",AE="ROUTE_ERROR_RESPONSE";function ME(n){if(n.startsWith(`${Ew}:${jE}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function DE(n){if(n.startsWith(`${Ew}:${AE}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new wE(e.status,e.statusText,e.data)}catch{}}function OE(n,{relative:e}={}){St(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=D.useContext(Bn),{hash:s,pathname:o,search:c}=au(n,{relative:e}),f=o;return r!=="/"&&(f=o==="/"?r:ei([r,o])),a.createHref({pathname:f,search:c,hash:s})}function iu(){return D.useContext(nd)!=null}function qa(){return St(iu(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(nd).location}var Tw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jw(n){D.useContext(Bn).static||D.useLayoutEffect(n)}function zE(){let{isDataRoute:n}=D.useContext(li);return n?YE():RE()}function RE(){St(iu(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(is),{basename:e,navigator:r}=D.useContext(Bn),{matches:a}=D.useContext(li),{pathname:s}=qa(),o=JSON.stringify(_w(a)),c=D.useRef(!1);return jw(()=>{c.current=!0}),D.useCallback((h,g={})=>{if(Wn(c.current,Tw),!c.current)return;if(typeof h=="number"){r.go(h);return}let m=ww(h,JSON.parse(o),s,g.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ei([e,m.pathname])),(g.replace?r.replace:r.push)(m,g.state,g)},[e,r,o,s,n])}D.createContext(null);function au(n,{relative:e}={}){let{matches:r}=D.useContext(li),{pathname:a}=qa(),s=JSON.stringify(_w(r));return D.useMemo(()=>ww(n,JSON.parse(s),a,e==="path"),[n,s,a,e])}function LE(n,e,r,a,s){St(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(Bn),{matches:c}=D.useContext(li),f=c[c.length-1],h=f?f.params:{},g=f?f.pathname:"/",m=f?f.pathnameBase:"/",p=f&&f.route;{let E=p&&p.path||"";Mw(g,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=qa(),_;_=v;let w=_.pathname||"/",N=w;if(m!=="/"){let E=m.replace(/^\//,"").split("/");N="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=yw(n,{pathname:N});return Wn(p||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Wn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),PE(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:ei([m,o.encodeLocation?o.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:ei([m,o.encodeLocation?o.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),c,r,a,s)}function $E(){let n=IE(),e=SE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),r?D.createElement("pre",{style:s},r):null,c)}var UE=D.createElement($E,null),Aw=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const r=DE(n.digest);r&&(n=r)}let e=n!==void 0?D.createElement(li.Provider,{value:this.props.routeContext},D.createElement(F0.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?D.createElement(BE,{error:n},e):e}};Aw.contextType=kE;var tp=new WeakMap;function BE({children:n,error:e}){let{basename:r}=D.useContext(Bn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=ME(e.digest);if(a){let s=tp.get(e);if(s)throw s;let o=Cw(a.location,r);if(Sw&&!tp.get(e))if(o.isExternal||a.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:a.replace}));throw tp.set(e,c),c}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function HE({routeContext:n,match:e,children:r}){let a=D.useContext(is);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(li.Provider,{value:n},r)}function PE(n,e=[],r=null,a=null,s=null){if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let o=n,c=r?.errors;if(c!=null){let m=o.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);St(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,h=-1;if(r)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:v,errors:_}=r,w=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let g=r&&a?(m,p)=>{a(m,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:CE(r.matches),errorInfo:p})}:void 0;return o.reduceRight((m,p,v)=>{let _,w=!1,N=null,C=null;r&&(_=c&&p.route.id?c[p.route.id]:void 0,N=p.route.errorElement||UE,f&&(h<0&&v===0?(Mw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):h===v&&(w=!0,C=p.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,v+1)),E=()=>{let T;return _?T=N:w?T=C:p.route.Component?T=D.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=m,D.createElement(HE,{match:p,routeContext:{outlet:m,matches:S,isDataRoute:r!=null},children:T})};return r&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?D.createElement(Aw,{location:r.location,revalidation:r.revalidation,component:N,error:_,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:g}):E()},null)}function q0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FE(n){let e=D.useContext(is);return St(e,q0(n)),e}function qE(n){let e=D.useContext(td);return St(e,q0(n)),e}function GE(n){let e=D.useContext(li);return St(e,q0(n)),e}function G0(n){let e=GE(n),r=e.matches[e.matches.length-1];return St(r.route.id,`${n} can only be used on routes that contain a unique "id"`),r.route.id}function KE(){return G0("useRouteId")}function IE(){let n=D.useContext(F0),e=qE("useRouteError"),r=G0("useRouteError");return n!==void 0?n:e.errors?.[r]}function YE(){let{router:n}=FE("useNavigate"),e=G0("useNavigate"),r=D.useRef(!1);return jw(()=>{r.current=!0}),D.useCallback(async(s,o={})=>{Wn(r.current,Tw),r.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var vb={};function Mw(n,e,r){!e&&!vb[n]&&(vb[n]=!0,Wn(!1,r))}D.memo(VE);function VE({routes:n,future:e,state:r,onError:a}){return LE(n,void 0,r,a,e)}function XE({basename:n="/",children:e=null,location:r,navigationType:a="POP",navigator:s,static:o=!1,unstable_useTransitions:c}){St(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:f,navigator:s,static:o,unstable_useTransitions:c,future:{}}),[f,s,o,c]);typeof r=="string"&&(r=ru(r));let{pathname:g="/",search:m="",hash:p="",state:v=null,key:_="default"}=r,w=D.useMemo(()=>{let N=ni(g,f);return N==null?null:{location:{pathname:N,search:m,hash:p,state:v,key:_},navigationType:a}},[f,g,m,p,v,_,a]);return Wn(w!=null,`<Router basename="${f}"> is not able to match the URL "${g}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:D.createElement(Bn.Provider,{value:h},D.createElement(nd.Provider,{children:e,value:w}))}var uf="get",cf="application/x-www-form-urlencoded";function rd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function QE(n){return rd(n)&&n.tagName.toLowerCase()==="button"}function ZE(n){return rd(n)&&n.tagName.toLowerCase()==="form"}function JE(n){return rd(n)&&n.tagName.toLowerCase()==="input"}function WE(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function eT(n,e){return n.button===0&&(!e||e==="_self")&&!WE(n)}var Bc=null;function tT(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var nT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function np(n){return n!=null&&!nT.has(n)?(Wn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cf}"`),null):n}function rT(n,e){let r,a,s,o,c;if(ZE(n)){let f=n.getAttribute("action");a=f?ni(f,e):null,r=n.getAttribute("method")||uf,s=np(n.getAttribute("enctype"))||cf,o=new FormData(n)}else if(QE(n)||JE(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(a=h?ni(h,e):null,r=n.getAttribute("formmethod")||f.getAttribute("method")||uf,s=np(n.getAttribute("formenctype"))||np(f.getAttribute("enctype"))||cf,o=new FormData(f,n),!tT()){let{name:g,type:m,value:p}=n;if(m==="image"){let v=g?`${g}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else g&&o.append(g,p)}}else{if(rd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=uf,a=null,s=cf,c=n}return o&&s==="text/plain"&&(c=o,o=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function K0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function iT(n,e,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&ni(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function aT(n,e){if(n.id in e)return e[n.id];try{let r=await import(n.module);return e[n.id]=r,r}catch(r){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function sT(n,e,r){let a=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await aT(o,r);return c.links?c.links():[]}return[]}));return fT(a.flat(1).filter(lT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function bb(n,e,r,a,s,o){let c=(h,g)=>r[g]?h.route.id!==r[g].route.id:!0,f=(h,g)=>r[g].pathname!==h.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,g)=>c(h,g)||f(h,g)):o==="data"?e.filter((h,g)=>{let m=a.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,g)||f(h,g))return!0;if(h.route.shouldRevalidate){let p=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function oT(n,e,{includeHydrateFallback:r}={}){return uT(n.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function uT(n){return[...new Set(n)]}function cT(n){let e={},r=Object.keys(n).sort();for(let a of r)e[a]=n[a];return e}function fT(n,e){let r=new Set;return new Set(e),n.reduce((a,s)=>{let o=JSON.stringify(cT(s));return r.has(o)||(r.add(o),a.push({key:o,link:s})),a},[])}function Dw(){let n=D.useContext(is);return K0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function dT(){let n=D.useContext(td);return K0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var I0=D.createContext(void 0);I0.displayName="FrameworkContext";function Ow(){let n=D.useContext(I0);return K0(n,"You must render this element inside a <HydratedRouter> element"),n}function hT(n,e){let r=D.useContext(I0),[a,s]=D.useState(!1),[o,c]=D.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:g,onMouseLeave:m,onTouchStart:p}=e,v=D.useRef(null);D.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let N=S=>{S.forEach(E=>{c(E.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[n]),D.useEffect(()=>{if(a){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[a]);let _=()=>{s(!0)},w=()=>{s(!1),c(!1)};return r?n!=="intent"?[o,v,{}]:[o,v,{onFocus:uo(f,_),onBlur:uo(h,w),onMouseEnter:uo(g,_),onMouseLeave:uo(m,w),onTouchStart:uo(p,_)}]:[!1,v,{}]}function uo(n,e){return r=>{n&&n(r),r.defaultPrevented||e(r)}}function gT({page:n,...e}){let{router:r}=Dw(),a=D.useMemo(()=>yw(r.routes,n,r.basename),[r.routes,n,r.basename]);return a?D.createElement(mT,{page:n,matches:a,...e}):null}function pT(n){let{manifest:e,routeModules:r}=Ow(),[a,s]=D.useState([]);return D.useEffect(()=>{let o=!1;return sT(n,e,r).then(c=>{o||s(c)}),()=>{o=!0}},[n,e,r]),a}function mT({page:n,matches:e,...r}){let a=qa(),{manifest:s,routeModules:o}=Ow(),{basename:c}=Dw(),{loaderData:f,matches:h}=dT(),g=D.useMemo(()=>bb(n,e,h,s,a,"data"),[n,e,h,s,a]),m=D.useMemo(()=>bb(n,e,h,s,a,"assets"),[n,e,h,s,a]),p=D.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let w=new Set,N=!1;if(e.forEach(S=>{let E=s.routes[S.route.id];!E||!E.hasLoader||(!g.some(T=>T.route.id===S.route.id)&&S.route.id in f&&o[S.route.id]?.shouldRevalidate||E.hasClientLoader?N=!0:w.add(S.route.id))}),w.size===0)return[];let C=iT(n,c,"data");return N&&w.size>0&&C.searchParams.set("_routes",e.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[C.pathname+C.search]},[c,f,a,s,g,e,n,o]),v=D.useMemo(()=>oT(m,s),[m,s]),_=pT(m);return D.createElement(D.Fragment,null,p.map(w=>D.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),v.map(w=>D.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),_.map(({key:w,link:N})=>D.createElement("link",{key:w,nonce:r.nonce,...N})))}function yT(...n){return e=>{n.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var xT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xT&&(window.__reactRouterVersion="7.11.0")}catch{}function vT({basename:n,children:e,unstable_useTransitions:r,window:a}){let s=D.useRef();s.current==null&&(s.current=Wk({window:a,v5Compat:!0}));let o=s.current,[c,f]=D.useState({action:o.action,location:o.location}),h=D.useCallback(g=>{r===!1?f(g):D.startTransition(()=>f(g))},[r]);return D.useLayoutEffect(()=>o.listen(h),[o,h]),D.createElement(XE,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:r})}var zw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rw=D.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:s,reloadDocument:o,replace:c,state:f,target:h,to:g,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:v,..._},w){let{basename:N,unstable_useTransitions:C}=D.useContext(Bn),S=typeof g=="string"&&zw.test(g),E=Cw(g,N);g=E.to;let T=OE(g,{relative:s}),[j,M,O]=hT(a,_),A=ST(g,{replace:c,state:f,target:h,preventScrollReset:m,relative:s,viewTransition:p,unstable_defaultShouldRevalidate:v,unstable_useTransitions:C});function R(H){e&&e(H),H.defaultPrevented||A(H)}let $=D.createElement("a",{..._,...O,href:E.absoluteURL||T,onClick:E.isExternal||o?e:R,ref:yT(w,M),target:h,"data-discover":!S&&r==="render"?"true":void 0});return j&&!S?D.createElement(D.Fragment,null,$,D.createElement(gT,{page:T})):$});Rw.displayName="Link";var bT=D.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:s=!1,style:o,to:c,viewTransition:f,children:h,...g},m){let p=au(c,{relative:g.relative}),v=qa(),_=D.useContext(td),{navigator:w,basename:N}=D.useContext(Bn),C=_!=null&&TT(p)&&f===!0,S=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,E=v.pathname,T=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(E=E.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&N&&(T=ni(T,N)||T);const j=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let M=E===S||!s&&E.startsWith(S)&&E.charAt(j)==="/",O=T!=null&&(T===S||!s&&T.startsWith(S)&&T.charAt(S.length)==="/"),A={isActive:M,isPending:O,isTransitioning:C},R=M?e:void 0,$;typeof a=="function"?$=a(A):$=[a,M?"active":null,O?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let H=typeof o=="function"?o(A):o;return D.createElement(Rw,{...g,"aria-current":R,className:$,ref:m,style:H,to:c,viewTransition:f},typeof h=="function"?h(A):h)});bT.displayName="NavLink";var _T=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:s,state:o,method:c=uf,action:f,onSubmit:h,relative:g,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:v,..._},w)=>{let{unstable_useTransitions:N}=D.useContext(Bn),C=kT(),S=ET(f,{relative:g}),E=c.toLowerCase()==="get"?"get":"post",T=typeof f=="string"&&zw.test(f),j=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let O=M.nativeEvent.submitter,A=O?.getAttribute("formmethod")||c,R=()=>C(O||M.currentTarget,{fetcherKey:e,method:A,navigate:r,replace:s,state:o,relative:g,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:v});N&&r!==!1?D.startTransition(()=>R()):R()};return D.createElement("form",{ref:w,method:E,action:S,onSubmit:a?h:j,..._,"data-discover":!T&&n==="render"?"true":void 0})});_T.displayName="Form";function wT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lw(n){let e=D.useContext(is);return St(e,wT(n)),e}function ST(n,{target:e,replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let g=zE(),m=qa(),p=au(n,{relative:o});return D.useCallback(v=>{if(eT(v,e)){v.preventDefault();let _=r!==void 0?r:Uo(m)===Uo(p),w=()=>g(n,{replace:_,state:a,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:f});h?D.startTransition(()=>w()):w()}},[m,g,p,r,a,e,n,s,o,c,f,h])}var CT=0,NT=()=>`__${String(++CT)}__`;function kT(){let{router:n}=Lw("useSubmit"),{basename:e}=D.useContext(Bn),r=KE(),a=n.fetch,s=n.navigate;return D.useCallback(async(o,c={})=>{let{action:f,method:h,encType:g,formData:m,body:p}=rT(o,e);if(c.navigate===!1){let v=c.fetcherKey||NT();await a(v,r,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||h,formEncType:c.encType||g,flushSync:c.flushSync})}else await s(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||h,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,s,e,r])}function ET(n,{relative:e}={}){let{basename:r}=D.useContext(Bn),a=D.useContext(li);St(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...au(n||".",{relative:e})},c=qa();if(n==null){o.search=c.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(m=>m==="")){f.delete("index"),h.filter(p=>p).forEach(p=>f.append("index",p));let m=f.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:ei([r,o.pathname])),Uo(o)}function TT(n,{relative:e}={}){let r=D.useContext(kw);St(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Lw("useViewTransitionState"),s=au(n,{relative:e});if(!r.isTransitioning)return!1;let o=ni(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=ni(r.nextLocation.pathname,a)||r.nextLocation.pathname;return wf(s.pathname,c)!=null||wf(s.pathname,o)!=null}var Xl=mw();let jT={data:""},AT=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||jT},MT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DT=/\/\*[^]*?\*\/|  +/g,_b=/\n+/g,Ui=(n,e)=>{let r="",a="",s="";for(let o in n){let c=n[o];o[0]=="@"?o[1]=="i"?r=o+" "+c+";":a+=o[1]=="f"?Ui(c,o):o+"{"+Ui(c,o[1]=="k"?"":e)+"}":typeof c=="object"?a+=Ui(c,e?e.replace(/([^,])+/g,f=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,f):f?f+" "+h:h)):o):c!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ui.p?Ui.p(o,c):o+":"+c+";")}return r+(e&&s?e+"{"+s+"}":s)+a},Hr={},$w=n=>{if(typeof n=="object"){let e="";for(let r in n)e+=r+$w(n[r]);return e}return n},OT=(n,e,r,a,s)=>{let o=$w(n),c=Hr[o]||(Hr[o]=(h=>{let g=0,m=11;for(;g<h.length;)m=101*m+h.charCodeAt(g++)>>>0;return"go"+m})(o));if(!Hr[c]){let h=o!==n?n:(g=>{let m,p,v=[{}];for(;m=MT.exec(g.replace(DT,""));)m[4]?v.shift():m[3]?(p=m[3].replace(_b," ").trim(),v.unshift(v[0][p]=v[0][p]||{})):v[0][m[1]]=m[2].replace(_b," ").trim();return v[0]})(n);Hr[c]=Ui(s?{["@keyframes "+c]:h}:h,r?"":"."+c)}let f=r&&Hr.g?Hr.g:null;return r&&(Hr.g=Hr[c]),((h,g,m,p)=>{p?g.data=g.data.replace(p,h):g.data.indexOf(h)===-1&&(g.data=m?h+g.data:g.data+h)})(Hr[c],e,a,f),c},zT=(n,e,r)=>n.reduce((a,s,o)=>{let c=e[o];if(c&&c.call){let f=c(r),h=f&&f.props&&f.props.className||/^go/.test(f)&&f;c=h?"."+h:f&&typeof f=="object"?f.props?"":Ui(f,""):f===!1?"":f}return a+s+(c??"")},"");function id(n){let e=this||{},r=n.call?n(e.p):n;return OT(r.unshift?r.raw?zT(r,[].slice.call(arguments,1),e.p):r.reduce((a,s)=>Object.assign(a,s&&s.call?s(e.p):s),{}):r,AT(e.target),e.g,e.o,e.k)}let Uw,zp,Rp;id.bind({g:1});let ri=id.bind({k:1});function RT(n,e,r,a){Ui.p=e,Uw=n,zp=r,Rp=a}function Yi(n,e){let r=this||{};return function(){let a=arguments;function s(o,c){let f=Object.assign({},o),h=f.className||s.className;r.p=Object.assign({theme:zp&&zp()},f),r.o=/ *go\d+/.test(h),f.className=id.apply(r,a)+(h?" "+h:"");let g=n;return n[0]&&(g=f.as||n,delete f.as),Rp&&g[0]&&Rp(f),Uw(g,f)}return s}}var LT=n=>typeof n=="function",Sf=(n,e)=>LT(n)?n(e):n,$T=(()=>{let n=0;return()=>(++n).toString()})(),Bw=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),UT=20,Y0="default",Hw=(n,e)=>{let{toastLimit:r}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,r)};case 1:return{...n,toasts:n.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:a}=e;return Hw(n,{type:n.toasts.find(c=>c.id===a.id)?1:0,toast:a});case 3:let{toastId:s}=e;return{...n,toasts:n.toasts.map(c=>c.id===s||s===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+o}))}}},ff=[],Pw={toasts:[],pausedAt:void 0,settings:{toastLimit:UT}},hr={},Fw=(n,e=Y0)=>{hr[e]=Hw(hr[e]||Pw,n),ff.forEach(([r,a])=>{r===e&&a(hr[e])})},qw=n=>Object.keys(hr).forEach(e=>Fw(n,e)),BT=n=>Object.keys(hr).find(e=>hr[e].toasts.some(r=>r.id===n)),ad=(n=Y0)=>e=>{Fw(e,n)},HT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},PT=(n={},e=Y0)=>{let[r,a]=D.useState(hr[e]||Pw),s=D.useRef(hr[e]);D.useEffect(()=>(s.current!==hr[e]&&a(hr[e]),ff.push([e,a]),()=>{let c=ff.findIndex(([f])=>f===e);c>-1&&ff.splice(c,1)}),[e]);let o=r.toasts.map(c=>{var f,h,g;return{...n,...n[c.type],...c,removeDelay:c.removeDelay||((f=n[c.type])==null?void 0:f.removeDelay)||n?.removeDelay,duration:c.duration||((h=n[c.type])==null?void 0:h.duration)||n?.duration||HT[c.type],style:{...n.style,...(g=n[c.type])==null?void 0:g.style,...c.style}}});return{...r,toasts:o}},FT=(n,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...r,id:r?.id||$T()}),lu=n=>(e,r)=>{let a=FT(e,n,r);return ad(a.toasterId||BT(a.id))({type:2,toast:a}),a.id},$e=(n,e)=>lu("blank")(n,e);$e.error=lu("error");$e.success=lu("success");$e.loading=lu("loading");$e.custom=lu("custom");$e.dismiss=(n,e)=>{let r={type:3,toastId:n};e?ad(e)(r):qw(r)};$e.dismissAll=n=>$e.dismiss(void 0,n);$e.remove=(n,e)=>{let r={type:4,toastId:n};e?ad(e)(r):qw(r)};$e.removeAll=n=>$e.remove(void 0,n);$e.promise=(n,e,r)=>{let a=$e.loading(e.loading,{...r,...r?.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let o=e.success?Sf(e.success,s):void 0;return o?$e.success(o,{id:a,...r,...r?.success}):$e.dismiss(a),s}).catch(s=>{let o=e.error?Sf(e.error,s):void 0;o?$e.error(o,{id:a,...r,...r?.error}):$e.dismiss(a)}),n};var qT=1e3,GT=(n,e="default")=>{let{toasts:r,pausedAt:a}=PT(n,e),s=D.useRef(new Map).current,o=D.useCallback((p,v=qT)=>{if(s.has(p))return;let _=setTimeout(()=>{s.delete(p),c({type:4,toastId:p})},v);s.set(p,_)},[]);D.useEffect(()=>{if(a)return;let p=Date.now(),v=r.map(_=>{if(_.duration===1/0)return;let w=(_.duration||0)+_.pauseDuration-(p-_.createdAt);if(w<0){_.visible&&$e.dismiss(_.id);return}return setTimeout(()=>$e.dismiss(_.id,e),w)});return()=>{v.forEach(_=>_&&clearTimeout(_))}},[r,a,e]);let c=D.useCallback(ad(e),[e]),f=D.useCallback(()=>{c({type:5,time:Date.now()})},[c]),h=D.useCallback((p,v)=>{c({type:1,toast:{id:p,height:v}})},[c]),g=D.useCallback(()=>{a&&c({type:6,time:Date.now()})},[a,c]),m=D.useCallback((p,v)=>{let{reverseOrder:_=!1,gutter:w=8,defaultPosition:N}=v||{},C=r.filter(T=>(T.position||N)===(p.position||N)&&T.height),S=C.findIndex(T=>T.id===p.id),E=C.filter((T,j)=>j<S&&T.visible).length;return C.filter(T=>T.visible).slice(..._?[E+1]:[0,E]).reduce((T,j)=>T+(j.height||0)+w,0)},[r]);return D.useEffect(()=>{r.forEach(p=>{if(p.dismissed)o(p.id,p.removeDelay);else{let v=s.get(p.id);v&&(clearTimeout(v),s.delete(p.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:h,startPause:f,endPause:g,calculateOffset:m}}},KT=ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,IT=ri`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YT=ri`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,VT=Yi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${IT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${YT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,XT=ri`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,QT=Yi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${XT} 1s linear infinite;
`,ZT=ri`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,JT=ri`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,WT=Yi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${JT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,e4=Yi("div")`
  position: absolute;
`,t4=Yi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,n4=ri`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,r4=Yi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${n4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,i4=({toast:n})=>{let{icon:e,type:r,iconTheme:a}=n;return e!==void 0?typeof e=="string"?D.createElement(r4,null,e):e:r==="blank"?null:D.createElement(t4,null,D.createElement(QT,{...a}),r!=="loading"&&D.createElement(e4,null,r==="error"?D.createElement(VT,{...a}):D.createElement(WT,{...a})))},a4=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,l4=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,s4="0%{opacity:0;} 100%{opacity:1;}",o4="0%{opacity:1;} 100%{opacity:0;}",u4=Yi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,c4=Yi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,f4=(n,e)=>{let r=n.includes("top")?1:-1,[a,s]=Bw()?[s4,o4]:[a4(r),l4(r)];return{animation:e?`${ri(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ri(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},d4=D.memo(({toast:n,position:e,style:r,children:a})=>{let s=n.height?f4(n.position||e||"top-center",n.visible):{opacity:0},o=D.createElement(i4,{toast:n}),c=D.createElement(c4,{...n.ariaProps},Sf(n.message,n));return D.createElement(u4,{className:n.className,style:{...s,...r,...n.style}},typeof a=="function"?a({icon:o,message:c}):D.createElement(D.Fragment,null,o,c))});RT(D.createElement);var h4=({id:n,className:e,style:r,onHeightUpdate:a,children:s})=>{let o=D.useCallback(c=>{if(c){let f=()=>{let h=c.getBoundingClientRect().height;a(n,h)};f(),new MutationObserver(f).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,a]);return D.createElement("div",{ref:o,className:e,style:r},s)},g4=(n,e)=>{let r=n.includes("top"),a=r?{top:0}:{bottom:0},s=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Bw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...a,...s}},p4=id`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Hc=16,m4=({reverseOrder:n,position:e="top-center",toastOptions:r,gutter:a,children:s,toasterId:o,containerStyle:c,containerClassName:f})=>{let{toasts:h,handlers:g}=GT(r,o);return D.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Hc,left:Hc,right:Hc,bottom:Hc,pointerEvents:"none",...c},className:f,onMouseEnter:g.startPause,onMouseLeave:g.endPause},h.map(m=>{let p=m.position||e,v=g.calculateOffset(m,{reverseOrder:n,gutter:a,defaultPosition:e}),_=g4(p,v);return D.createElement(h4,{id:m.id,key:m.id,onHeightUpdate:g.updateHeight,className:m.visible?p4:"",style:_},m.type==="custom"?Sf(m.message,m):s?s(m):D.createElement(d4,{toast:m,position:p}))}))};const y4=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x4=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),wb=n=>{const e=x4(n);return e.charAt(0).toUpperCase()+e.slice(1)},Gw=(...n)=>n.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),v4=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var b4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _4=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:c,...f},h)=>D.createElement("svg",{ref:h,...b4,width:e,height:e,stroke:n,strokeWidth:a?Number(r)*24/Number(e):r,className:Gw("lucide",s),...!o&&!v4(f)&&{"aria-hidden":"true"},...f},[...c.map(([g,m])=>D.createElement(g,m)),...Array.isArray(o)?o:[o]]));const de=(n,e)=>{const r=D.forwardRef(({className:a,...s},o)=>D.createElement(_4,{ref:o,iconNode:e,className:Gw(`lucide-${y4(wb(n))}`,`lucide-${n}`,a),...s}));return r.displayName=wb(n),r};const w4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Lp=de("activity",w4);const S4=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],C4=de("arrow-down-to-line",S4);const N4=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],k4=de("arrow-down",N4);const E4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],T4=de("arrow-right",E4);const j4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],A4=de("award",j4);const M4=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],D4=de("bold",M4);const O4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Vi=de("book-open",O4);const z4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Kw=de("bot",z4);const R4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Iw=de("calendar",R4);const L4=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Bo=de("chart-no-axes-column",L4);const $4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Yw=de("check",$4);const U4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],B4=de("chevron-right",U4);const H4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],V0=de("circle-alert",H4);const P4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}],["path",{d:"M8 12h8",key:"1wcyev"}]],Vw=de("circle-arrow-right",P4);const F4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$p=de("circle-check-big",F4);const q4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ho=de("circle-check",q4);const G4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],K4=de("circle-question-mark",G4);const I4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],Xw=de("circle-stop",I4);const Y4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],V4=de("circle-x",Y4);const X4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Q4=de("clipboard-list",X4);const Z4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],J4=de("copy",Z4);const W4=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],ej=de("cpu",W4);const tj=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Qw=de("crown",tj);const nj=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],X0=de("database",nj);const rj=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],ij=de("eraser",rj);const aj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lj=de("external-link",aj);const sj=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],oj=de("feather",sj);const uj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]],cj=de("file-question-mark",uj);const fj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Po=de("file-text",fj);const dj=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],hj=de("folder-open",dj);const gj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pj=de("funnel",gj);const mj=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],yj=de("git-branch",mj);const xj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Sb=de("globe",xj);const vj=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],bj=de("graduation-cap",vj);const _j=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],wj=de("grip-horizontal",_j);const Sj=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],Cj=de("heading-1",Sj);const Nj=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],kj=de("heading-2",Nj);const Ej=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Tj=de("info",Ej);const jj=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Aj=de("italic",jj);const Mj=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Zw=de("layers",Mj);const Dj=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Oj=de("layout-grid",Dj);const zj=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Rj=de("library",zj);const Lj=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Jw=de("lightbulb",Lj);const $j=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Uj=de("list-ordered",$j);const Bj=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Hj=de("list",Bj);const Pj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Cf=de("loader-circle",Pj);const Fj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Cb=de("lock",Fj);const qj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gj=de("log-out",qj);const Kj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Ww=de("maximize-2",Kj);const Ij=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Q0=de("message-square",Ij);const Yj=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],Up=de("microscope",Yj);const Vj=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],eS=de("minimize-2",Vj);const Xj=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Qj=de("monitor",Xj);const Zj=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],Jj=de("mouse-pointer-2",Zj);const Wj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],eA=de("panel-left-close",Wj);const tA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]],nA=de("panel-left-open",tA);const rA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],iA=de("panel-right-close",rA);const aA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],lA=de("panel-right-open",aA);const sA=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Z0=de("pen-tool",sA);const oA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],tS=de("play",oA);const uA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nS=de("plus",uA);const cA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],fA=de("printer",cA);const dA=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],rS=de("quote",dA);const hA=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],gA=de("redo",hA);const pA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Qn=de("refresh-cw",pA);const mA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],yA=de("rotate-ccw",mA);const xA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vA=de("save",xA);const bA=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],Nb=de("scan-line",bA);const _A=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ld=de("search",_A);const wA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],SA=de("send",wA);const CA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nf=de("settings",CA);const NA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],kb=de("shield-alert",NA);const kA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bp=de("shield-check",kA);const EA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],su=de("sparkles",EA);const TA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],iS=de("target",TA);const jA=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],AA=de("text-align-center",jA);const MA=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],DA=de("text-align-end",MA);const OA=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],zA=de("text-align-justify",OA);const RA=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],J0=de("text-align-start",RA);const LA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$A=de("trash-2",LA);const UA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],W0=de("triangle-alert",UA);const BA=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],HA=de("type",BA);const PA=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],FA=de("underline",PA);const qA=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],GA=de("undo",qA);const KA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Eb=de("upload",KA);const IA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sd=de("user",IA);const YA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],VA=de("users",YA);const XA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ou=de("x",XA);const QA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ZA=de("zap",QA),aS=D.createContext(null);function JA(n,e){return{getTheme:function(){return e??null}}}function Ct(){const n=D.useContext(aS);return n==null&&(function(e,...r){const a=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",e);for(const o of r)s.append("v",o);throw a.search=s.toString(),Error(`Minified Lexical error #${e}; visit ${a.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(8),n}function ue(n,...e){const r=new URL("https://lexical.dev/docs/error"),a=new URLSearchParams;a.append("code",n);for(const s of e)a.append("v",s);throw r.search=a.toString(),Error(`Minified Lexical error #${n}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function lS(n,...e){const r=new URL("https://lexical.dev/docs/error"),a=new URLSearchParams;a.append("code",n);for(const s of e)a.append("v",s);r.search=a.toString(),console.warn(`Minified Lexical warning #${n}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const rr=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,WA=rr&&"documentMode"in document?document.documentMode:null,In=rr&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Ma=rr&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),kf=!(!rr||!("InputEvent"in window)||WA)&&"getTargetRanges"in new window.InputEvent("input"),uu=rr&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),as=rr&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,eM=rr&&/Android/.test(navigator.userAgent),sS=rr&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Tb=rr&&eM&&sS,cu=rr&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&In&&!sS;function oS(...n){const e=[];for(const r of n)if(r&&typeof r=="string")for(const[a]of r.matchAll(/\S+/g))e.push(a);return e}const tM=0,nM=1,rM=2,uS=128,iM=1,aM=2,lM=3,sM=4,oM=5,uM=6,od=uu||as||cu?"":"",Ki=`

`,cM=Ma?"":od,Da={bold:1,capitalize:1024,code:16,highlight:uS,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},fM={directionless:1,unmergeable:2},jb={center:2,end:6,justify:4,left:1,right:3,start:5},dM={[aM]:"center",[uM]:"end",[sM]:"justify",[iM]:"left",[lM]:"right",[oM]:"start"},hM={normal:0,segmented:2,token:1},gM={[tM]:"normal",[rM]:"segmented",[nM]:"token"},Ab="$config";function cS(n,e,r,a,s,o){let c=n.getFirstChild();for(;c!==null;){const f=c.__key;c.__parent===e&&(re(c)&&cS(c,f,r,a,s,o),r.has(f)||o.delete(f),s.push(f)),c=c.getNextSibling()}}let Hp=!1,em=0;function pM(n){em=n.timeStamp}function rp(n,e,r){const a=n.nodeName==="BR",s=e.__lexicalLineBreak;return s&&(n===s||a&&n.previousSibling===s)||a&&md(n,r)!==void 0}function mM(n,e,r){const a=Pn(Hn(r));let s=null,o=null;a!==null&&a.anchorNode===n&&(s=a.anchorOffset,o=a.focusOffset);const c=n.nodeValue;c!==null&&_m(e,c,s,o,!1)}function yM(n,e,r){if(oe(n)){const a=n.anchor.getNode();if(a.is(r)&&n.format!==a.getFormat())return!1}return ui(e)&&r.isAttached()}function xM(n,e,r,a){for(let s=n;s&&!_6(s);s=pu(s)){const o=md(s,e);if(o!==void 0){const c=wt(o,r);if(c)return Fe(c)||!jt(s)?void 0:[s,c]}else if(s===a)return[a,gC(r)]}}function fS(n,e,r){Hp=!0;const a=performance.now()-em>100;try{mr(n,()=>{const s=he()||(function(v){return v.getEditorState().read(()=>{const _=he();return _!==null?_.clone():null})})(n),o=new Map,c=n.getRootElement(),f=n._editorState,h=n._blockCursorElement;let g=!1,m="";for(let v=0;v<e.length;v++){const _=e[v],w=_.type,N=_.target,C=xM(N,n,f,c);if(!C)continue;const[S,E]=C;if(w==="characterData")a&&me(E)&&ui(N)&&yM(s,N,E)&&mM(N,E,n);else if(w==="childList"){g=!0;const T=_.addedNodes;for(let O=0;O<T.length;O++){const A=T[O],R=dC(A),$=A.parentNode;if($!=null&&A!==h&&R===null&&!rp(A,$,n)){if(Ma){const H=(jt(A)?A.innerText:null)||A.nodeValue;H&&(m+=H)}$.removeChild(A)}}const j=_.removedNodes,M=j.length;if(M>0){let O=0;for(let A=0;A<M;A++){const R=j[A];(rp(R,N,n)||h===R)&&(N.appendChild(R),O++)}M!==O&&o.set(S,E)}}}if(o.size>0)for(const[v,_]of o)_.reconcileObservedMutation(v,n);const p=r.takeRecords();if(p.length>0){for(let v=0;v<p.length;v++){const _=p[v],w=_.addedNodes,N=_.target;for(let C=0;C<w.length;C++){const S=w[C],E=S.parentNode;E==null||S.nodeName!=="BR"||rp(S,N,n)||E.removeChild(S)}}r.takeRecords()}s!==null&&(g&&Kt(s),Ma&&xC(n)&&s.insertRawText(m))})}finally{Hp=!1}}function dS(n){const e=n._observer;e!==null&&fS(n,e.takeRecords(),e)}function hS(n){(function(e){em===0&&Hn(e).addEventListener("textInput",pM,!0)})(n),n._observer=new MutationObserver((e,r)=>{fS(n,e,r)})}function vM(n){const e=new Map,r=new Set;for(let a=typeof n=="function"?n:n.replace;a.prototype&&a.prototype.getType!==void 0;a=Object.getPrototypeOf(a)){const{ownNodeConfig:s}=xd(a);if(s&&s.stateConfigs)for(const o of s.stateConfigs){let c;"stateConfig"in o?(c=o.stateConfig,o.flat&&r.add(c.key)):c=o,e.set(c.key,c)}}return{flatKeys:r,sharedConfigMap:e}}let bM=class gS{node;knownState;unknownState;sharedNodeState;size;constructor(e,r,a=void 0,s=new Map,o=void 0){this.node=e,this.sharedNodeState=r,this.unknownState=a,this.knownState=s;const{sharedConfigMap:c}=this.sharedNodeState,f=o!==void 0?o:(function(h,g,m){let p=m.size;if(g)for(const v in g){const _=h.get(v);_&&m.has(_)||p++}return p})(c,a,s);this.size=f}getValue(e){const r=this.knownState.get(e);if(r!==void 0)return r;this.sharedNodeState.sharedConfigMap.set(e.key,e);let a=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const s=this.unknownState[e.key];s!==void 0&&(a=e.parse(s)),this.updateFromKnown(e,a)}return a}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},r={};for(const[a,s]of this.knownState)a.isEqual(s,a.defaultValue)?delete e[a.key]:e[a.key]=a.unparse(s);for(const a of this.sharedNodeState.flatKeys)a in e&&(r[a]=e[a],delete e[a]);return Mb(e)&&(r.$=e),r}getWritable(e){if(this.node===e)return this;const{sharedNodeState:r,unknownState:a}=this,s=new Map(this.knownState);return new gS(e,r,(function(o,c,f){let h;if(f)for(const[g,m]of Object.entries(f)){const p=o.get(g);p?c.has(p)||c.set(p,p.parse(m)):(h=h||{},h[g]=m)}return h})(r.sharedConfigMap,s,a),s,this.size)}updateFromKnown(e,r){const a=e.key;this.sharedNodeState.sharedConfigMap.set(a,e);const{knownState:s,unknownState:o}=this;s.has(e)||o&&a in o||(o&&(delete o[a],this.unknownState=Mb(o)),this.size++),s.set(e,r)}updateFromUnknown(e,r){const a=this.sharedNodeState.sharedConfigMap.get(e);a?this.updateFromKnown(a,a.parse(r)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=r)}updateFromJSON(e){const{knownState:r}=this;for(const a of r.keys())r.set(a,a.defaultValue);if(this.size=r.size,this.unknownState=void 0,e)for(const[a,s]of Object.entries(e))this.updateFromUnknown(a,s)}};function _M(n){const e=n.getWritable(),r=e.__state?e.__state.getWritable(e):new bM(e,pS(e));return e.__state=r,r}function pS(n){return n.__state?n.__state.sharedNodeState:sC(Cm(),n.getType()).sharedNodeState}function Mb(n){if(n)for(const e in n)return n}function Db(n,e,r){for(const[a,s]of e.knownState){if(n.has(a.key))continue;n.add(a.key);const o=r?r.getValue(a):a.defaultValue;if(o!==s&&!a.isEqual(o,s))return!0}return!1}function Ob(n,e,r){const{unknownState:a}=e,s=r?r.unknownState:void 0;if(a){for(const[o,c]of Object.entries(a))if(!n.has(o)&&(n.add(o),c!==(s?s[o]:void 0)))return!0}return!1}function zb(n,e){const r=n.__state;return r&&r.node===n?r.getWritable(e):r}function Rb(n,e){const r=n.__mode,a=n.__format,s=n.__style,o=e.__mode,c=e.__format,f=e.__style,h=n.__state,g=e.__state;return(r===null||r===o)&&(a===null||a===c)&&(s===null||s===f)&&(n.__state===null||h===g||(function(m,p){if(m===p)return!0;if(m&&p&&m.size!==p.size)return!1;const v=new Set;return!(m&&Db(v,m,p)||p&&Db(v,p,m)||m&&Ob(v,m,p)||p&&Ob(v,p,m))})(h,g))}function Lb(n,e){const r=n.mergeWithSibling(e),a=Je()._normalizedNodes;return a.add(n.__key),a.add(e.__key),r}function $b(n){let e,r,a=n;if(a.__text!==""||!a.isSimpleText()||a.isUnmergeable()){for(;(e=a.getPreviousSibling())!==null&&me(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(Rb(e,a)){a=Lb(e,a);break}break}e.remove()}for(;(r=a.getNextSibling())!==null&&me(r)&&r.isSimpleText()&&!r.isUnmergeable();){if(r.__text!==""){if(Rb(a,r)){a=Lb(a,r);break}break}r.remove()}}else a.remove()}function Ef(n){return Ub(n.anchor),Ub(n.focus),n}function Ub(n){for(;n.type==="element";){const e=n.getNode(),r=n.offset;let a,s;if(r===e.getChildrenSize()?(a=e.getChildAtIndex(r-1),s=!0):(a=e.getChildAtIndex(r),s=!1),me(a)){n.set(a.__key,s?a.getTextContentSize():0,"text",!0);break}if(!re(a))break;n.set(a.__key,s?a.getChildrenSize():0,"element",!0)}}let Oa,Ht,Fo,ud,Pp,Fp,za,Zn,qp,qo,_t="",ur=null,xa=null,Xr="",$l=!1,Tf=!1;function jf(n,e){const r=za.get(n);if(e!==null){const a=Yp(n);a.parentNode===e&&e.removeChild(a)}if(Zn.has(n)||Ht._keyToDOMMap.delete(n),re(r)){const a=Mf(r,za);Gp(a,0,a.length-1,null)}r!==void 0&&wm(qo,Fo,ud,r,"destroyed")}function Gp(n,e,r,a){let s=e;for(;s<=r;++s){const o=n[s];o!==void 0&&jf(o,a)}}function ma(n,e){n.setProperty("text-align",e)}const wM="40px";function mS(n,e){const r=Oa.theme.indent;if(typeof r=="string"){const s=n.classList.contains(r);e>0&&!s?n.classList.add(r):e<1&&s&&n.classList.remove(r)}const a=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||wM;n.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${a})`)}function yS(n,e){const r=n.style;e===0?ma(r,""):e===1?ma(r,"left"):e===2?ma(r,"center"):e===3?ma(r,"right"):e===4?ma(r,"justify"):e===5?ma(r,"start"):e===6&&ma(r,"end")}function Kp(n,e){const r=(function(a){const s=a.__dir;if(s!==null)return s;if(vt(a))return null;const o=a.getParentOrThrow();return vt(o)&&o.__dir===null?"auto":null})(e);r!==null?n.dir=r:n.removeAttribute("dir")}function Af(n,e){const r=Zn.get(n);r===void 0&&ue(60);const a=r.createDOM(Oa,Ht);if((function(s,o,c){const f=c._keyToDOMMap;(function(h,g,m){const p=`__lexicalKey_${g._key}`;h[p]=m})(o,c,s),f.set(s,o)})(n,a,Ht),me(r)?a.setAttribute("data-lexical-text","true"):Fe(r)&&a.setAttribute("data-lexical-decorator","true"),re(r)){const s=r.__indent,o=r.__size;if(Kp(a,r),s!==0&&mS(a,s),o!==0){const f=o-1;Ip(Mf(r,Zn),r,0,f,r.getDOMSlot(a))}const c=r.__format;c!==0&&yS(a,c),r.isInline()||xS(null,r,a),yd(r)&&(_t+=Ki,Xr+=Ki)}else{const s=r.getTextContent();if(Fe(r)){const o=r.decorate(Ht,Oa);o!==null&&vS(n,o),a.contentEditable="false"}_t+=s,Xr+=s}return e!==null&&e.insertChild(a),wm(qo,Fo,ud,r,"created"),a}function Ip(n,e,r,a,s){const o=_t;_t="";let c=r;for(;c<=a;++c){Af(n[c],s);const f=Zn.get(n[c]);f!==null&&me(f)&&ur===null&&(ur=f.getFormat(),xa=f.getStyle())}yd(e)&&(_t+=Ki),s.element.__lexicalTextContent=_t,_t=o+_t}function Bb(n,e){if(n){const r=n.__last;if(r){const a=e.get(r);if(a)return Gl(a)?"line-break":Fe(a)&&a.isInline()?"decorator":null}return"empty"}return null}function xS(n,e,r){const a=Bb(n,za),s=Bb(e,Zn);a!==s&&e.getDOMSlot(r).setManagedLineBreak(s)}function SM(n,e,r){var a;ur=null,xa=null,(function(s,o,c){const f=_t,h=s.__size,g=o.__size;_t="";const m=c.element;if(h===1&&g===1){const p=s.__first,v=o.__first;if(p===v)_o(p,m);else{const w=Yp(p),N=Af(v,null);try{m.replaceChild(N,w)}catch(C){if(typeof C=="object"&&C!=null){const S=`${C.toString()} Parent: ${m.tagName}, new child: {tag: ${N.tagName} key: ${v}}, old child: {tag: ${w.tagName}, key: ${p}}.`;throw new Error(S)}throw C}jf(p,null)}const _=Zn.get(v);me(_)&&ur===null&&(ur=_.getFormat(),xa=_.getStyle())}else{const p=Mf(s,za),v=Mf(o,Zn);if(p.length!==h&&ue(227),v.length!==g&&ue(228),h===0)g!==0&&Ip(v,o,0,g-1,c);else if(g===0){if(h!==0){const _=c.after==null&&c.before==null&&c.element.__lexicalLineBreak==null;Gp(p,0,h-1,_?null:m),_&&(m.textContent="")}}else(function(_,w,N,C,S,E){const T=C-1,j=S-1;let M,O,A=E.getFirstChild(),R=0,$=0;for(;R<=T&&$<=j;){const F=w[R],Q=N[$];if(F===Q)A=ip(_o(Q,E.element)),R++,$++;else{M===void 0&&(M=new Set(w)),O===void 0&&(O=new Set(N));const te=O.has(F),L=M.has(Q);if(te)if(L){const Y=La(Ht,Q);Y===A?A=ip(_o(Q,E.element)):(E.withBefore(A).insertChild(Y),_o(Q,E.element)),R++,$++}else Af(Q,E.withBefore(A)),$++;else A=ip(Yp(F)),jf(F,E.element),R++}const B=Zn.get(Q);B!==null&&me(B)&&ur===null&&(ur=B.getFormat(),xa=B.getStyle())}const H=R>T,I=$>j;if(H&&!I){const F=N[j+1],Q=F===void 0?null:Ht.getElementByKey(F);Ip(N,_,$,j,E.withBefore(Q))}else I&&!H&&Gp(w,R,T,E.element)})(o,p,v,h,g,c)}yd(o)&&(_t+=Ki),m.__lexicalTextContent=_t,_t=f+_t})(n,e,e.getDOMSlot(r)),a=e,ur==null||ur===a.__textFormat||Tf||a.setTextFormat(ur),(function(s){xa==null||xa===s.__textStyle||Tf||s.setTextStyle(xa)})(e)}function Mf(n,e){const r=[];let a=n.__first;for(;a!==null;){const s=e.get(a);s===void 0&&ue(101),r.push(a),a=s.__next}return r}function _o(n,e){const r=za.get(n);let a=Zn.get(n);r!==void 0&&a!==void 0||ue(61);const s=$l||Fp.has(n)||Pp.has(n),o=La(Ht,n);if(r===a&&!s){if(re(r)){const c=o.__lexicalTextContent;c!==void 0&&(_t+=c,Xr+=c)}else{const c=r.getTextContent();Xr+=c,_t+=c}return o}if(r!==a&&s&&wm(qo,Fo,ud,a,"updated"),a.updateDOM(r,o,Oa)){const c=Af(n,null);return e===null&&ue(62),e.replaceChild(c,o),jf(n,null),c}if(re(r)&&re(a)){const c=a.__indent;($l||c!==r.__indent)&&mS(o,c);const f=a.__format;if(($l||f!==r.__format)&&yS(o,f),s&&(SM(r,a,o),vt(a)||a.isInline()||xS(r,a,o)),yd(a)&&(_t+=Ki,Xr+=Ki),($l||a.__dir!==r.__dir)&&(Kp(o,a),vt(a)&&!$l))for(const h of a.getChildren())re(h)&&Kp(La(Ht,h.getKey()),h)}else{const c=a.getTextContent();if(Fe(a)){const f=a.decorate(Ht,Oa);f!==null&&vS(n,f)}_t+=c,Xr+=c}if(!Tf&&vt(a)&&a.__cachedText!==Xr){const c=a.getWritable();c.__cachedText=Xr,a=c}return o}function vS(n,e){let r=Ht._pendingDecorators;const a=Ht._decorators;if(r===null){if(a[n]===e)return;r=hC(Ht)}r[n]=e}function ip(n){let e=n.nextSibling;return e!==null&&e===Ht._blockCursorElement&&(e=e.nextSibling),e}function CM(n,e,r,a,s,o){_t="",Xr="",$l=a===2,Ht=r,Oa=r._config,Fo=r._nodes,ud=Ht._listeners.mutation,Pp=s,Fp=o,za=n._nodeMap,Zn=e._nodeMap,Tf=e._readOnly,qp=new Map(r._keyToDOMMap);const c=new Map;return qo=c,_o("root",null),Ht=void 0,Fo=void 0,Pp=void 0,Fp=void 0,za=void 0,Zn=void 0,Oa=void 0,qp=void 0,qo=void 0,c}function Yp(n){const e=qp.get(n);return e===void 0&&ue(75,n),e}function we(n){return{type:n}}const bS=we("SELECTION_CHANGE_COMMAND"),NM=we("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),_S=we("CLICK_COMMAND"),wS=we("BEFORE_INPUT_COMMAND"),SS=we("INPUT_COMMAND"),CS=we("COMPOSITION_START_COMMAND"),NS=we("COMPOSITION_END_COMMAND"),Na=we("DELETE_CHARACTER_COMMAND"),Pl=we("INSERT_LINE_BREAK_COMMAND"),Go=we("INSERT_PARAGRAPH_COMMAND"),Fl=we("CONTROLLED_TEXT_INSERTION_COMMAND"),tm=we("PASTE_COMMAND"),Vp=we("REMOVE_TEXT_COMMAND"),Ko=we("DELETE_WORD_COMMAND"),Io=we("DELETE_LINE_COMMAND"),Vn=we("FORMAT_TEXT_COMMAND"),cd=we("UNDO_COMMAND"),fd=we("REDO_COMMAND"),kS=we("KEYDOWN_COMMAND"),ES=we("KEY_ARROW_RIGHT_COMMAND"),kM=we("MOVE_TO_END"),TS=we("KEY_ARROW_LEFT_COMMAND"),EM=we("MOVE_TO_START"),nm=we("KEY_ARROW_UP_COMMAND"),rm=we("KEY_ARROW_DOWN_COMMAND"),Yo=we("KEY_ENTER_COMMAND"),jS=we("KEY_SPACE_COMMAND"),AS=we("KEY_BACKSPACE_COMMAND"),im=we("KEY_ESCAPE_COMMAND"),MS=we("KEY_DELETE_COMMAND"),am=we("KEY_TAB_COMMAND"),TM=we("INSERT_TAB_COMMAND"),jM=we("INDENT_CONTENT_COMMAND"),Hb=we("OUTDENT_CONTENT_COMMAND"),DS=we("DROP_COMMAND"),wo=we("FORMAT_ELEMENT_COMMAND"),OS=we("DRAGSTART_COMMAND"),zS=we("DRAGOVER_COMMAND"),AM=we("DRAGEND_COMMAND"),dd=we("COPY_COMMAND"),lm=we("CUT_COMMAND"),Xp=we("SELECT_ALL_COMMAND"),MM=we("CLEAR_EDITOR_COMMAND"),RS=we("CLEAR_HISTORY_COMMAND"),So=we("CAN_REDO_COMMAND"),Co=we("CAN_UNDO_COMMAND"),DM=we("FOCUS_COMMAND"),OM=we("BLUR_COMMAND"),zM=we("KEY_MODIFIER_COMMAND"),Pr=Object.freeze({}),Qp=[["keydown",function(n,e){Vo=n.timeStamp,LS=n.key,!e.isComposing()&&xe(e,kS,n)}],["pointerdown",function(n,e){const r=n.target,a=n.pointerType;fs(r)&&a!=="touch"&&a!=="pen"&&n.button===0&&mr(e,()=>{oC(r)||(Wp=!0)})}],["compositionstart",function(n,e){xe(e,CS,n)}],["compositionend",function(n,e){Ma?No=!0:as||!uu&&!cu?xe(e,NS,n):(e0=!0,t0=n.data)}],["input",function(n,e){n.stopPropagation(),mr(e,()=>{e.dispatchCommand(SS,n)},{event:n}),Ul=null}],["click",function(n,e){mr(e,()=>{const r=he(),a=Pn(Hn(e)),s=os();if(a){if(oe(r)){const o=r.anchor,c=o.getNode();if(o.type==="element"&&o.offset===0&&r.isCollapsed()&&!vt(c)&&ot().getChildrenSize()===1&&c.getTopLevelElementOrThrow().isEmpty()&&s!==null&&r.is(s))a.removeAllRanges(),r.dirty=!0;else if(n.detail===3&&!r.isCollapsed()&&c!==r.focus.getNode()){const f=Jn(c,h=>re(h)&&!h.isInline());re(f)&&f.select(0)}}else if(n.pointerType==="touch"||n.pointerType==="pen"){const o=a.anchorNode;(jt(o)||ui(o))&&Kt(um(s,a,e,n))}}xe(e,_S,n)})}],["cut",Pr],["copy",Pr],["dragstart",Pr],["dragover",Pr],["dragend",Pr],["paste",Pr],["focus",Pr],["blur",Pr],["drop",Pr]];kf&&Qp.push(["beforeinput",(n,e)=>(function(r,a){const s=r.inputType;s==="deleteCompositionText"||Ma&&xC(a)||s!=="insertCompositionText"&&xe(a,wS,r)})(n,e)]);let Vo=0,LS=null,$S=0,Ul=null;const Zp=new WeakMap,Df=new WeakMap;let Jp=!1,Wp=!1,Ao=!1,No=!1,e0=!1,t0="",va=null,US=[0,"",0,"root",0];function BS(n,e,r,a,s){const o=n.anchor,c=n.focus,f=o.getNode(),h=Je(),g=Pn(Hn(h)),m=g!==null?g.anchorNode:null,p=o.key,v=h.getElementByKey(p),_=r.length;return p!==c.key||!me(f)||(!s&&(!kf||$S<a+50)||f.isDirty()&&_<2||pC(r))&&o.offset!==c.offset&&!f.isComposing()||Vr(f)||f.isDirty()&&_>1||(s||!kf)&&v!==null&&!f.isComposing()&&m!==Zl(v)||g!==null&&e!==null&&(!e.collapsed||e.startContainer!==g.anchorNode||e.startOffset!==g.anchorOffset)||f.getFormat()!==n.format||f.getStyle()!==n.style||(function(w,N){if(N.isSegmented())return!0;if(!w.isCollapsed())return!1;const C=w.anchor.offset,S=N.getParentOrThrow(),E=Ea(N);return C===0?!N.canInsertTextBefore()||!S.canInsertTextBefore()&&!N.isComposing()||E||(function(T){const j=T.getPreviousSibling();return(me(j)||re(j)&&j.isInline())&&!j.canInsertTextAfter()})(N):C===N.getTextContentSize()&&(!N.canInsertTextAfter()||!S.canInsertTextAfter()&&!N.isComposing()||E)})(n,f)}function Pb(n,e){return ui(n)&&n.nodeValue!==null&&e!==0&&e!==n.nodeValue.length}function Fb(n,e,r){const{anchorNode:a,anchorOffset:s,focusNode:o,focusOffset:c}=n;Jp&&(Jp=!1,Pb(a,s)&&Pb(o,c)&&!va)||mr(e,()=>{if(!r)return void Kt(null);if(!gu(e,a,o))return;let f=he();if(va&&oe(f)&&f.isCollapsed()){const h=f.anchor,g=va.anchor;(h.key===g.key&&h.offset===g.offset+1||h.offset===1&&g.getNode().is(h.getNode().getPreviousSibling()))&&(f=va.clone(),Kt(f))}if(va=null,oe(f)){const h=f.anchor,g=h.getNode();if(f.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(f.dirty=!0);const m=Hn(e).event,p=m?m.timeStamp:performance.now(),[v,_,w,N,C]=US,S=ot(),E=e.isComposing()===!1&&S.getTextContent()==="";if(p<C+200&&h.offset===w&&h.key===N)df(f,v,_);else if(h.type==="text")me(g)||ue(141),HS(f,g);else if(h.type==="element"&&!E){re(g)||ue(259);const T=h.getNode();T.isEmpty()?(function(j,M){const O=M.getTextFormat(),A=M.getTextStyle();df(j,O,A)})(f,T):df(f,0,"")}}else{const m=h.key,p=f.focus.key,v=f.getNodes(),_=v.length,w=f.isBackward(),N=w?c:s,C=w?s:c,S=w?p:m,E=w?m:p;let T=2047,j=!1;for(let M=0;M<_;M++){const O=v[M],A=O.getTextContentSize();if(me(O)&&A!==0&&!(M===0&&O.__key===S&&N===A||M===_-1&&O.__key===E&&C===0)&&(j=!0,T&=O.getFormat(),T===0))break}f.format=j?T:0}}xe(e,bS,void 0)})}function df(n,e,r){n.format===e&&n.style===r||(n.format=e,n.style=r,n.dirty=!0)}function HS(n,e){df(n,e.getFormat(),e.getStyle())}function PS(n){if(!n.getTargetRanges)return null;const e=n.getTargetRanges();return e.length===0?null:e[0]}function RM(n){const e=n.inputType,r=PS(n),a=Je(),s=he();if(e==="deleteContentBackward"){if(s===null){const p=os();if(!oe(p))return!0;Kt(p.clone())}if(oe(s)){const p=s.anchor.key===s.focus.key;if(o=n.timeStamp,LS==="MediaLast"&&o<Vo+30&&a.isComposing()&&p){if(Rt(null),Vo=0,setTimeout(()=>{mr(a,()=>{Rt(null)})},30),oe(s)){const v=s.anchor.getNode();v.markDirty(),me(v)||ue(142),HS(s,v)}}else{Rt(null),n.preventDefault();const v=s.anchor.getNode(),_=v.getTextContent(),w=v.canInsertTextAfter(),N=s.anchor.offset===0&&s.focus.offset===_.length;let C=Tb&&p&&!N&&w;if(C&&s.isCollapsed()&&(C=!Fe(s0(s.anchor,!0))),!C){xe(a,Na,!0);const S=he();Tb&&oe(S)&&S.isCollapsed()&&(va=S,setTimeout(()=>va=null))}}return!0}}var o;if(!oe(s))return!0;const c=n.data;Ul!==null&&bm(!1,a,Ul),s.dirty&&Ul===null||!s.isCollapsed()||vt(s.anchor.getNode())||r===null||s.applyDOMRange(r),Ul=null;const f=s.anchor,h=s.focus,g=f.getNode(),m=h.getNode();if(e==="insertText"||e==="insertTranspose"){if(c===`
`)n.preventDefault(),xe(a,Pl,!1);else if(c===Ki)n.preventDefault(),xe(a,Go,void 0);else if(c==null&&n.dataTransfer){const p=n.dataTransfer.getData("text/plain");n.preventDefault(),s.insertRawText(p)}else c!=null&&BS(s,r,c,n.timeStamp,!0)?(n.preventDefault(),xe(a,Fl,c)):Ul=c;return $S=n.timeStamp,!0}switch(n.preventDefault(),e){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":xe(a,Fl,n);break;case"insertFromComposition":Rt(null),xe(a,Fl,n);break;case"insertLineBreak":Rt(null),xe(a,Pl,!1);break;case"insertParagraph":Rt(null),Ao&&!as?(Ao=!1,xe(a,Pl,!1)):xe(a,Go,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":xe(a,tm,n);break;case"deleteByComposition":(function(p,v){return p!==v||re(p)||re(v)||!Ea(p)||!Ea(v)})(g,m)&&xe(a,Vp,n);break;case"deleteByDrag":case"deleteByCut":xe(a,Vp,n);break;case"deleteContent":xe(a,Na,!1);break;case"deleteWordBackward":xe(a,Ko,!0);break;case"deleteWordForward":xe(a,Ko,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":xe(a,Io,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":xe(a,Io,!1);break;case"formatStrikeThrough":xe(a,Vn,"strikethrough");break;case"formatBold":xe(a,Vn,"bold");break;case"formatItalic":xe(a,Vn,"italic");break;case"formatUnderline":xe(a,Vn,"underline");break;case"historyUndo":xe(a,cd,void 0);break;case"historyRedo":xe(a,fd,void 0)}return!0}function LM(n){if(jt(n.target)&&oC(n.target))return!0;const e=Je(),r=he(),a=n.data,s=PS(n);if(a!=null&&oe(r)&&BS(r,s,a,n.timeStamp,!1)){No&&(Of(e,a),No=!1);const o=r.anchor.getNode(),c=Pn(Hn(e));if(c===null)return!0;const f=r.isBackward(),h=f?r.anchor.offset:r.focus.offset,g=f?r.focus.offset:r.anchor.offset;kf&&!r.isCollapsed()&&me(o)&&c.anchorNode!==null&&o.getTextContent().slice(0,h)+a+o.getTextContent().slice(h+g)===yC(c.anchorNode)||xe(e,Fl,a);const m=a.length;Ma&&m>1&&n.inputType==="insertCompositionText"&&!e.isComposing()&&(r.anchor.offset-=m),uu||as||cu||!e.isComposing()||(Vo=0,Rt(null))}else bm(!1,e,a!==null?a:void 0),No&&(Of(e,a||void 0),No=!1);return(function(){Bt();const o=Je();dS(o)})(),!0}function $M(n){const e=Je(),r=he();if(oe(r)&&!e.isComposing()){const a=r.anchor,s=r.anchor.getNode();Rt(a.key),(n.timeStamp<Vo+30||a.type==="element"||!r.isCollapsed()||s.getFormat()!==r.format||me(s)&&s.getStyle()!==r.style)&&xe(e,Fl,cM)}return!0}function UM(n){return Of(Je(),n.data),!0}function Of(n,e){const r=n._compositionKey;if(Rt(null),r!==null&&e!=null){if(e===""){const a=wt(r),s=Zl(n.getElementByKey(r));return void(s!==null&&s.nodeValue!==null&&me(a)&&_m(a,s.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const a=he();if(oe(a)){const s=a.focus;return a.anchor.set(s.key,s.offset,s.type),void xe(n,Yo,null)}}}bm(!0,n,e)}function BM(n){const e=Je();if(n.key==null)return!0;if(e0&&h_(n))return mr(e,()=>{Of(e,t0)}),e0=!1,t0="",!0;if((function(r){return Ve(r,"ArrowRight",{shiftKey:"any"})})(n))xe(e,ES,n);else if((function(r){return Ve(r,"ArrowRight",Yr)})(n))xe(e,kM,n);else if((function(r){return Ve(r,"ArrowLeft",{shiftKey:"any"})})(n))xe(e,TS,n);else if((function(r){return Ve(r,"ArrowLeft",Yr)})(n))xe(e,EM,n);else if((function(r){return Ve(r,"ArrowUp",{altKey:"any",shiftKey:"any"})})(n))xe(e,nm,n);else if((function(r){return Ve(r,"ArrowDown",{altKey:"any",shiftKey:"any"})})(n))xe(e,rm,n);else if((function(r){return Ve(r,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})})(n))Ao=!0,xe(e,Yo,n);else if((function(r){return r.key===" "})(n))xe(e,jS,n);else if((function(r){return In&&Ve(r,"o",{ctrlKey:!0})})(n))n.preventDefault(),Ao=!0,xe(e,Pl,!0);else if((function(r){return Ve(r,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})})(n))Ao=!1,xe(e,Yo,n);else if((function(r){return Ve(r,"Backspace",{shiftKey:"any"})||In&&Ve(r,"h",{ctrlKey:!0})})(n))h_(n)?xe(e,AS,n):(n.preventDefault(),xe(e,Na,!0));else if((function(r){return r.key==="Escape"})(n))xe(e,im,n);else if((function(r){return Ve(r,"Delete",{})||In&&Ve(r,"d",{ctrlKey:!0})})(n))(function(r){return r.key==="Delete"})(n)?xe(e,MS,n):(n.preventDefault(),xe(e,Na,!1));else if((function(r){return Ve(r,"Backspace",d_)})(n))n.preventDefault(),xe(e,Ko,!0);else if((function(r){return Ve(r,"Delete",d_)})(n))n.preventDefault(),xe(e,Ko,!1);else if((function(r){return In&&Ve(r,"Backspace",{metaKey:!0})})(n))n.preventDefault(),xe(e,Io,!0);else if((function(r){return In&&(Ve(r,"Delete",{metaKey:!0})||Ve(r,"k",{ctrlKey:!0}))})(n))n.preventDefault(),xe(e,Io,!1);else if((function(r){return Ve(r,"b",Yr)})(n))n.preventDefault(),xe(e,Vn,"bold");else if((function(r){return Ve(r,"u",Yr)})(n))n.preventDefault(),xe(e,Vn,"underline");else if((function(r){return Ve(r,"i",Yr)})(n))n.preventDefault(),xe(e,Vn,"italic");else if((function(r){return Ve(r,"Tab",{shiftKey:"any"})})(n))xe(e,am,n);else if((function(r){return Ve(r,"z",Yr)})(n))n.preventDefault(),xe(e,cd,void 0);else if((function(r){return In?Ve(r,"z",{metaKey:!0,shiftKey:!0}):Ve(r,"y",{ctrlKey:!0})||Ve(r,"z",{ctrlKey:!0,shiftKey:!0})})(n))n.preventDefault(),xe(e,fd,void 0);else{const r=e._editorState._selection;r===null||oe(r)?g_(n)&&(n.preventDefault(),xe(e,Xp,n)):(function(a){return Ve(a,"c",Yr)})(n)?(n.preventDefault(),xe(e,dd,n)):(function(a){return Ve(a,"x",Yr)})(n)?(n.preventDefault(),xe(e,lm,n)):g_(n)&&(n.preventDefault(),xe(e,Xp,n))}return(function(r){return r.ctrlKey||r.shiftKey||r.altKey||r.metaKey})(n)&&e.dispatchCommand(zM,n),!0}function FS(n){let e=n.__lexicalEventHandles;return e===void 0&&(e=[],n.__lexicalEventHandles=e),e}const ql=new Map;function qS(n){const e=x6(n.target);if(e===null)return;const r=uC(e.anchorNode);if(r===null)return;Wp&&(Wp=!1,mr(r,()=>{const h=os(),g=e.anchorNode;(jt(g)||ui(g))&&Kt(um(h,e,r,n))}));const a=vm(r),s=a[a.length-1],o=s._key,c=ql.get(o),f=c||s;f!==r&&Fb(e,f,!1),Fb(e,r,!0),r!==s?ql.set(o,r):c&&ql.delete(o)}function qb(n){n._lexicalHandled=!0}function Gb(n){return n._lexicalHandled===!0}function HM(n){const e=Zp.get(n);if(e===void 0)return;const r=Df.get(e);if(r===void 0)return;const a=r-1;a>=0||ue(164),Zp.delete(n),Df.set(e,a),a===0&&e.removeEventListener("selectionchange",qS);const s=pd(n);xm(s)?((function(c){if(c._parentEditor!==null){const f=vm(c),h=f[f.length-1]._key;ql.get(h)===c&&ql.delete(h)}else ql.delete(c._key)})(s),n.__lexicalEditor=null):s&&ue(198);const o=FS(n);for(let c=0;c<o.length;c++)o[c]();n.__lexicalEventHandles=[]}function n0(n,e,r){Bt();const a=n.__key,s=n.getParent();if(s===null)return;const o=(function(f){const h=he();if(!oe(h)||!re(f))return h;const{anchor:g,focus:m}=h,p=g.getNode(),v=m.getNode();return o0(p,f)&&g.set(f.__key,0,"element"),o0(v,f)&&m.set(f.__key,0,"element"),h})(n);let c=!1;if(oe(o)&&e){const f=o.anchor,h=o.focus;f.key===a&&(Lf(f,n,s,n.getPreviousSibling(),n.getNextSibling()),c=!0),h.key===a&&(Lf(h,n,s,n.getPreviousSibling(),n.getNextSibling()),c=!0)}else xn(o)&&e&&n.isSelected()&&n.selectPrevious();if(oe(o)&&e&&!c){const f=n.getIndexWithinParent();Ta(n),Rf(o,s,f,-1)}else Ta(n);r||an(s)||s.canBeEmpty()||!s.isEmpty()||n0(s,e),e&&o&&vt(s)&&s.isEmpty()&&s.selectEnd()}const GS=Symbol.for("ephemeral");function zf(n){return n[GS]||!1}class pr{__type;__key;__parent;__prev;__next;__state;static getType(){const{ownNodeType:e}=xd(this);return e===void 0&&ue(64,this.name),e}static clone(e){ue(65,this.name)}$config(){return{}}config(e,r){const a=r.extends||Object.getPrototypeOf(this.constructor);return Object.assign(r,{extends:a,type:e}),{[e]:r}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}static importDOM;constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),f6(this,e)}getType(){return this.__type}isInline(){ue(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const r=wt(e);if(r===null)break;e=r.__parent}return!1}isSelected(e){const r=e||he();if(r==null)return!1;const a=r.getNodes().some(s=>s.__key===this.__key);if(me(this))return a;if(oe(r)&&r.anchor.type==="element"&&r.focus.type==="element"){if(r.isCollapsed())return!1;const s=this.getParent();if(Fe(this)&&this.isInline()&&s){const o=r.isBackward()?r.focus:r.anchor;if(s.is(o.getNode())&&o.offset===s.getChildrenSize()&&this.is(s.getLastChild()))return!1}}return a}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let r=e.getFirstChild(),a=0;for(;r!==null;){if(this.is(r))return a;a++,r=r.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:wt(e)}getParentOrThrow(){const e=this.getParent();return e===null&&ue(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const r=e.getParent();if(an(r))return re(e)||e===this&&Fe(e)||ue(194),e;e=r}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&ue(67,this.__key),e}getParents(){const e=[];let r=this.getParent();for(;r!==null;)e.push(r),r=r.getParent();return e}getParentKeys(){const e=[];let r=this.getParent();for(;r!==null;)e.push(r.__key),r=r.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:wt(e)}getPreviousSiblings(){const e=[],r=this.getParent();if(r===null)return e;let a=r.getFirstChild();for(;a!==null&&!a.is(this);)e.push(a),a=a.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:wt(e)}getNextSiblings(){const e=[];let r=this.getNextSibling();for(;r!==null;)e.push(r),r=r.getNextSibling();return e}getCommonAncestor(e){const r=re(this)?this:this.getParent(),a=re(e)?e:e.getParent(),s=r&&a?gf(r,a):null;return s?s.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const r=gf(this,e);return r!==null&&(r.type==="descendant"||(r.type==="branch"?SC(r)===-1:(r.type!=="same"&&r.type!=="ancestor"&&ue(279),!1)))}isParentOf(e){const r=gf(this,e);return r!==null&&r.type==="ancestor"}getNodesBetween(e){const r=this.isBefore(e),a=[],s=new Set;let o=this;for(;o!==null;){const c=o.__key;if(s.has(c)||(s.add(c),a.push(o)),o===e)break;const f=re(o)?r?o.getFirstChild():o.getLastChild():null;if(f!==null){o=f;continue}const h=r?o.getNextSibling():o.getPreviousSibling();if(h!==null){o=h;continue}const g=o.getParentOrThrow();if(s.has(g.__key)||a.push(g),g===e)break;let m=null,p=g;do{if(p===null&&ue(68),m=r?p.getNextSibling():p.getPreviousSibling(),p=p.getParent(),p===null)break;m!==null||s.has(p.__key)||a.push(p)}while(m===null);o=m}return r||a.reverse(),a}isDirty(){const e=Je()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){if(zf(this))return this;const e=wt(this.__key);return e===null&&ue(113),e}getWritable(){if(zf(this))return this;Bt();const e=oi(),r=Je(),a=e._nodeMap,s=this.__key,o=this.getLatest(),c=r._cloneNotNeeded,f=he();if(f!==null&&f.setCachedNodes(null),c.has(s))return Uf(o),o;const h=bC(o);return c.add(s),Uf(h),a.set(s,h),h}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,r){ue(70)}updateDOM(e,r,a){ue(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){ue(18,this.name)}updateFromJSON(e){return(function(r,a){const s=r.getWritable(),o=a.$;let c=o;for(const f of pS(s).flatKeys)f in a&&(c!==void 0&&c!==o||(c={...o}),c[f]=a[f]);return(s.__state||c)&&_M(r).updateFromJSON(c),s})(this,e)}static transform(){return null}remove(e){n0(this,!0,e)}replace(e,r){Bt();let a=he();a!==null&&(a=a.clone()),cp(this,e);const s=this.getLatest(),o=this.__key,c=e.__key,f=e.getWritable(),h=this.getParentOrThrow().getWritable(),g=h.__size;Ta(f);const m=s.getPreviousSibling(),p=s.getNextSibling(),v=s.__prev,_=s.__next,w=s.__parent;if(n0(s,!1,!0),m===null?h.__first=c:m.getWritable().__next=c,f.__prev=v,p===null?h.__last=c:p.getWritable().__prev=c,f.__next=_,f.__parent=w,h.__size=g,r&&(re(this)&&re(f)||ue(139),this.getChildren().forEach(N=>{f.append(N)})),oe(a)){Kt(a);const N=a.anchor,C=a.focus;N.key===o&&Vb(N,f),C.key===o&&Vb(C,f)}return Bi()===o&&Rt(c),f}insertAfter(e,r=!0){Bt(),cp(this,e);const a=this.getWritable(),s=e.getWritable(),o=s.getParent(),c=he();let f=!1,h=!1;if(o!==null){const _=e.getIndexWithinParent();if(Ta(s),oe(c)){const w=o.__key,N=c.anchor,C=c.focus;f=N.type==="element"&&N.key===w&&N.offset===_+1,h=C.type==="element"&&C.key===w&&C.offset===_+1}}const g=this.getNextSibling(),m=this.getParentOrThrow().getWritable(),p=s.__key,v=a.__next;if(g===null?m.__last=p:g.getWritable().__prev=p,m.__size++,a.__next=p,s.__next=v,s.__prev=a.__key,s.__parent=a.__parent,r&&oe(c)){const _=this.getIndexWithinParent();Rf(c,m,_+1);const w=m.__key;f&&c.anchor.set(w,_+2,"element"),h&&c.focus.set(w,_+2,"element")}return e}insertBefore(e,r=!0){Bt(),cp(this,e);const a=this.getWritable(),s=e.getWritable(),o=s.__key;Ta(s);const c=this.getPreviousSibling(),f=this.getParentOrThrow().getWritable(),h=a.__prev,g=this.getIndexWithinParent();c===null?f.__first=o:c.getWritable().__next=o,f.__size++,a.__prev=o,s.__prev=h,s.__next=a.__key,s.__parent=a.__parent;const m=he();return r&&oe(m)&&Rf(m,this.getParentOrThrow(),g),e}isParentRequired(){return!1}createParentElementNode(){return dt()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,r){Bt();const a=this.getPreviousSibling(),s=this.getParentOrThrow();if(a===null)return s.select(0,0);if(re(a))return a.select();if(!me(a)){const o=a.getIndexWithinParent()+1;return s.select(o,o)}return a.select(e,r)}selectNext(e,r){Bt();const a=this.getNextSibling(),s=this.getParentOrThrow();if(a===null)return s.select();if(re(a))return a.select(0,0);if(!me(a)){const o=a.getIndexWithinParent();return s.select(o,o)}return a.select(e,r)}markDirty(){this.getWritable()}reconcileObservedMutation(e,r){this.markDirty()}}const r0="historic",PM="history-push",ka="history-merge",FM="paste",qM="collaboration",GM="skip-scroll-into-view",KM="skip-dom-selection",IM="skip-selection-focus";class ls extends pr{static getType(){return"linebreak"}static clone(e){return new ls(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>(function(r){const a=r.parentElement;if(a!==null&&Bf(a)){const s=a.firstChild;if(s===r||s.nextSibling===r&&Pc(s)){const o=a.lastChild;if(o===r||o.previousSibling===r&&Pc(o))return!0}}return!1})(e)||(function(r){const a=r.parentElement;if(a!==null&&Bf(a)){const s=a.firstChild;if(s===r||s.nextSibling===r&&Pc(s))return!1;const o=a.lastChild;if(o===r||o.previousSibling===r&&Pc(o))return!0}return!1})(e)?null:{conversion:YM,priority:0}}}static importJSON(e){return Ra().updateFromJSON(e)}}function YM(n){return{node:Ra()}}function Ra(){return Xi(new ls)}function Gl(n){return n instanceof ls}function Pc(n){return ui(n)&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function ap(n,e){return 16&e?"code":e&uS?"mark":32&e?"sub":64&e?"sup":null}function lp(n,e){return 1&e?"strong":2&e?"em":"span"}function KS(n,e,r,a,s){const o=a.classList;let c=Kl(s,"base");c!==void 0&&o.add(...c),c=Kl(s,"underlineStrikethrough");let f=!1;const h=8&e&&4&e;c!==void 0&&(8&r&&4&r?(f=!0,h||o.add(...c)):h&&o.remove(...c));for(const g in Da){const m=Da[g];if(c=Kl(s,g),c!==void 0)if(r&m){if(f&&(g==="underline"||g==="strikethrough")){e&m&&o.remove(...c);continue}((e&m)===0||h&&g==="underline"||g==="strikethrough")&&o.add(...c)}else e&m&&o.remove(...c)}}function IS(n,e,r){const a=e.firstChild,s=r.isComposing(),o=n+(s?od:"");if(a==null)e.textContent=o;else{const c=a.nodeValue;if(c!==o)if(s||Ma){const[f,h,g]=(function(m,p){const v=m.length,_=p.length;let w=0,N=0;for(;w<v&&w<_&&m[w]===p[w];)w++;for(;N+w<v&&N+w<_&&m[v-N-1]===p[_-N-1];)N++;return[w,v-w-N,p.slice(w,_-N)]})(c,o);h!==0&&a.deleteData(f,h),a.insertData(f,g)}else a.nodeValue=o}}function Kb(n,e,r,a,s,o){IS(s,n,e);const c=o.theme.text;c!==void 0&&KS(0,0,a,n,c)}function Fc(n,e){const r=document.createElement(e);return r.appendChild(n),r}class si extends pr{__text;__format;__style;__mode;__detail;static getType(){return"text"}static clone(e){return new si(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",r){super(r),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return gM[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Bi()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const r=Da[e];return(this.getFormat()&r)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,r){return $f(this.getLatest().__format,e,r)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,r){const a=this.__format,s=ap(0,a),o=lp(0,a),c=s===null?o:s,f=document.createElement(c);let h=f;this.hasFormat("code")&&f.setAttribute("spellcheck","false"),s!==null&&(h=document.createElement(o),f.appendChild(h)),Kb(h,this,0,a,this.__text,e);const g=this.__style;return g!==""&&(f.style.cssText=g),f}updateDOM(e,r,a){const s=this.__text,o=e.__format,c=this.__format,f=ap(0,o),h=ap(0,c),g=lp(0,o),m=lp(0,c);if((f===null?g:f)!==(h===null?m:h))return!0;if(f===h&&g!==m){const N=r.firstChild;N==null&&ue(48);const C=document.createElement(m);return Kb(C,this,0,c,s,a),r.replaceChild(C,N),!1}let p=r;h!==null&&f!==null&&(p=r.firstChild,p==null&&ue(49)),IS(s,p,this);const v=a.theme.text;v!==void 0&&o!==c&&KS(0,o,c,p,v);const _=e.__style,w=this.__style;return _!==w&&(r.style.cssText=w),!1}static importDOM(){return{"#text":()=>({conversion:ZM,priority:0}),b:()=>({conversion:XM,priority:0}),code:()=>({conversion:Fr,priority:0}),em:()=>({conversion:Fr,priority:0}),i:()=>({conversion:Fr,priority:0}),mark:()=>({conversion:Fr,priority:0}),s:()=>({conversion:Fr,priority:0}),span:()=>({conversion:VM,priority:0}),strong:()=>({conversion:Fr,priority:0}),sub:()=>({conversion:Fr,priority:0}),sup:()=>({conversion:Fr,priority:0}),u:()=>({conversion:Fr,priority:0})}}static importJSON(e){return ft().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:r}=super.exportDOM(e);return jt(r)||ue(132),r.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?r.style.textTransform="lowercase":this.hasFormat("uppercase")?r.style.textTransform="uppercase":this.hasFormat("capitalize")&&(r.style.textTransform="capitalize"),this.hasFormat("bold")&&(r=Fc(r,"b")),this.hasFormat("italic")&&(r=Fc(r,"i")),this.hasFormat("strikethrough")&&(r=Fc(r,"s")),this.hasFormat("underline")&&(r=Fc(r,"u")),{element:r}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,r){}setFormat(e){const r=this.getWritable();return r.__format=typeof e=="string"?Da[e]:e,r}setDetail(e){const r=this.getWritable();return r.__detail=typeof e=="string"?fM[e]:e,r}setStyle(e){const r=this.getWritable();return r.__style=e,r}toggleFormat(e){const r=$f(this.getFormat(),e,null);return this.setFormat(r)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const r=hM[e];if(this.__mode===r)return this;const a=this.getWritable();return a.__mode=r,a}setTextContent(e){if(this.__text===e)return this;const r=this.getWritable();return r.__text=e,r}select(e,r){Bt();let a=e,s=r;const o=he(),c=this.getTextContent(),f=this.__key;if(typeof c=="string"){const h=c.length;a===void 0&&(a=h),s===void 0&&(s=h)}else a=0,s=0;if(!oe(o))return QS(f,a,f,s,"text","text");{const h=Bi();h!==o.anchor.key&&h!==o.focus.key||Rt(f),o.setTextNodeRange(this,a,this,s)}return o}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,r,a,s){const o=this.getWritable(),c=o.__text,f=a.length;let h=e;h<0&&(h=f+h,h<0&&(h=0));const g=he();if(s&&oe(g)){const p=e+f;g.setTextNodeRange(o,p,o,p)}const m=c.slice(0,h)+a+c.slice(h+r);return o.__text=m,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){Bt();const r=this.getLatest(),a=r.getTextContent();if(a==="")return[];const s=r.__key,o=Bi(),c=a.length;e.sort((R,$)=>R-$),e.push(c);const f=[],h=e.length;for(let R=0,$=0;R<c&&$<=h;$++){const H=e[$];H>R&&(f.push(a.slice(R,H)),R=H)}const g=f.length;if(g===1)return[r];const m=f[0],p=r.getParent();let v;const _=r.getFormat(),w=r.getStyle(),N=r.__detail;let C=!1,S=null,E=null;const T=he();if(oe(T)){const[R,$]=T.isBackward()?[T.focus,T.anchor]:[T.anchor,T.focus];R.type==="text"&&R.key===s&&(S=R),$.type==="text"&&$.key===s&&(E=$)}r.isSegmented()?(v=ft(m),v.__format=_,v.__style=w,v.__detail=N,v.__state=zb(r,v),C=!0):v=r.setTextContent(m);const j=[v];for(let R=1;R<g;R++){const $=ft(f[R]);$.__format=_,$.__style=w,$.__detail=N,$.__state=zb(r,$);const H=$.__key;o===s&&Rt(H),j.push($)}const M=S?S.offset:null,O=E?E.offset:null;let A=0;for(const R of j){if(!S&&!E)break;const $=A+R.getTextContentSize();if(S!==null&&M!==null&&M<=$&&M>=A&&(S.set(R.getKey(),M-A,"text"),M<$&&(S=null)),E!==null&&O!==null&&O<=$&&O>=A){E.set(R.getKey(),O-A,"text");break}A=$}if(p!==null){(function(H){const I=H.getPreviousSibling(),F=H.getNextSibling();I!==null&&Uf(I),F!==null&&Uf(F)})(this);const R=p.getWritable(),$=this.getIndexWithinParent();C?(R.splice($,0,j),this.remove()):R.splice($,1,j),oe(T)&&Rf(T,p,$,g-1)}return j}mergeWithSibling(e){const r=e===this.getPreviousSibling();r||e===this.getNextSibling()||ue(50);const a=this.__key,s=e.__key,o=this.__text,c=o.length;Bi()===s&&Rt(a);const f=he();if(oe(f)){const p=f.anchor,v=f.focus;p!==null&&p.key===s&&t_(p,r,a,e,c),v!==null&&v.key===s&&t_(v,r,a,e,c)}const h=e.__text,g=r?h+o:o+h;this.setTextContent(g);const m=this.getWritable();return e.remove(),m}isTextEntity(){return!1}}function VM(n){return{forChild:sm(n.style),node:null}}function XM(n){const e=n,r=e.style.fontWeight==="normal";return{forChild:sm(e.style,r?void 0:"bold"),node:null}}const Ib=new WeakMap;function QM(n){if(!jt(n))return!1;if(n.nodeName==="PRE")return!0;const e=n.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function ZM(n){const e=n;n.parentElement===null&&ue(129);let r=e.textContent||"";if((function(a){let s,o=a.parentNode;const c=[a];for(;o!==null&&(s=Ib.get(o))===void 0&&!QM(o);)c.push(o),o=o.parentNode;const f=s===void 0?o:s;for(let h=0;h<c.length;h++)Ib.set(c[h],f);return f})(e)!==null){const a=r.split(/(\r?\n|\t)/),s=[],o=a.length;for(let c=0;c<o;c++){const f=a[c];f===`
`||f===`\r
`?s.push(Ra()):f==="	"?s.push(fu()):f!==""&&s.push(ft(f))}return{node:s}}if(r=r.replace(/\r/g,"").replace(/[ \t\n]+/g," "),r==="")return{node:null};if(r[0]===" "){let a=e,s=!0;for(;a!==null&&(a=Yb(a,!1))!==null;){const o=a.textContent||"";if(o.length>0){/[ \t\n]$/.test(o)&&(r=r.slice(1)),s=!1;break}}s&&(r=r.slice(1))}if(r[r.length-1]===" "){let a=e,s=!0;for(;a!==null&&(a=Yb(a,!0))!==null;)if((a.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){s=!1;break}s&&(r=r.slice(0,r.length-1))}return r===""?{node:null}:{node:ft(r)}}function Yb(n,e){let r=n;for(;;){let a;for(;(a=e?r.nextSibling:r.previousSibling)===null;){const o=r.parentElement;if(o===null)return null;r=o}if(r=a,jt(r)){const o=r.style.display;if(o===""&&!f0(r)||o!==""&&!o.startsWith("inline"))return null}let s=r;for(;(s=e?r.firstChild:r.lastChild)!==null;)r=s;if(ui(r))return r;if(r.nodeName==="BR")return null}}const JM={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Fr(n){const e=JM[n.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:sm(n.style,e),node:null}}function ft(n=""){return Xi(new si(n))}function me(n){return n instanceof si}function sm(n,e){const r=n.fontWeight,a=n.textDecoration.split(" "),s=r==="700"||r==="bold",o=a.includes("line-through"),c=n.fontStyle==="italic",f=a.includes("underline"),h=n.verticalAlign;return g=>(me(g)&&(s&&!g.hasFormat("bold")&&g.toggleFormat("bold"),o&&!g.hasFormat("strikethrough")&&g.toggleFormat("strikethrough"),c&&!g.hasFormat("italic")&&g.toggleFormat("italic"),f&&!g.hasFormat("underline")&&g.toggleFormat("underline"),h!=="sub"||g.hasFormat("subscript")||g.toggleFormat("subscript"),h!=="super"||g.hasFormat("superscript")||g.toggleFormat("superscript"),e&&!g.hasFormat(e)&&g.toggleFormat(e)),g)}class ss extends si{static getType(){return"tab"}static clone(e){return new ss(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const r=super.createDOM(e),a=Kl(e.theme,"tab");return a!==void 0&&r.classList.add(...a),r}static importJSON(e){return fu().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&lS(126),super.setTextContent("	")}spliceText(e,r,a,s){return a===""&&r===0||a==="	"&&r===1||ue(286),this}setDetail(e){return e!==2&&ue(127),this}setMode(e){return e!=="normal"&&ue(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function fu(){return Xi(new ss)}function YS(n){return n instanceof ss}class WM{key;offset;type;_selection;constructor(e,r,a){this._selection=null,this.key=e,this.offset=r,this.type=a}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:wC($n(ii(this,"next")),$n(ii(e,"next")))<0}getNode(){const e=wt(this.key);return e===null&&ue(20),e}set(e,r,a,s){const o=this._selection,c=this.key;s&&this.key===e&&this.offset===r&&this.type===a||(this.key=e,this.offset=r,this.type=a,du()||(Bi()===c&&Rt(e),o!==null&&(o.setCachedNodes(null),o.dirty=!0)))}}function vr(n,e,r){return new WM(n,e,r)}function sp(n,e){let r=e.__key,a=n.offset,s="element";if(me(e)){s="text";const o=e.getTextContentSize();a>o&&(a=o)}else if(!re(e)){const o=e.getNextSibling();if(me(o))r=o.__key,a=0,s="text";else{const c=e.getParent();c&&(r=c.__key,a=e.getIndexWithinParent()+1)}}n.set(r,a,s)}function Vb(n,e){if(re(e)){const r=e.getLastDescendant();re(r)||me(r)?sp(n,r):sp(n,e)}else sp(n,e)}class hd{_nodes;_cachedNodes;dirty;constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!xn(e))return!1;const r=this._nodes,a=e._nodes;return r.size===a.size&&Array.from(r).every(s=>a.has(s))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new hd(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const r=this.getNodes(),a=r.length,s=r[a-1];let o;if(me(s))o=s.select();else{const c=s.getIndexWithinParent()+1;o=s.getParentOrThrow().select(c,c)}o.insertNodes(e);for(let c=0;c<a;c++)r[c].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const r=this._nodes,a=[];for(const s of r){const o=wt(s);o!==null&&a.push(o)}return du()||(this._cachedNodes=a),a}getTextContent(){const e=this.getNodes();let r="";for(let a=0;a<e.length;a++)r+=e[a].getTextContent();return r}deleteNodes(){const e=this.getNodes();if((he()||os())===this&&e[0]){const r=Pt(e[0],"next");A6(Ii(r,r))}for(const r of e)r.remove()}}function oe(n){return n instanceof Ga}class Ga{format;style;anchor;focus;_cachedNodes;dirty;constructor(e,r,a,s){this.anchor=e,this.focus=r,e._selection=this,r._selection=this,this._cachedNodes=null,this.format=a,this.style=s,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!oe(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const r=(function(a){const s=[],[o,c]=a.getTextSlices();o&&s.push(o.caret.origin);const f=new Set,h=new Set;for(const g of a)if(yr(g)){const{origin:m}=g;s.length===0?f.add(m):(h.add(m),s.push(m))}else{const{origin:m}=g;re(m)&&h.has(m)||s.push(m)}if(c&&s.push(c.caret.origin),Wl(a.focus)&&re(a.focus.origin)&&a.focus.getNodeAtCaret()===null)for(let g=tr(a.focus.origin,"previous");yr(g)&&f.has(g.origin)&&!g.origin.isEmpty()&&g.origin.is(s[s.length-1]);g=Tm(g))f.delete(g.origin),s.pop();for(;s.length>1;){const g=s[s.length-1];if(!re(g)||h.has(g)||g.isEmpty()||f.has(g))break;s.pop()}if(s.length===0&&a.isCollapsed()){const g=$n(a.anchor),m=$n(a.anchor.getFlipped()),p=_=>Fi(_)?_.origin:_.getNodeAtCaret(),v=p(g)||p(m)||(a.anchor.getNodeAtCaret()?g.origin:m.origin);s.push(v)}return s})(NC(v_(this),"next"));return du()||(this._cachedNodes=r),r}setTextNodeRange(e,r,a,s){this.anchor.set(e.__key,r,"text"),this.focus.set(a.__key,s,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const r=e[0],a=e[e.length-1],s=this.anchor,o=this.focus,c=s.isBefore(o),[f,h]=i0(this);let g="",m=!0;for(let p=0;p<e.length;p++){const v=e[p];if(re(v)&&!v.isInline())m||(g+=`
`),m=!v.isEmpty();else if(m=!1,me(v)){let _=v.getTextContent();v===r?v===a?s.type==="element"&&o.type==="element"&&o.offset!==s.offset||(_=f<h?_.slice(f,h):_.slice(h,f)):_=c?_.slice(f):_.slice(h):v===a&&(_=c?_.slice(0,h):_.slice(0,f)),g+=_}else!Fe(v)&&!Gl(v)||v===a&&this.isCollapsed()||(g+=v.getTextContent())}return g}applyDOMRange(e){const r=Je(),a=r.getEditorState()._selection,s=XS(e.startContainer,e.startOffset,e.endContainer,e.endOffset,r,a);if(s===null)return;const[o,c]=s;this.anchor.set(o.key,o.offset,o.type,!0),this.focus.set(c.key,c.offset,c.type,!0),Ef(this)}clone(){const e=this.anchor,r=this.focus;return new Ga(vr(e.key,e.offset,e.type),vr(r.key,r.offset,r.type),this.format,this.style)}toggleFormat(e){this.format=$f(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const r=Da[e];return(this.format&r)!==0}insertRawText(e){const r=e.split(/(\r?\n|\t)/),a=[],s=r.length;for(let o=0;o<s;o++){const c=r[o];c===`
`||c===`\r
`?a.push(Ra()):c==="	"?a.push(fu()):a.push(ft(c))}this.insertNodes(a)}insertText(e){const r=this.anchor,a=this.focus,s=this.format,o=this.style;let c=r,f=a;!this.isCollapsed()&&a.isBefore(r)&&(c=a,f=r),c.type==="element"&&(function(C,S,E,T){const j=C.getNode(),M=j.getChildAtIndex(C.offset),O=ft();if(O.setFormat(E),O.setStyle(T),gm(M))M.splice(0,0,[O]);else{const A=vt(j)?dt().append(O):O;M===null?j.append(A):M.insertBefore(A)}C.is(S)&&S.set(O.__key,0,"text"),C.set(O.__key,0,"text")})(c,f,s,o),f.type==="element"&&Ha(f,$n(ii(f,"next")));const h=c.offset;let g=f.offset;const m=this.getNodes(),p=m.length;let v=m[0];me(v)||ue(26);const _=v.getTextContent().length,w=v.getParentOrThrow();let N=m[p-1];if(p===1&&f.type==="element"&&(g=_,f.set(c.key,g,"text")),this.isCollapsed()&&h===_&&(Vr(v)||!v.canInsertTextAfter()||!w.canInsertTextAfter()&&v.getNextSibling()===null)){let C=v.getNextSibling();if(me(C)&&C.canInsertTextBefore()&&!Vr(C)||(C=ft(),C.setFormat(s),C.setStyle(o),w.canInsertTextAfter()?v.insertAfter(C):w.insertAfter(C)),C.select(0,0),v=C,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&h===0&&(Vr(v)||!v.canInsertTextBefore()||!w.canInsertTextBefore()&&v.getPreviousSibling()===null)){let C=v.getPreviousSibling();if(me(C)&&!Vr(C)||(C=ft(),C.setFormat(s),w.canInsertTextBefore()?v.insertBefore(C):w.insertBefore(C)),C.select(),v=C,e!=="")return void this.insertText(e)}else if(v.isSegmented()&&h!==_){const C=ft(v.getTextContent());C.setFormat(s),v.replace(C),v=C}else if(!this.isCollapsed()&&e!==""){const C=N.getParent();if(!w.canInsertTextBefore()||!w.canInsertTextAfter()||re(C)&&(!C.canInsertTextBefore()||!C.canInsertTextAfter()))return this.insertText(""),VS(this.anchor,this.focus,null),void this.insertText(e)}if(p===1){if(Ea(v)){const T=ft(e);return T.select(),void v.replace(T)}const C=v.getFormat(),S=v.getStyle();if(h!==g||C===s&&S===o){if(YS(v)){const T=ft(e);return T.setFormat(s),T.setStyle(o),T.select(),void v.replace(T)}}else{if(v.getTextContent()!==""){const T=ft(e);if(T.setFormat(s),T.setStyle(o),T.select(),h===0)v.insertBefore(T,!1);else{const[j]=v.splitText(h);j.insertAfter(T,!1)}return void(T.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}v.setFormat(s),v.setStyle(o)}const E=g-h;v=v.spliceText(h,E,e,!0),v.getTextContent()===""?v.remove():this.anchor.type==="text"&&(v.isComposing()?this.anchor.offset-=e.length:(this.format=C,this.style=S))}else{const C=new Set([...v.getParentKeys(),...N.getParentKeys()]),S=re(v)?v:v.getParentOrThrow();let E=re(N)?N:N.getParentOrThrow(),T=N;if(!S.is(E)&&E.isInline())do T=E,E=E.getParentOrThrow();while(E.isInline());if(f.type==="text"&&(g!==0||N.getTextContent()==="")||f.type==="element"&&N.getIndexWithinParent()<g)if(me(N)&&!Ea(N)&&g!==N.getTextContentSize()){if(N.isSegmented()){const R=ft(N.getTextContent());N.replace(R),N=R}vt(f.getNode())||f.type!=="text"||(N=N.spliceText(0,g,"")),C.add(N.__key)}else{const R=N.getParentOrThrow();R.canBeEmpty()||R.getChildrenSize()!==1?N.remove():R.remove()}else C.add(N.__key);const j=E.getChildren(),M=new Set(m),O=S.is(E),A=S.isInline()&&v.getNextSibling()===null?S:v;for(let R=j.length-1;R>=0;R--){const $=j[R];if($.is(v)||re($)&&$.isParentOf(v))break;$.isAttached()&&(!M.has($)||$.is(T)?O||A.insertAfter($,!1):$.remove())}if(!O){let R=E,$=null;for(;R!==null;){const H=R.getChildren(),I=H.length;(I===0||H[I-1].is($))&&(C.delete(R.__key),$=R),R=R.getParent()}}if(Ea(v))if(h===_)v.select();else{const R=ft(e);R.select(),v.replace(R)}else v=v.spliceText(h,_-h,e,!0),v.getTextContent()===""?v.remove():v.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let R=1;R<p;R++){const $=m[R],H=$.__key;C.has(H)||$.remove()}}}removeText(){const e=he()===this;pf(this,M6(v_(this))),e&&he()!==this&&Kt(this)}formatText(e,r=null){if(this.isCollapsed())return this.toggleFormat(e),void Rt(null);const a=this.getNodes(),s=[];for(const j of a)me(j)&&s.push(j);const o=j=>{a.forEach(M=>{if(re(M)){const O=M.getFormatFlags(e,j);M.setTextFormat(O)}})},c=s.length;if(c===0)return this.toggleFormat(e),Rt(null),void o(r);const f=this.anchor,h=this.focus,g=this.isBackward(),m=g?h:f,p=g?f:h;let v=0,_=s[0],w=m.type==="element"?0:m.offset;if(m.type==="text"&&w===_.getTextContentSize()&&(v=1,_=s[1],w=0),_==null)return;const N=_.getFormatFlags(e,r);o(N);const C=c-1;let S=s[C];const E=p.type==="text"?p.offset:S.getTextContentSize();if(_.is(S)){if(w===E)return;if(Vr(_)||w===0&&E===_.getTextContentSize())_.setFormat(N);else{const j=_.splitText(w,E),M=w===0?j[0]:j[1];M.setFormat(N),m.type==="text"&&m.set(M.__key,0,"text"),p.type==="text"&&p.set(M.__key,E-w,"text")}return void(this.format=N)}w===0||Vr(_)||([,_]=_.splitText(w),w=0),_.setFormat(N);const T=S.getFormatFlags(e,N);E>0&&(E===S.getTextContentSize()||Vr(S)||([S]=S.splitText(E)),S.setFormat(T));for(let j=v+1;j<C;j++){const M=s[j],O=M.getFormatFlags(e,T);M.setFormat(O)}m.type==="text"&&m.set(_.__key,w,"text"),p.type==="text"&&p.set(S.__key,E,"text"),this.format=N|T}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const w=he();return oe(w)||ue(134),w.insertNodes(e)}const r=(this.isBackward()?this.focus:this.anchor).getNode(),a=Jn(r,zn),s=e[e.length-1];if(re(a)&&"__language"in a){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const w=op(this);a.splice(w,0,e),s.selectEnd()}return}if(!e.some(w=>(re(w)||Fe(w))&&!w.isInline())){re(a)||ue(211,r.constructor.name,r.getType());const w=op(this);return a.splice(w,0,e),void s.selectEnd()}const o=(function(w){const N=dt();let C=null;for(let S=0;S<w.length;S++){const E=w[S],T=Gl(E);if(T||Fe(E)&&E.isInline()||re(E)&&E.isInline()||me(E)||E.isParentRequired()){if(C===null&&(C=E.createParentElementNode(),N.append(C),T))continue;C!==null&&C.append(E)}else N.append(E),C=null}return N})(e),c=o.getLastDescendant(),f=o.getChildren(),h=!re(a)||!a.isEmpty()?this.insertParagraph():null,g=f[f.length-1];let m=f[0];var p;re(p=m)&&zn(p)&&!p.isEmpty()&&re(a)&&(!a.isEmpty()||a.canMergeWhenEmpty())&&(re(a)||ue(211,r.constructor.name,r.getType()),a.append(...m.getChildren()),m=f[1]),m&&(a===null&&ue(212,r.constructor.name,r.getType()),(function(w,N){const C=N.getParentOrThrow().getLastChild();let S=N;const E=[N];for(;S!==C;)S.getNextSibling()||ue(140),S=S.getNextSibling(),E.push(S);let T=w;for(const j of E)T=T.insertAfter(j)})(a,m));const v=Jn(c,zn);h&&re(v)&&(h.canMergeWhenEmpty()||zn(g))&&(v.append(...h.getChildren()),h.remove()),re(a)&&a.isEmpty()&&a.remove(),c.selectEnd();const _=re(a)?a.getLastChild():null;Gl(_)&&v!==a&&_.remove()}insertParagraph(){if(this.anchor.key==="root"){const c=dt();return ot().splice(this.anchor.offset,0,[c]),c.select(),c}const e=op(this),r=Jn(this.anchor.getNode(),zn);re(r)||ue(213);const a=r.getChildAtIndex(e),s=a?[a,...a.getNextSiblings()]:[],o=r.insertNewAfter(this,!1);return o?(o.append(...s),o.selectStart(),o):null}insertLineBreak(e){const r=Ra();if(this.insertNodes([r]),e){const a=r.getParentOrThrow(),s=r.getIndexWithinParent();a.select(s,s)}}extract(){const e=[...this.getNodes()],r=e.length;let a=e[0],s=e[r-1];const[o,c]=i0(this),f=this.isBackward(),[h,g]=f?[this.focus,this.anchor]:[this.anchor,this.focus],[m,p]=f?[c,o]:[o,c];if(r===0)return[];if(r===1){if(me(a)&&!this.isCollapsed()){const v=a.splitText(m,p),_=m===0?v[0]:v[1];return _?(h.set(_.getKey(),0,"text"),g.set(_.getKey(),_.getTextContentSize(),"text"),[_]):[]}return[a]}if(me(a)&&(m===a.getTextContentSize()?e.shift():m!==0&&([,a]=a.splitText(m),e[0]=a,h.set(a.getKey(),0,"text"))),me(s)){const v=s.getTextContent().length;p===0?e.pop():p!==v&&([s]=s.splitText(p),e[e.length-1]=s,g.set(s.getKey(),s.getTextContentSize(),"text"))}return e}modify(e,r,a){if(n_(this,e,r,a))return;const s=e==="move",o=Je(),c=Pn(Hn(o));if(!c)return;const f=o._blockCursorElement,h=o._rootElement,g=this.focus.getNode();if(h===null||f===null||!re(g)||g.isInline()||g.canBeEmpty()||u0(f,o,h),this.dirty){let m=La(o,this.anchor.key),p=La(o,this.focus.key);this.anchor.type==="text"&&(m=Zl(m)),this.focus.type==="text"&&(p=Zl(p)),m&&p&&JS(c,m,this.anchor.offset,p,this.focus.offset)}if((function(m,p,v,_){m.modify(p,v,_)})(c,e,r?"backward":"forward",a),c.rangeCount>0){const m=c.getRangeAt(0),p=this.anchor.getNode(),v=vt(p)?p:m6(p);if(this.applyDOMRange(m),this.dirty=!0,!s){const _=this.getNodes(),w=[];let N=!1;for(let C=0;C<_.length;C++){const S=_[C];o0(S,v)?w.push(S):N=!0}if(N&&w.length>0)if(r){const C=w[0];re(C)?C.selectStart():C.getParentOrThrow().selectStart()}else{const C=w[w.length-1];re(C)?C.selectEnd():C.getParentOrThrow().selectEnd()}c.anchorNode===m.startContainer&&c.anchorOffset===m.startOffset||(function(C){const S=C.focus,E=C.anchor,T=E.key,j=E.offset,M=E.type;E.set(S.key,S.offset,S.type,!0),S.set(T,j,M,!0)})(this)}}a==="lineboundary"&&n_(this,e,r,a,"decorators")}forwardDeletion(e,r,a){if(!a&&(e.type==="element"&&re(r)&&e.offset===r.getChildrenSize()||e.type==="text"&&e.offset===r.getTextContentSize())){const s=r.getParent(),o=r.getNextSibling()||(s===null?null:s.getNextSibling());if(re(o)&&o.isShadowRoot())return!0}return!1}deleteCharacter(e){const r=this.isCollapsed();if(this.isCollapsed()){const a=this.anchor;let s=a.getNode();if(this.forwardDeletion(a,s,e))return;const o=Am(ii(a,e?"previous":"next"));if(o.getTextSlices().every(f=>f===null||f.distance===0)){let f={type:"initial"};for(const h of o.iterNodeCarets("shadowRoot"))if(yr(h)){if(!h.origin.isInline()){if(h.origin.isShadowRoot()){if(f.type==="merge-block")break;if(re(o.anchor.origin)&&o.anchor.origin.isEmpty()){const g=$n(h);pf(this,Ii(g,g)),o.anchor.origin.remove()}return}f.type!=="merge-next-block"&&f.type!=="merge-block"||(f={block:f.block,caret:h,type:"merge-block"})}}else{if(f.type==="merge-block")break;if(Wl(h)){if(re(h.origin)){if(h.origin.isInline()){if(!h.origin.isParentOf(o.anchor.origin))break}else f={block:h.origin,type:"merge-next-block"};continue}if(Fe(h.origin)){if(!h.origin.isIsolated())if(f.type==="merge-next-block"&&(h.origin.isKeyboardSelectable()||!h.origin.isInline())&&re(o.anchor.origin)&&o.anchor.origin.isEmpty()){o.anchor.origin.remove();const g=ZS();g.add(h.origin.getKey()),Kt(g)}else h.origin.remove();return}break}}if(f.type==="merge-block"){const{caret:h,block:g}=f;return pf(this,Ii(!h.origin.isEmpty()&&g.isEmpty()?Mm(Pt(g,h.direction)):o.anchor,h)),this.removeText()}}const c=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&a.offset===0&&Qb(this,a.getNode()))return}else{const f=c.type==="text"?c.getNode():null;if(s=a.type==="text"?a.getNode():null,f!==null&&f.isSegmented()){const h=c.offset,g=f.getTextContentSize();if(f.is(s)||e&&h!==g||!e&&h!==0)return void Zb(f,e,h)}else if(s!==null&&s.isSegmented()){const h=a.offset,g=s.getTextContentSize();if(s.is(f)||e&&h!==0||!e&&h!==g)return void Zb(s,e,h)}(function(h,g){const m=h.anchor,p=h.focus,v=m.getNode(),_=p.getNode();if(v===_&&m.type==="text"&&p.type==="text"){const w=m.offset,N=p.offset,C=w<N,S=C?w:N,E=C?N:w,T=E-1;S!==T&&(function(j){return!(pC(j)||e6(j))})(v.getTextContent().slice(S,E))&&(g?p.set(p.key,T,p.type):m.set(m.key,T,m.type))}})(this,e)}}if(this.removeText(),e&&!r&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const a=this.anchor.getNode();a.isEmpty()&&vt(a.getParent())&&a.getPreviousSibling()===null&&Qb(this,a)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const r=this.anchor,a=r.getNode();if(this.forwardDeletion(r,a,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function xn(n){return n instanceof hd}function Xb(n){const e=n.offset;if(n.type==="text")return e;const r=n.getNode();return e===r.getChildrenSize()?r.getTextContent().length:0}function i0(n){const e=n.getStartEndPoints();if(e===null)return[0,0];const[r,a]=e;return r.type==="element"&&a.type==="element"&&r.key===a.key&&r.offset===a.offset?[0,0]:[Xb(r),Xb(a)]}function Qb(n,e){for(let r=e;r;r=r.getParent()){if(re(r)){if(r.collapseAtStart(n))return!0;if(an(r))break}if(r.getPreviousSibling())break}return!1}const e6=(()=>{try{const n=new RegExp("\\p{Emoji}","u"),e=n.test.bind(n);if(e("")&&e("#")&&e(""))return e}catch{}return()=>!1})();function Zb(n,e,r){const a=n,s=a.getTextContent().split(/(?=\s)/g),o=s.length;let c=0,f=0;for(let g=0;g<o;g++){const m=g===o-1;if(f=c,c+=s[g].length,e&&c===r||c>r||m){s.splice(g,1),m&&(f=void 0);break}}const h=s.join("").trim();h===""?a.remove():(a.setTextContent(h),a.select(f,f))}function Jb(n,e,r,a){let s,o=e;if(jt(n)){let c=!1;const f=n.childNodes,h=f.length,g=a._blockCursorElement;o===h&&(c=!0,o=h-1);let m=f[o],p=!1;if(m===g)m=f[o+1],p=!0;else if(g!==null){const v=g.parentNode;n===v&&e>Array.prototype.indexOf.call(v.children,g)&&o--}if(s=Hl(m),me(s))o=qi(s,c?"next":"previous");else{let v=Hl(n);if(v===null)return null;if(re(v)){const _=a.getElementByKey(v.getKey());_===null&&ue(214),[v,o]=v.getDOMSlot(_).resolveChildIndex(v,_,n,e),re(v)||ue(215),c&&o>=v.getChildrenSize()&&(o=Math.max(0,v.getChildrenSize()-1));let N=v.getChildAtIndex(o);if(re(N)&&(function(C,S,E){const T=C.getParent();return E===null||T===null||!T.canBeEmpty()||T!==E.getNode()})(N,0,r)){const C=c?N.getLastDescendant():N.getFirstDescendant();C===null?v=N:(N=C,v=re(N)?N:N.getParentOrThrow()),o=0}me(N)?(s=N,v=null,o=qi(N,c?"next":"previous")):N!==v&&c&&!p&&(re(v)||ue(216),o=Math.min(v.getChildrenSize(),o+1))}else{const _=v.getIndexWithinParent();o=e===0&&Fe(v)&&Hl(n)===v?_:_+1,v=v.getParentOrThrow()}if(re(v))return vr(v.__key,o,"element")}}else s=Hl(n);return me(s)?vr(s.__key,qi(s,o,"clamp"),"text"):null}function Wb(n,e,r){const a=n.offset,s=n.getNode();if(a===0){const o=s.getPreviousSibling(),c=s.getParent();if(e){if((r||!e)&&o===null&&re(c)&&c.isInline()){const f=c.getPreviousSibling();me(f)&&n.set(f.__key,f.getTextContent().length,"text")}}else re(o)&&!r&&o.isInline()?n.set(o.__key,o.getChildrenSize(),"element"):me(o)&&n.set(o.__key,o.getTextContent().length,"text")}else if(a===s.getTextContent().length){const o=s.getNextSibling(),c=s.getParent();if(e&&re(o)&&o.isInline())n.set(o.__key,0,"element");else if((r||e)&&o===null&&re(c)&&c.isInline()&&!c.canInsertTextAfter()){const f=c.getNextSibling();me(f)&&n.set(f.__key,0,"text")}}}function VS(n,e,r){if(n.type==="text"&&e.type==="text"){const a=n.isBefore(e),s=n.is(e);Wb(n,a,s),Wb(e,!a,s),s&&e.set(n.key,n.offset,n.type);const o=Je();if(o.isComposing()&&o._compositionKey!==n.key&&oe(r)){const c=r.anchor,f=r.focus;n.set(c.key,c.offset,c.type,!0),e.set(f.key,f.offset,f.type,!0)}}}function XS(n,e,r,a,s,o){if(n===null||r===null||!gu(s,n,r))return null;const c=Jb(n,e,oe(o)?o.anchor:null,s);if(c===null)return null;const f=Jb(r,a,oe(o)?o.focus:null,s);if(f===null)return null;if(c.type==="element"&&f.type==="element"){const h=Hl(n),g=Hl(r);if(Fe(h)&&Fe(g))return null}return VS(c,f,o),[c,f]}function a0(n){return re(n)&&!n.isInline()}function QS(n,e,r,a,s,o){const c=oi(),f=new Ga(vr(n,e,s),vr(r,a,o),0,"");return f.dirty=!0,c._selection=f,f}function om(){const n=vr("root",0,"element"),e=vr("root",0,"element");return new Ga(n,e,0,"")}function ZS(){return new hd(new Set)}function um(n,e,r,a){const s=r._window;if(s===null)return null;const o=a||s.event,c=o?o.type:void 0,f=c==="selectionchange",h=!Hp&&(f||c==="beforeinput"||c==="compositionstart"||c==="compositionend"||c==="click"&&o&&o.detail===3||c==="drop"||c===void 0);let g,m,p,v;if(oe(n)&&!h)return n.clone();if(e===null)return null;if(g=e.anchorNode,m=e.focusNode,p=e.anchorOffset,v=e.focusOffset,(f||c===void 0)&&oe(n)&&!gu(r,g,m))return n.clone();const _=XS(g,p,m,v,r,n);if(_===null)return null;const[w,N]=_;return new Ga(w,N,oe(n)?n.format:0,oe(n)?n.style:"")}function he(){return oi()._selection}function os(){return Je()._editorState._selection}function Rf(n,e,r,a=1){const s=n.anchor,o=n.focus,c=s.getNode(),f=o.getNode();if(!e.is(c)&&!e.is(f))return;const h=e.__key;if(n.isCollapsed()){const g=s.offset;if(r<=g&&a>0||r<g&&a<0){const m=Math.max(0,g+a);s.set(h,m,"element"),o.set(h,m,"element"),e_(n)}}else{const g=n.isBackward(),m=g?o:s,p=m.getNode(),v=g?s:o,_=v.getNode();if(e.is(p)){const w=m.offset;(r<=w&&a>0||r<w&&a<0)&&m.set(h,Math.max(0,w+a),"element")}if(e.is(_)){const w=v.offset;(r<=w&&a>0||r<w&&a<0)&&v.set(h,Math.max(0,w+a),"element")}}e_(n)}function e_(n){const e=n.anchor,r=e.offset,a=n.focus,s=a.offset,o=e.getNode(),c=a.getNode();if(n.isCollapsed()){if(!re(o))return;const f=o.getChildrenSize(),h=r>=f,g=h?o.getChildAtIndex(f-1):o.getChildAtIndex(r);if(me(g)){let m=0;h&&(m=g.getTextContentSize()),e.set(g.__key,m,"text"),a.set(g.__key,m,"text")}return}if(re(o)){const f=o.getChildrenSize(),h=r>=f,g=h?o.getChildAtIndex(f-1):o.getChildAtIndex(r);if(me(g)){let m=0;h&&(m=g.getTextContentSize()),e.set(g.__key,m,"text")}}if(re(c)){const f=c.getChildrenSize(),h=s>=f,g=h?c.getChildAtIndex(f-1):c.getChildAtIndex(s);if(me(g)){let m=0;h&&(m=g.getTextContentSize()),a.set(g.__key,m,"text")}}}function Lf(n,e,r,a,s){let o=null,c=0,f=null;a!==null?(o=a.__key,me(a)?(c=a.getTextContentSize(),f="text"):re(a)&&(c=a.getChildrenSize(),f="element")):s!==null&&(o=s.__key,me(s)?f="text":re(s)&&(f="element")),o!==null&&f!==null?n.set(o,c,f):(c=e.getIndexWithinParent(),c===-1&&(c=r.getChildrenSize()),n.set(r.__key,c,"element"))}function t_(n,e,r,a,s){n.type==="text"?n.set(r,n.offset+(e?0:s),"text"):n.offset>a.getIndexWithinParent()&&n.set(n.key,n.offset-1,"element")}function JS(n,e,r,a,s){try{n.setBaseAndExtent(e,r,a,s)}catch{}}function t6(n,e,r,a,s,o,c){const f=a.anchorNode,h=a.focusNode,g=a.anchorOffset,m=a.focusOffset,p=document.activeElement;if(s.has(qM)&&p!==o||p!==null&&ym(p))return;if(!oe(e))return void(n!==null&&gu(r,f,h)&&a.removeAllRanges());const v=e.anchor,_=e.focus,w=v.key,N=_.key,C=La(r,w),S=La(r,N),E=v.offset,T=_.offset,j=e.format,M=e.style,O=e.isCollapsed();let A=C,R=S,$=!1;if(v.type==="text"){A=Zl(C);const te=v.getNode();$=te.getFormat()!==j||te.getStyle()!==M}else oe(n)&&n.anchor.type==="text"&&($=!0);var H,I,F,Q,B;if(_.type==="text"&&(R=Zl(S)),A!==null&&R!==null&&(O&&(n===null||$||oe(n)&&(n.format!==j||n.style!==M))&&(H=j,I=M,F=E,Q=w,B=performance.now(),US=[H,I,F,Q,B]),g!==E||m!==T||f!==A||h!==R||a.type==="Range"&&O||(p!==null&&o.contains(p)||s.has(IM)||o.focus({preventScroll:!0}),v.type==="element"))){if(JS(a,A,E,R,T),!s.has(GM)&&e.isCollapsed()&&o!==null&&o===document.activeElement){const te=oe(e)&&e.anchor.type==="element"?A.childNodes[E]||null:a.rangeCount>0?a.getRangeAt(0):null;if(te!==null){let L;if(te instanceof Text){const Y=document.createRange();Y.selectNode(te),L=Y.getBoundingClientRect()}else L=te.getBoundingClientRect();(function(Y,se,ce){const ge=vC(ce),U=Sm(ge);if(ge===null||U===null)return;let{top:Z,bottom:W}=se,ae=0,pe=0,ye=ce;for(;ye!==null;){const Ne=ye===ge.body;if(Ne)ae=0,pe=Hn(Y).innerHeight;else{const Me=ye.getBoundingClientRect();ae=Me.top,pe=Me.bottom}let Ue=0;if(Z<ae?Ue=-(ae-Z):W>pe&&(Ue=W-pe),Ue!==0)if(Ne)U.scrollBy(0,Ue);else{const Me=ye.scrollTop;ye.scrollTop+=Ue;const Yt=ye.scrollTop-Me;Z-=Yt,W-=Yt}if(Ne)break;ye=pu(ye)}})(r,L,o)}}Jp=!0}}function cm(n){let e=he()||os();e===null&&(e=ot().selectEnd()),e.insertNodes(n)}function op(n){let e=n;n.isCollapsed()||e.removeText();const r=he();oe(r)&&(e=r),oe(e)||ue(161);const a=e.anchor;let s=a.getNode(),o=a.offset;for(;!zn(s);){const c=s;if([s,o]=n6(s,o),c.is(s))break}return o}function n6(n,e){const r=n.getParent();if(!r){const s=dt();return ot().append(s),s.select(),[ot(),0]}if(me(n)){const s=n.splitText(e);if(s.length===0)return[r,n.getIndexWithinParent()];const o=e===0?0:1;return[r,s[0].getIndexWithinParent()+o]}if(!re(n)||e===0)return[r,n.getIndexWithinParent()];const a=n.getChildAtIndex(e);if(a){const s=new Ga(vr(n.__key,e,"element"),vr(n.__key,e,"element"),0,""),o=n.insertNewAfter(s);o&&o.append(a,...a.getNextSiblings())}return[r,n.getIndexWithinParent()+1]}function n_(n,e,r,a,s="decorators-and-blocks"){if(e==="move"&&a==="character"&&!n.isCollapsed()){const[m,p]=r===n.isBackward()?[n.focus,n.anchor]:[n.anchor,n.focus];return p.set(m.key,m.offset,m.type),!0}const o=ii(n.focus,r?"previous":"next"),c=a==="lineboundary",f=e==="move";let h=o,g=s==="decorators-and-blocks";if(!CC(h)){for(const m of h){g=!1;const{origin:p}=m;if(!Fe(p)||p.isIsolated()||(h=m,!c||!p.isInline()))break}if(g)for(const m of Am(o).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(yr(m))m.origin.isInline()||(h=m);else{if(re(m.origin))continue;Fe(m.origin)&&!m.origin.isInline()&&(h=m)}break}}if(h===o)return!1;if(f&&!c&&Fe(h.origin)&&h.origin.isKeyboardSelectable()){const m=ZS();return m.add(h.origin.getKey()),Kt(m),!0}return h=$n(h),f&&Ha(n.anchor,h),Ha(n.focus,h),g||!c}let Et=null,Tt=null,rn=!1,up=!1,hf=0;const r_={characterData:!0,childList:!0,subtree:!0};function du(){return rn||Et!==null&&Et._readOnly}function Bt(){rn&&ue(13)}function WS(){hf>99&&ue(14)}function oi(){return Et===null&&ue(195,eC()),Et}function Je(){return Tt===null&&ue(196,eC()),Tt}function eC(){let n=0;const e=new Set,r=Ql.version;if(typeof window<"u")for(const s of document.querySelectorAll("[contenteditable]")){const o=pd(s);if(xm(o))n++;else if(o){let c=String(o.constructor.version||"<0.17.1");c===r&&(c+=" (separately built, likely a bundler configuration issue)"),e.add(c)}}let a=` Detected on the page: ${n} compatible editor(s) with version ${r}`;return e.size&&(a+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),a}function r6(){return Tt}function i_(n,e,r){const a=e.__type,s=sC(n,a);let o=r.get(a);o===void 0&&(o=Array.from(s.transforms),r.set(a,o));const c=o.length;for(let f=0;f<c&&(o[f](e),e.isAttached());f++);}function a_(n,e){return n!==void 0&&n.__key!==e&&n.isAttached()}function tC(n,e){if(!e)return;const r=n._updateTags;let a=e;Array.isArray(e)||(a=[e]);for(const s of a)r.add(s)}function i6(n){return fm(n,Je()._nodes)}function fm(n,e){const r=n.type,a=e.get(r);a===void 0&&ue(17,r);const s=a.klass;n.type!==s.getType()&&ue(18,s.name);const o=s.importJSON(n),c=n.children;if(re(o)&&Array.isArray(c))for(let f=0;f<c.length;f++){const h=fm(c[f],e);o.append(h)}return o}function l_(n,e,r){const a=Et,s=rn,o=Tt;Et=e,rn=!0,Tt=n;try{return r()}finally{Et=a,rn=s,Tt=o}}function Zr(n,e){const r=n._pendingEditorState,a=n._rootElement,s=n._headless||a===null;if(r===null)return;const o=n._editorState,c=o._selection,f=r._selection,h=n._dirtyType!==0,g=Et,m=rn,p=Tt,v=n._updating,_=n._observer;let w=null;if(n._pendingEditorState=null,n._editorState=r,!s&&h&&_!==null){Tt=n,Et=r,rn=!1,n._updating=!0;try{const O=n._dirtyType,A=n._dirtyElements,R=n._dirtyLeaves;_.disconnect(),w=CM(o,r,n,O,A,R)}catch(O){if(O instanceof Error&&n._onError(O),up)throw O;return aC(n,null,a,r),hS(n),n._dirtyType=2,up=!0,Zr(n,o),void(up=!1)}finally{_.observe(a,r_),n._updating=v,Et=g,rn=m,Tt=p}}r._readOnly||(r._readOnly=!0);const N=n._dirtyLeaves,C=n._dirtyElements,S=n._normalizedNodes,E=n._updateTags,T=n._deferred;h&&(n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),(function(O,A){const R=O._decorators;let $=O._pendingDecorators||R;const H=A._nodeMap;let I;for(I in $)H.has(I)||($===R&&($=hC(O)),delete $[I])})(n,r);const j=s?null:Pn(Hn(n));if(n._editable&&j!==null&&(h||f===null||f.dirty||!f.is(c))&&a!==null&&!E.has(KM)){Tt=n,Et=r;try{if(_!==null&&_.disconnect(),h||f===null||f.dirty){const O=n._blockCursorElement;O!==null&&u0(O,n,a),t6(c,f,n,j,E,a)}(function(O,A,R){let $=O._blockCursorElement;if(oe(R)&&R.isCollapsed()&&R.anchor.type==="element"&&A.contains(document.activeElement)){const H=R.anchor,I=H.getNode(),F=H.offset;let Q=!1,B=null;if(F===I.getChildrenSize())fp(I.getChildAtIndex(F-1))&&(Q=!0);else{const te=I.getChildAtIndex(F);if(te!==null&&fp(te)){const L=te.getPreviousSibling();(L===null||fp(L))&&(Q=!0,B=O.getElementByKey(te.__key))}}if(Q){const te=O.getElementByKey(I.__key);return $===null&&(O._blockCursorElement=$=(function(L){const Y=L.theme,se=document.createElement("div");se.contentEditable="false",se.setAttribute("data-lexical-cursor","true");let ce=Y.blockCursor;if(ce!==void 0){if(typeof ce=="string"){const ge=oS(ce);ce=Y.blockCursor=ge}ce!==void 0&&se.classList.add(...ce)}return se})(O._config)),A.style.caretColor="transparent",void(B===null?te.appendChild($):te.insertBefore($,B))}}$!==null&&u0($,O,A)})(n,a,f)}finally{_!==null&&_.observe(a,r_),Tt=p,Et=g}}w!==null&&(function(O,A,R,$,H){const I=Array.from(O._listeners.mutation),F=I.length;for(let Q=0;Q<F;Q++){const[B,te]=I[Q];for(const L of te){const Y=A.get(L);Y!==void 0&&B(Y,{dirtyLeaves:$,prevEditorState:H,updateTags:R})}}})(n,w,E,N,o),oe(f)||f===null||c!==null&&c.is(f)||n.dispatchCommand(bS,void 0);const M=n._pendingDecorators;M!==null&&(n._decorators=M,n._pendingDecorators=null,Mo("decorator",n,!0,M)),(function(O,A,R){const $=c_(A),H=c_(R);$!==H&&Mo("textcontent",O,!0,H)})(n,e||o,r),Mo("update",n,!0,{dirtyElements:C,dirtyLeaves:N,editorState:r,mutatedNodes:w,normalizedNodes:S,prevEditorState:e||o,tags:E}),(function(O,A){if(O._deferred=[],A.length!==0){const R=O._updating;O._updating=!0;try{for(let $=0;$<A.length;$++)A[$]()}finally{O._updating=R}}})(n,T),(function(O){const A=O._updates;if(A.length!==0){const R=A.shift();if(R){const[$,H]=R;gd(O,$,H)}}})(n)}function Mo(n,e,r,...a){const s=e._updating;e._updating=r;try{const o=Array.from(e._listeners[n]);for(let c=0;c<o.length;c++)o[c].apply(null,a)}finally{e._updating=s}}function s_(n,e){const r=n._updates;let a=e||!1;for(;r.length!==0;){const s=r.shift();if(s){const[o,c]=s,f=n._pendingEditorState;let h;c!==void 0&&(h=c.onUpdate,c.skipTransforms&&(a=!0),c.discrete&&(f===null&&ue(191),f._flushSync=!0),h&&n._deferred.push(h),tC(n,c.tag)),f==null?gd(n,o,c):o()}}return a}function gd(n,e,r){const a=n._updateTags;let s,o=!1,c=!1;r!==void 0&&(s=r.onUpdate,tC(n,r.tag),o=r.skipTransforms||!1,c=r.discrete||!1),s&&n._deferred.push(s);const f=n._editorState;let h=n._pendingEditorState,g=!1;(h===null||h._readOnly)&&(h=n._pendingEditorState=rC(h||f),g=!0),h._flushSync=c;const m=Et,p=rn,v=Tt,_=n._updating;Et=h,rn=!1,n._updating=!0,Tt=n;const w=n._headless||n.getRootElement()===null;pm(null);try{g&&(w?f._selection!==null&&(h._selection=f._selection.clone()):h._selection=(function(E,T){const j=E.getEditorState()._selection,M=Pn(Hn(E));return oe(j)||j==null?um(j,M,E,T):j.clone()})(n,r&&r.event||null));const C=n._compositionKey;e(),o=s_(n,o),(function(E,T){const j=T.getEditorState()._selection,M=E._selection;if(oe(M)){const O=M.anchor,A=M.focus;let R;if(O.type==="text"&&(R=O.getNode(),R.selectionTransform(j,M)),A.type==="text"){const $=A.getNode();R!==$&&$.selectionTransform(j,M)}}})(h,n),n._dirtyType!==0&&(o?(function(E,T){const j=T._dirtyLeaves,M=E._nodeMap;for(const O of j){const A=M.get(O);me(A)&&A.isAttached()&&A.isSimpleText()&&!A.isUnmergeable()&&$b(A)}})(h,n):(function(E,T){const j=T._dirtyLeaves,M=T._dirtyElements,O=E._nodeMap,A=Bi(),R=new Map;let $=j,H=$.size,I=M,F=I.size;for(;H>0||F>0;){if(H>0){T._dirtyLeaves=new Set;for(const Q of $){const B=O.get(Q);me(B)&&B.isAttached()&&B.isSimpleText()&&!B.isUnmergeable()&&$b(B),B!==void 0&&a_(B,A)&&i_(T,B,R),j.add(Q)}if($=T._dirtyLeaves,H=$.size,H>0){hf++;continue}}T._dirtyLeaves=new Set,T._dirtyElements=new Map,I.delete("root")&&I.set("root",!0);for(const Q of I){const B=Q[0],te=Q[1];if(M.set(B,te),!te)continue;const L=O.get(B);L!==void 0&&a_(L,A)&&i_(T,L,R)}$=T._dirtyLeaves,H=$.size,I=T._dirtyElements,F=I.size,hf++}T._dirtyLeaves=j,T._dirtyElements=M})(h,n),s_(n),(function(E,T,j,M){const O=E._nodeMap,A=T._nodeMap,R=[];for(const[$]of M){const H=A.get($);H!==void 0&&(H.isAttached()||(re(H)&&cS(H,$,O,A,R,M),O.has($)||M.delete($),R.push($)))}for(const $ of R)A.delete($);for(const $ of j){const H=A.get($);H===void 0||H.isAttached()||(O.has($)||j.delete($),A.delete($))}})(f,h,n._dirtyLeaves,n._dirtyElements)),C!==n._compositionKey&&(h._flushSync=!0);const S=h._selection;if(oe(S)){const E=h._nodeMap,T=S.anchor.key,j=S.focus.key;E.get(T)!==void 0&&E.get(j)!==void 0||ue(19)}else xn(S)&&S._nodes.size===0&&(h._selection=null)}catch(C){return C instanceof Error&&n._onError(C),n._pendingEditorState=f,n._dirtyType=2,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void Zr(n)}finally{Et=m,rn=p,Tt=v,n._updating=_,hf=0}n._dirtyType!==0||n._deferred.length>0||(function(C,S){const E=S.getEditorState()._selection,T=C._selection;if(T!==null){if(T.dirty||!T.is(E))return!0}else if(E!==null)return!0;return!1})(h,n)?h._flushSync?(h._flushSync=!1,Zr(n)):g&&c6(()=>{Zr(n)}):(h._flushSync=!1,g&&(a.clear(),n._deferred=[],n._pendingEditorState=null))}function mr(n,e,r){Tt===n&&r===void 0?e():gd(n,e,r)}class Do{element;before;after;constructor(e,r,a){this.element=e,this.before=r||null,this.after=a||null}withBefore(e){return new Do(this.element,e,this.after)}withAfter(e){return new Do(this.element,this.before,e)}withElement(e){return this.element===e?this:new Do(e,this.before,this.after)}insertChild(e){const r=this.before||this.getManagedLineBreak();return r!==null&&r.parentElement!==this.element&&ue(222),this.element.insertBefore(e,r),this}removeChild(e){return e.parentElement!==this.element&&ue(223),this.element.removeChild(e),this}replaceChild(e,r){return r.parentElement!==this.element&&ue(224),this.element.replaceChild(e,r),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const r=e==="decorator"&&(cu||as||uu);this.insertManagedLineBreak(r)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const r=this.element,a=e.nodeName==="IMG"?e.nextSibling:null;a&&r.removeChild(a),r.removeChild(e),r.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const r=this.getManagedLineBreak();if(r){if(e===(r.nodeName==="IMG"))return;this.removeManagedLineBreak()}const a=this.element,s=this.before,o=document.createElement("br");if(a.insertBefore(o,s),e){const c=document.createElement("img");c.setAttribute("data-lexical-linebreak","true"),c.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",c.alt="",a.insertBefore(c,o),a.__lexicalLineBreak=c}else a.__lexicalLineBreak=o}getFirstChildOffset(){let e=0;for(let r=this.after;r!==null;r=r.previousSibling)e++;return e}resolveChildIndex(e,r,a,s){if(a===this.element){const h=this.getFirstChildOffset();return[e,Math.min(h+e.getChildrenSize(),Math.max(h,s))]}const o=o_(r,a);o.push(s);const c=o_(r,this.element);let f=e.getIndexWithinParent();for(let h=0;h<c.length;h++){const g=o[h],m=c[h];if(g===void 0||g<m)break;if(g>m){f+=1;break}}return[e.getParentOrThrow(),f]}}function o_(n,e){const r=[];let a=e;for(;a!==n&&a!==null;a=a.parentNode){let s=0;for(let o=a.previousSibling;o!==null;o=o.previousSibling)s++;r.push(s)}return a!==n&&ue(225),r.reverse()}class er extends pr{__first;__last;__size;__format;__style;__indent;__dir;__textFormat;__textStyle;constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return dM[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let r=this.getFirstChild();for(;r!==null;)e.push(r),r=r.getNextSibling();return e}getChildrenKeys(){const e=[];let r=this.getFirstChild();for(;r!==null;)e.push(r.__key),r=r.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=Je()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),r=this.getParentOrThrow().getLastChild();return r!==null&&r.is(e)}getAllTextNodes(){const e=[];let r=this.getFirstChild();for(;r!==null;){if(me(r)&&e.push(r),re(r)){const a=r.getAllTextNodes();e.push(...a)}r=r.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;re(e);){const r=e.getFirstChild();if(r===null)break;e=r}return e}getLastDescendant(){let e=this.getLastChild();for(;re(e);){const r=e.getLastChild();if(r===null)break;e=r}return e}getDescendantByIndex(e){const r=this.getChildren(),a=r.length;if(e>=a){const o=r[a-1];return re(o)&&o.getLastDescendant()||o||null}const s=r[e];return re(s)&&s.getFirstDescendant()||s||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:wt(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&ue(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:wt(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&ue(96,this.__key),e}getChildAtIndex(e){const r=this.getChildrenSize();let a,s;if(e<r/2){for(a=this.getFirstChild(),s=0;a!==null&&s<=e;){if(s===e)return a;a=a.getNextSibling(),s++}return null}for(a=this.getLastChild(),s=r-1;a!==null&&s>=e;){if(s===e)return a;a=a.getPreviousSibling(),s--}return null}getTextContent(){let e="";const r=this.getChildren(),a=r.length;for(let s=0;s<a;s++){const o=r[s];e+=o.getTextContent(),re(o)&&s!==a-1&&!o.isInline()&&(e+=Ki)}return e}getTextContentSize(){let e=0;const r=this.getChildren(),a=r.length;for(let s=0;s<a;s++){const o=r[s];e+=o.getTextContentSize(),re(o)&&s!==a-1&&!o.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const r=jb[e];return(this.getFormat()&r)!==0}return!1}hasTextFormat(e){const r=Da[e];return(this.getTextFormat()&r)!==0}getFormatFlags(e,r){return $f(this.getLatest().__textFormat,e,r)}getTextStyle(){return this.getLatest().__textStyle}select(e,r){Bt();const a=he();let s=e,o=r;const c=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&r===0){const h=this.getFirstChild();if(me(h)||re(h))return h.select(0,0)}else if(!(e!==void 0&&e!==c||r!==void 0&&r!==c)){const h=this.getLastChild();if(me(h)||re(h))return h.select()}}s===void 0&&(s=c),o===void 0&&(o=c);const f=this.__key;return oe(a)?(a.anchor.set(f,s,"element"),a.focus.set(f,o,"element"),a.dirty=!0,a):QS(f,s,f,o,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(r=>r.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const r=this.getWritable();return r.__dir=e,r}setFormat(e){return this.getWritable().__format=e!==""?jb[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const r=this.getWritable();return r.__textFormat=e,r}setTextStyle(e){const r=this.getWritable();return r.__textStyle=e,r}setIndent(e){return this.getWritable().__indent=e,this}splice(e,r,a){zf(this)&&ue(324,this.__key,this.__type);const s=this.getChildrenSize(),o=this.getWritable();e+r<=s||ue(226,String(e),String(r),String(s));const c=o.__key,f=[],h=[],g=this.getChildAtIndex(e+r);let m=null,p=s-r+a.length;if(e!==0)if(e===s)m=this.getLastChild();else{const _=this.getChildAtIndex(e);_!==null&&(m=_.getPreviousSibling())}if(r>0){let _=m===null?this.getFirstChild():m.getNextSibling();for(let w=0;w<r;w++){_===null&&ue(100);const N=_.getNextSibling(),C=_.__key;Ta(_.getWritable()),h.push(C),_=N}}let v=m;for(const _ of a){v!==null&&_.is(v)&&(m=v=v.getPreviousSibling());const w=_.getWritable();w.__parent===c&&p--,Ta(w);const N=_.__key;if(v===null)o.__first=N,w.__prev=null;else{const C=v.getWritable();C.__next=N,w.__prev=C.__key}_.__key===c&&ue(76),w.__parent=c,f.push(N),v=_}if(e+r===s)v!==null&&(v.getWritable().__next=null,o.__last=v.__key);else if(g!==null){const _=g.getWritable();if(v!==null){const w=v.getWritable();_.__prev=v.__key,w.__next=g.__key}else _.__prev=null}if(o.__size=p,h.length){const _=he();if(oe(_)){const w=new Set(h),N=new Set(f),{anchor:C,focus:S}=_;u_(C,w,N)&&Lf(C,C.getNode(),this,m,g),u_(S,w,N)&&Lf(S,S.getNode(),this,m,g),p!==0||this.canBeEmpty()||an(this)||this.remove()}}return o}getDOMSlot(e){return new Do(e)}exportDOM(e){const{element:r}=super.exportDOM(e);if(jt(r)){const a=this.getIndent();a>0&&(r.style.paddingInlineStart=40*a+"px");const s=this.getDirection();s&&(r.dir=s)}return{element:r}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},r=this.getTextFormat(),a=this.getTextStyle();return r===0&&a===""||an(this)||this.getChildren().some(me)||(r!==0&&(e.textFormat=r),a!==""&&(e.textStyle=a)),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,r){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,r,a){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,r){const a=this.getDOMSlot(e);let s=a.getFirstChild();for(let o=this.getFirstChild();o;o=o.getNextSibling()){const c=r.getElementByKey(o.getKey());c!==null&&(s==null?(a.insertChild(c),s=c):s!==c&&a.replaceChild(c,s),s=s.nextSibling)}}}function re(n){return n instanceof er}function u_(n,e,r){let a=n.getNode();for(;a;){const s=a.__key;if(e.has(s)&&!r.has(s))return!0;a=a.getParent()}return!1}class nC extends pr{decorate(e,r){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Fe(n){return n instanceof nC}class us extends er{__cachedText;static getType(){return"root"}static clone(){return new us}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){ue(51)}getTextContent(){const e=this.__cachedText;return!du()&&Je()._dirtyType!==0||e===null?super.getTextContent():e}remove(){ue(52)}replace(e){ue(53)}insertBefore(e){ue(54)}insertAfter(e){ue(55)}updateDOM(e,r){return!1}splice(e,r,a){for(const s of a)re(s)||Fe(s)||ue(282);return super.splice(e,r,a)}static importJSON(e){return ot().updateFromJSON(e)}collapseAtStart(){return!0}}function vt(n){return n instanceof us}function rC(n){return new hu(new Map(n._nodeMap))}function dm(){return new hu(new Map([["root",new us]]))}function iC(n){const e=n.exportJSON(),r=n.constructor;if(e.type!==r.getType()&&ue(130,r.name),re(n)){const a=e.children;Array.isArray(a)||ue(59,r.name);const s=n.getChildren();for(let o=0;o<s.length;o++){const c=iC(s[o]);a.push(c)}}return e}function a6(n){return n instanceof hu}class hu{_nodeMap;_selection;_flushSync;_readOnly;constructor(e,r){this._nodeMap=e,this._selection=r||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,r){return l_(r&&r.editor||null,this,e)}clone(e){const r=new hu(this._nodeMap,e===void 0?this._selection:e);return r._readOnly=!0,r}toJSON(){return l_(null,this,()=>({root:iC(ot())}))}}class hm extends er{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class cs extends er{static getType(){return"paragraph"}static clone(e){return new cs(e.__key)}createDOM(e){const r=document.createElement("p"),a=Kl(e.theme,"paragraph");return a!==void 0&&r.classList.add(...a),r}updateDOM(e,r,a){return!1}static importDOM(){return{p:e=>({conversion:l6,priority:0})}}exportDOM(e){const{element:r}=super.exportDOM(e);if(jt(r)){this.isEmpty()&&r.append(document.createElement("br"));const a=this.getFormatType();a&&(r.style.textAlign=a)}return{element:r}}static importJSON(e){return dt().updateFromJSON(e)}exportJSON(){const e=super.exportJSON();if(e.textFormat===void 0||e.textStyle===void 0){const r=this.getChildren().find(me);r?(e.textFormat=r.getFormat(),e.textStyle=r.getStyle()):(e.textFormat=this.getTextFormat(),e.textStyle=this.getTextStyle())}return e}insertNewAfter(e,r){const a=dt();a.setTextFormat(e.format),a.setTextStyle(e.style);const s=this.getDirection();return a.setDirection(s),a.setFormat(this.getFormatType()),a.setStyle(this.getStyle()),this.insertAfter(a,r),a}collapseAtStart(){const e=this.getChildren();if(e.length===0||me(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function l6(n){const e=dt();return n.style&&(e.setFormat(n.style.textAlign),Nm(n,e)),{node:e}}function dt(){return Xi(new cs)}function gm(n){return n instanceof cs}const je=0,ba=1,s6=4;function aC(n,e,r,a){const s=n._keyToDOMMap;s.clear(),n._editorState=dm(),n._pendingEditorState=a,n._compositionKey=null,n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;const o=n._observer;o!==null&&(o.disconnect(),n._observer=null),e!==null&&(e.textContent=""),r!==null&&(r.textContent="",s.set("root",r))}function o6(n){const e=new Set,r=new Set;let a=n;for(;a;){const{ownNodeConfig:s}=xd(a),o=a.transform;if(!r.has(o)){r.add(o);const c=a.transform();c&&e.add(c)}if(s){const c=s.$transform;c&&e.add(c),a=s.extends}else{const c=Object.getPrototypeOf(a);a=c.prototype instanceof pr&&c!==pr?c:void 0}}return e}function lC(n){const e=n||{},r=r6(),a=e.theme||{},s=n===void 0?r:e.parentEditor||null,o=e.disableEvents||!1,c=dm(),f=e.namespace||(s!==null?s._config.namespace:mC()),h=e.editorState,g=[us,si,ls,ss,cs,hm,...e.nodes||[]],{onError:m,html:p}=e,v=e.editable===void 0||e.editable;let _;if(n===void 0&&r!==null)_=r._nodes;else{_=new Map;for(let N=0;N<g.length;N++){let C=g[N],S=null,E=null;if(typeof C!="function"){const M=C;C=M.replace,S=M.with,E=M.withKlass||null}xd(C);const T=C.getType(),j=o6(C);_.set(T,{exportDOM:p&&p.export?p.export.get(C):void 0,klass:C,replace:S,replaceWithKlass:E,sharedNodeState:vM(g[N]),transforms:j})}}const w=new Ql(c,s,_,{disableEvents:o,namespace:f,theme:a},m||console.error,(function(N,C){const S=new Map,E=new Set,T=j=>{Object.keys(j).forEach(M=>{let O=S.get(M);O===void 0&&(O=[],S.set(M,O)),O.push(j[M])})};return N.forEach(j=>{const M=j.klass.importDOM;if(M==null||E.has(M))return;E.add(M);const O=M.call(j.klass);O!==null&&T(O)}),C&&T(C),S})(_,p?p.import:void 0),v,n);return h!==void 0&&(w._pendingEditorState=h,w._dirtyType=2),(function(N){N.registerCommand(wS,RM,je),N.registerCommand(SS,LM,je),N.registerCommand(CS,$M,je),N.registerCommand(NS,UM,je),N.registerCommand(kS,BM,je)})(w),w}class Ql{static version;_headless;_parentEditor;_rootElement;_editorState;_pendingEditorState;_compositionKey;_deferred;_keyToDOMMap;_updates;_updating;_listeners;_commands;_nodes;_decorators;_pendingDecorators;_config;_dirtyType;_cloneNotNeeded;_dirtyLeaves;_dirtyElements;_normalizedNodes;_updateTags;_observer;_key;_onError;_htmlConversions;_window;_editable;_blockCursorElement;_createEditorArgs;constructor(e,r,a,s,o,c,f,h){this._createEditorArgs=h,this._parentEditor=r,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=s,this._nodes=a,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=mC(),this._onError=o,this._htmlConversions=c,this._editable=f,this._headless=r!==null&&r._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const r=this._listeners.update;return r.add(e),()=>{r.delete(e)}}registerEditableListener(e){const r=this._listeners.editable;return r.add(e),()=>{r.delete(e)}}registerDecoratorListener(e){const r=this._listeners.decorator;return r.add(e),()=>{r.delete(e)}}registerTextContentListener(e){const r=this._listeners.textcontent;return r.add(e),()=>{r.delete(e)}}registerRootListener(e){const r=this._listeners.root;return e(this._rootElement,null),r.add(e),()=>{e(null,this._rootElement),r.delete(e)}}registerCommand(e,r,a){a===void 0&&ue(35);const s=this._commands;s.has(e)||s.set(e,[new Set,new Set,new Set,new Set,new Set]);const o=s.get(e);o===void 0&&ue(36,String(e));const c=o[a];return c.add(r),()=>{c.delete(r),o.every(f=>f.size===0)&&s.delete(e)}}registerMutationListener(e,r,a){const s=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,o=this._listeners.mutation;let c=o.get(r);c===void 0&&(c=new Set,o.set(r,c)),c.add(s);const f=a&&a.skipInitialization;return f!==void 0&&f||this.initializeMutationListener(r,s),()=>{c.delete(s),c.size===0&&o.delete(r)}}getRegisteredNode(e){const r=this._nodes.get(e.getType());return r===void 0&&ue(37,e.name),r}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,r){const a=this._editorState,s=d0(a).get(r.getType());if(!s)return;const o=new Map;for(const c of s.keys())o.set(c,"created");o.size>0&&e(o,{dirtyLeaves:new Set,prevEditorState:a,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,r){const a=this.getRegisteredNode(e);return a.transforms.add(r),a}registerNodeTransform(e,r){const a=this.registerNodeTransformToKlass(e,r),s=[a],o=a.replaceWithKlass;if(o!=null){const c=this.registerNodeTransformToKlass(o,r);s.push(c)}return(function(c,f){const h=d0(c.getEditorState()),g=[];for(const m of f){const p=h.get(m);p&&g.push(p)}g.length!==0&&c.update(()=>{for(const m of g)for(const p of m.keys()){const v=wt(p);v&&v.markDirty()}},c._pendingEditorState===null?{tag:ka}:void 0)})(this,s.map(c=>c.klass.getType())),()=>{s.forEach(c=>c.transforms.delete(r))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,r){return xe(this,e,r)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const r=this._rootElement;if(e!==r){const a=Kl(this._config.theme,"root"),s=this._pendingEditorState||this._editorState;if(this._rootElement=e,aC(this,r,e,s),r!==null&&(this._config.disableEvents||HM(r),a!=null&&r.classList.remove(...a)),e!==null){const o=Sm(e),c=e.style;c.userSelect="text",c.whiteSpace="pre-wrap",c.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=o,this._dirtyType=2,hS(this),this._updateTags.add(ka),Zr(this),this._config.disableEvents||(function(f,h){const g=f.ownerDocument;Zp.set(f,g);const m=Df.get(g)??0;m<1&&g.addEventListener("selectionchange",qS),Df.set(g,m+1),f.__lexicalEditor=h;const p=FS(f);for(let v=0;v<Qp.length;v++){const[_,w]=Qp[v],N=typeof w=="function"?C=>{Gb(C)||(qb(C),(h.isEditable()||_==="click")&&w(C,h))}:C=>{if(Gb(C))return;qb(C);const S=h.isEditable();switch(_){case"cut":return S&&xe(h,lm,C);case"copy":return xe(h,dd,C);case"paste":return S&&xe(h,tm,C);case"dragstart":return S&&xe(h,OS,C);case"dragover":return S&&xe(h,zS,C);case"dragend":return S&&xe(h,AM,C);case"focus":return S&&xe(h,DM,C);case"blur":return S&&xe(h,OM,C);case"drop":return S&&xe(h,DS,C)}};f.addEventListener(_,N),p.push(()=>{f.removeEventListener(_,N)})}})(e,this),a!=null&&e.classList.add(...a)}else this._window=null,this._updateTags.add(ka),Zr(this);Mo("root",this,!1,e,r)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,r){e.isEmpty()&&ue(38);let a=e;a._readOnly&&(a=rC(e),a._selection=e._selection?e._selection.clone():null),dS(this);const s=this._pendingEditorState,o=this._updateTags,c=r!==void 0?r.tag:null;s===null||s.isEmpty()||(c!=null&&o.add(c),Zr(this)),this._pendingEditorState=a,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,c!=null&&o.add(c),this._updating||Zr(this)}parseEditorState(e,r){return(function(a,s,o){const c=dm(),f=Et,h=rn,g=Tt,m=s._dirtyElements,p=s._dirtyLeaves,v=s._cloneNotNeeded,_=s._dirtyType;s._dirtyElements=new Map,s._dirtyLeaves=new Set,s._cloneNotNeeded=new Set,s._dirtyType=0,Et=c,rn=!1,Tt=s,pm(null);try{const w=s._nodes;fm(a.root,w),o&&o(),c._readOnly=!0}catch(w){w instanceof Error&&s._onError(w)}finally{s._dirtyElements=m,s._dirtyLeaves=p,s._cloneNotNeeded=v,s._dirtyType=_,Et=f,rn=h,Tt=g}return c})(typeof e=="string"?JSON.parse(e):e,this,r)}read(e){return Zr(this),this.getEditorState().read(e,{editor:this})}update(e,r){(function(a,s,o){a._updating?a._updates.push([s,o]):gd(a,s,o)})(this,e,r)}focus(e,r={}){const a=this._rootElement;a!==null&&(a.setAttribute("autocapitalize","off"),mr(this,()=>{const s=he(),o=ot();s!==null?s.dirty||Kt(s.clone()):o.getChildrenSize()!==0&&(r.defaultSelection==="rootStart"?o.selectStart():o.selectEnd()),g6("focus"),p6(()=>{a.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&a.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const r=Pn(this._window);r!==null&&r.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Mo("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}Ql.version="0.39.0+prod.esm";let l0=null;function pm(n){l0=n}let u6=1;function sC(n,e){const r=mm(n,e);return r===void 0&&ue(30,e),r}function mm(n,e){return n._nodes.get(e)}const c6=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function oC(n){return Fe(Jl(n))}function ym(n){const e=document.activeElement;if(!jt(e))return!1;const r=e.nodeName;return Fe(Jl(n))&&(r==="INPUT"||r==="TEXTAREA"||e.contentEditable==="true"&&pd(e)==null)}function gu(n,e,r){const a=n.getRootElement();try{return a!==null&&a.contains(e)&&a.contains(r)&&e!==null&&!ym(e)&&uC(e)===n}catch{return!1}}function xm(n){return n instanceof Ql}function uC(n){let e=n;for(;e!=null;){const r=pd(e);if(xm(r))return r;e=pu(e)}return null}function pd(n){return n?n.__lexicalEditor:null}function Ea(n){return YS(n)||n.isToken()}function Vr(n){return Ea(n)||n.isSegmented()}function ui(n){return fs(n)&&n.nodeType===3}function cC(n){return fs(n)&&n.nodeType===9}function Zl(n){let e=n;for(;e!=null;){if(ui(e))return e;e=e.firstChild}return null}function $f(n,e,r){const a=Da[e];if(r!==null&&(n&a)===(r&a))return n;let s=n^a;return e==="subscript"?s&=-65:e==="superscript"?s&=-33:e==="lowercase"?(s&=-513,s&=-1025):e==="uppercase"?(s&=-257,s&=-1025):e==="capitalize"&&(s&=-257,s&=-513),s}function fC(n){return me(n)||Gl(n)||Fe(n)}function f6(n,e){const r=(function(){const c=l0;return l0=null,c})();if((e=e||r&&r.__key)!=null)return void(n.__key=e);Bt(),WS();const a=Je(),s=oi(),o=""+u6++;s._nodeMap.set(o,n),re(n)?a._dirtyElements.set(o,!0):a._dirtyLeaves.add(o),a._cloneNotNeeded.add(o),a._dirtyType=1,n.__key=o}function Ta(n){const e=n.getParent();if(e!==null){const r=n.getWritable(),a=e.getWritable(),s=n.getPreviousSibling(),o=n.getNextSibling(),c=o!==null?o.__key:null,f=s!==null?s.__key:null,h=s!==null?s.getWritable():null,g=o!==null?o.getWritable():null;s===null&&(a.__first=c),o===null&&(a.__last=f),h!==null&&(h.__next=c),g!==null&&(g.__prev=f),r.__prev=null,r.__next=null,r.__parent=null,a.__size--}}function Uf(n){WS(),zf(n)&&ue(323,n.__key,n.__type);const e=n.getLatest(),r=e.__parent,a=oi(),s=Je(),o=a._nodeMap,c=s._dirtyElements;r!==null&&(function(h,g,m){let p=h;for(;p!==null;){if(m.has(p))return;const v=g.get(p);if(v===void 0)break;m.set(p,!1),p=v.__parent}})(r,o,c);const f=e.__key;s._dirtyType=1,re(n)?c.set(f,!0):s._dirtyLeaves.add(f)}function Rt(n){Bt();const e=Je(),r=e._compositionKey;if(n!==r){if(e._compositionKey=n,r!==null){const a=wt(r);a!==null&&a.getWritable()}if(n!==null){const a=wt(n);a!==null&&a.getWritable()}}}function Bi(){return du()?null:Je()._compositionKey}function wt(n,e){const r=(e||oi())._nodeMap.get(n);return r===void 0?null:r}function dC(n,e){const r=md(n,Je());return r!==void 0?wt(r,e):null}function md(n,e){return n[`__lexicalKey_${e._key}`]}function Jl(n,e){let r=n;for(;r!=null;){const a=dC(r,e);if(a!==null)return a;r=pu(r)}return null}function hC(n){const e=n._decorators,r=Object.assign({},e);return n._pendingDecorators=r,r}function c_(n){return n.read(()=>ot().getTextContent())}function ot(){return gC(oi())}function gC(n){return n._nodeMap.get("root")}function Kt(n){Bt();const e=oi();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),e._selection=n}function Hl(n){const e=Je(),r=(function(a,s){let o=a;for(;o!=null;){const c=md(o,s);if(c!==void 0)return c;o=pu(o)}return null})(n,e);return r===null?n===e.getRootElement()?wt("root"):null:wt(r)}function pC(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function vm(n){const e=[];let r=n;for(;r!==null;)e.push(r),r=r._parentEditor;return e}function mC(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function yC(n){return ui(n)?n.nodeValue:null}function bm(n,e,r){const a=Pn(Hn(e));if(a===null)return;const s=a.anchorNode;let{anchorOffset:o,focusOffset:c}=a;if(s!==null){let f=yC(s);const h=Jl(s);if(f!==null&&me(h)){if(f===od&&r){const g=r.length;f=r,o=g,c=g}f!==null&&_m(h,f,o,c,n)}}}function _m(n,e,r,a,s){let o=n;if(o.isAttached()&&(s||!o.isDirty())){const c=o.isComposing();let f=e;(c||s)&&e[e.length-1]===od&&(f=e.slice(0,-1));const h=o.getTextContent();if(s||f!==h){if(f===""){if(Rt(null),uu||as||cu)o.remove();else{const N=Je();setTimeout(()=>{N.update(()=>{o.isAttached()&&o.remove()})},20)}return}const g=o.getParent(),m=os(),p=o.getTextContentSize(),v=Bi(),_=o.getKey();if(o.isToken()||v!==null&&_===v&&!c||oe(m)&&(g!==null&&!g.canInsertTextBefore()&&m.anchor.offset===0||m.anchor.key===n.__key&&m.anchor.offset===0&&!o.canInsertTextBefore()&&!c||m.focus.key===n.__key&&m.focus.offset===p&&!o.canInsertTextAfter()&&!c))return void o.markDirty();const w=he();if(!oe(w)||r===null||a===null)return void f_(o,f,w);if(w.setTextNodeRange(o,r,o,a),o.isSegmented()){const N=ft(o.getTextContent());o.replace(N),o=N}f_(o,f,w)}}}function f_(n,e,r){if(n.setTextContent(e),oe(r)){const a=n.getKey();for(const s of["anchor","focus"]){const o=r[s];o.type==="text"&&o.key===a&&(o.offset=qi(n,o.offset,"clamp"))}}}function qc(n,e,r){const a=e[r]||!1;return a==="any"||a===n[r]}function d6(n,e){return qc(n,e,"altKey")&&qc(n,e,"ctrlKey")&&qc(n,e,"shiftKey")&&qc(n,e,"metaKey")}function Ve(n,e,r){return d6(n,r)&&n.key.toLowerCase()===e.toLowerCase()}const Yr={ctrlKey:!In,metaKey:In},d_={altKey:In,ctrlKey:!In};function h_(n){return n.key==="Backspace"}function g_(n){return Ve(n,"a",Yr)}function h6(n){const e=ot();if(oe(n)){const r=n.anchor,a=n.focus,s=r.getNode().getTopLevelElementOrThrow().getParentOrThrow();return r.set(s.getKey(),0,"element"),a.set(s.getKey(),s.getChildrenSize(),"element"),Ef(n),n}{const r=e.select(0,e.getChildrenSize());return Kt(Ef(r)),r}}function Kl(n,e){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});const r=n.__lexicalClassNameCache,a=r[e];if(a!==void 0)return a;const s=n[e];if(typeof s=="string"){const o=oS(s);return r[e]=o,o}return s}function wm(n,e,r,a,s){if(r.size===0)return;const o=a.__type,c=a.__key,f=e.get(o);f===void 0&&ue(33,o);const h=f.klass;let g=n.get(h);g===void 0&&(g=new Map,n.set(h,g));const m=g.get(c),p=m==="destroyed"&&s==="created";(m===void 0||p)&&g.set(c,p?"updated":s)}function Gc(n){const e=n.getType(),r=oi();if(r._readOnly){const o=d0(r).get(e);return o?Array.from(o.values()):[]}const a=r._nodeMap,s=[];for(const[,o]of a)o instanceof n&&o.__type===e&&o.isAttached()&&s.push(o);return s}function p_(n,e,r){const a=n.getParent();let s=r,o=n;return a!==null&&(e&&r===0?(s=o.getIndexWithinParent(),o=a):e||r!==o.getChildrenSize()||(s=o.getIndexWithinParent()+1,o=a)),o.getChildAtIndex(e?s-1:s)}function s0(n,e){const r=n.offset;if(n.type==="element")return p_(n.getNode(),e,r);{const a=n.getNode();if(e&&r===0||!e&&r===a.getTextContentSize()){const s=e?a.getPreviousSibling():a.getNextSibling();return s===null?p_(a.getParentOrThrow(),e,a.getIndexWithinParent()+(e?0:1)):s}}return null}function xC(n){const e=Hn(n).event,r=e&&e.inputType;return r==="insertFromPaste"||r==="insertFromPasteAsQuotation"}function xe(n,e,r){return(function(a,s,o){const c=vm(a);for(let f=4;f>=0;f--)for(let h=0;h<c.length;h++){const g=c[h],m=g._commands.get(s);if(m!==void 0){const p=m[f];if(p!==void 0){const v=Array.from(p),_=v.length;let w=!1;if(mr(g,()=>{for(let N=0;N<_;N++)if(v[N](o,a))return void(w=!0)}),w)return w}}}return!1})(n,e,r)}function yd(n){return!vt(n)&&!n.isLastChild()&&!n.isInline()}function La(n,e){const r=n._keyToDOMMap.get(e);return r===void 0&&ue(75,e),r}function pu(n){const e=n.assignedSlot||n.parentElement;return c0(e)?e.host:e}function vC(n){return cC(n)?n:jt(n)?n.ownerDocument:null}function g6(n){Bt(),Je()._updateTags.add(n)}function p6(n){Bt(),Je()._deferred.push(n)}function o0(n,e){let r=n.getParent();for(;r!==null;){if(r.is(e))return!0;r=r.getParent()}return!1}function Sm(n){const e=vC(n);return e?e.defaultView:null}function Hn(n){const e=n._window;return e===null&&ue(78),e}function m6(n){let e=n.getParentOrThrow();for(;e!==null;){if(an(e))return e;e=e.getParentOrThrow()}return e}function an(n){return vt(n)||re(n)&&n.isShadowRoot()}function Xi(n){const e=Je(),r=n.getType(),a=mm(e,r);a===void 0&&ue(200,n.constructor.name,r);const{replace:s,replaceWithKlass:o}=a;if(s!==null){const c=s(n),f=c.constructor;return o!==null?c instanceof o||ue(201,o.name,o.getType(),f.name,f.getType(),n.constructor.name,r):c instanceof n.constructor&&f!==n.constructor||ue(202,f.name,f.getType(),n.constructor.name,r),c.__key===n.__key&&ue(203,n.constructor.name,r,f.name,f.getType()),c}return n}function cp(n,e){!vt(n.getParent())||re(e)||Fe(e)||ue(99)}function y6(n){const e=wt(n);return e===null&&ue(63,n),e}function fp(n){return(Fe(n)||re(n)&&!n.canBeEmpty())&&!n.isInline()}function u0(n,e,r){r.style.removeProperty("caret-color"),e._blockCursorElement=null;const a=n.parentElement;a!==null&&a.removeChild(n)}function Pn(n){return rr?(n||window).getSelection():null}function x6(n){const e=Sm(n);return e?e.getSelection():null}function jt(n){return fs(n)&&n.nodeType===1}function fs(n){return typeof n=="object"&&n!==null&&"nodeType"in n&&typeof n.nodeType=="number"}function c0(n){return fs(n)&&n.nodeType===11}function f0(n){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(e)!==null}function Bf(n){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(e)!==null}function zn(n){if(Fe(n)&&!n.isInline())return!0;if(!re(n)||an(n))return!1;const e=n.getFirstChild(),r=e===null||Gl(e)||me(e)||e.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&r}function Cm(){return Je()}const m_=new WeakMap,v6=new Map;function d0(n){if(!n._readOnly&&n.isEmpty())return v6;n._readOnly||ue(192);let e=m_.get(n);return e||(e=(function(r){const a=new Map;for(const[s,o]of r._nodeMap){const c=o.__type;let f=a.get(c);f||(f=new Map,a.set(c,f)),f.set(s,o)}return a})(n),m_.set(n,e)),e}function bC(n){const e=n.constructor.clone(n);return e.afterCloneFrom(n),e}function b6(n){return(e=bC(n))[GS]=!0,e;var e}function Nm(n,e){const r=parseInt(n.style.paddingInlineStart,10)||0,a=Math.round(r/40);e.setIndent(a)}function _6(n){return n.__lexicalUnmanaged===!0}function co(n,e){return(function(r,a){return Object.prototype.hasOwnProperty.call(r,a)})(n,e)&&n[e]!==pr[e]}function xd(n){const e=Ab in n.prototype?n.prototype[Ab]():void 0,r=(function(c){if(!(c===pr||c.prototype instanceof pr)){let f="<unknown>",h="<unknown>";try{f=c.getType()}catch{}try{Ql.version&&(h=JSON.parse(Ql.version))}catch{}ue(290,c.name,f,h)}return c===nC||c===er||c===pr})(n),a=!r&&co(n,"getType")?n.getType():void 0;let s,o=a;if(e)if(a)s=e[a];else for(const[c,f]of Object.entries(e))o=c,s=f;if(!r&&o&&(co(n,"getType")||(n.getType=()=>o),co(n,"clone")||(n.clone=c=>(pm(c),new n)),co(n,"importJSON")||(n.importJSON=s&&s.$importJSON||(c=>new n().updateFromJSON(c))),!co(n,"importDOM")&&s)){const{importDOM:c}=s;c&&(n.importDOM=()=>c)}return{ownNodeConfig:s,ownNodeType:o}}const Jn=(n,e)=>{let r=n;for(;r!=null&&!vt(r);){if(e(r))return r;r=r.getParent()}return null},w6={next:"previous",previous:"next"};class km{origin;constructor(e){this.origin=e}[Symbol.iterator](){return _C({hasNext:Wl,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return Pt(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return Pt(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,r){const a=this.getNodeAtCaret();return e.is(this.origin)||e.is(a)||(a===null?this.insert(e):a.replace(e,r)),this}splice(e,r,a="next"){const s=a===this.direction?r:Array.from(r).reverse();let o=this;const c=this.getParentAtCaret(),f=new Map;for(let h=o.getAdjacentCaret();h!==null&&f.size<e;h=h.getAdjacentCaret()){const g=h.origin.getWritable();f.set(g.getKey(),g)}for(const h of s){if(f.size>0){const g=o.getNodeAtCaret();if(g){if(f.delete(g.getKey()),f.delete(h.getKey()),!(g.is(h)||o.origin.is(h))){const m=h.getParent();m&&m.is(c)&&h.remove(),g.replace(h)}}else g===null&&ue(263,Array.from(f).join(" "))}else o.insert(h);o=Pt(h,this.direction)}for(const h of f.values())h.remove();return this}}class Xo extends km{type="child";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:tr(e,this.direction)}getParentCaret(e="root"){return Pt(Em(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=ds(this.direction);return Pt(this.getNodeAtCaret(),e)||tr(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof Xo&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}const S6={root:vt,shadowRoot:an};function ds(n){return w6[n]}function Em(n,e="root"){return S6[e](n)?null:n}class $a extends km{type="sibling";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Pt(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return re(this.origin)?tr(this.origin,this.direction):null}getParentCaret(e="root"){return Pt(Em(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=ds(this.direction);return Pt(this.getNodeAtCaret(),e)||tr(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof $a&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof $a||e instanceof Ua)&&this.direction===e.direction&&this.origin.is(e.origin)}}class Ua extends km{type="text";offset;constructor(e,r){super(e),this.offset=r}getLatest(){const e=this.origin.getLatest();return e===this.origin?this:Ba(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return Pt(Em(this.getParentAtCaret(),e),this.direction)}getFlipped(){return Ba(this.origin,ds(this.direction),this.offset)}isSamePointCaret(e){return e instanceof Ua&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof $a||e instanceof Ua)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return Pt(this.origin,this.direction)}}function Fi(n){return n instanceof Ua}function Wl(n){return n instanceof $a}function yr(n){return n instanceof Xo}const C6={next:class extends Ua{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(n){return this.origin.insertAfter(n),this}},previous:class extends Ua{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(n){return this.origin.insertBefore(n),this}}},N6={next:class extends $a{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(n){return this.origin.insertAfter(n),this}},previous:class extends $a{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(n){return this.origin.insertBefore(n),this}}},k6={next:class extends Xo{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(n){return this.origin.splice(0,0,[n]),this}},previous:class extends Xo{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(n){return this.origin.splice(this.origin.getChildrenSize(),0,[n]),this}}};function Pt(n,e){return n?new N6[e](n):null}function Ba(n,e,r){return n?new C6[e](n,qi(n,r)):null}function qi(n,e,r="error"){const a=n.getTextContentSize();let s=e==="next"?a:e==="previous"?0:e;return(s<0||s>a)&&(r!=="clamp"&&lS(284,String(e),String(a),n.getKey()),s=s<0?0:a),s}function y_(n,e){return new T6(n,e)}function tr(n,e){return re(n)?new k6[e](n):null}function E6(n){return n&&n.getChildCaret()||n}function Tm(n){return n&&E6(n.getAdjacentCaret())}class jm{type="node-caret-range";direction;anchor;focus;constructor(e,r,a){this.anchor=e,this.focus=r,this.direction=a}getLatest(){const e=this.anchor.getLatest(),r=this.focus.getLatest();return e===this.anchor&&r===this.focus?this:new jm(e,r,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=s=>{const o=this[s].getLatest();return Fi(o)?(function(c,f){const{direction:h,origin:g}=c,m=qi(g,f==="focus"?ds(h):h);return y_(c,m-c.offset)})(o,s):null},r=e("anchor"),a=e("focus");if(r&&a){const{caret:s}=r,{caret:o}=a;if(s.isSameNodeCaret(o))return[y_(s,o.offset-s.offset),null]}return[r,a]}iterNodeCarets(e="root"){const r=Fi(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),a=this.focus.getLatest(),s=Fi(a),o=c=>c.isSameNodeCaret(a)?null:Tm(c)||c.getParentCaret(e);return _C({hasNext:c=>c!==null&&!(s&&a.isSameNodeCaret(c)),initial:r.isSameNodeCaret(a)?null:o(r),map:c=>c,step:o})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class T6{type="slice";caret;distance;constructor(e,r){this.caret=e,this.distance=r}getSliceIndices(){const{distance:e,caret:{offset:r}}=this,a=r+e;return a<r?[a,r]:[r,a]}getTextContent(){const[e,r]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,r)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:r}}=this,[a,s]=this.getSliceIndices(),o=e.getTextContent();return Ba(e.setTextContent(o.slice(0,a)+o.slice(s)),r,a)}}function Am(n){return Ii(n,Pt(ot(),n.direction))}function j6(n){return Ii(n,n)}function Ii(n,e){return n.direction!==e.direction&&ue(265),new jm(n,e,n.direction)}function _C(n){const{initial:e,hasNext:r,step:a,map:s}=n;let o=e;return{[Symbol.iterator](){return this},next(){if(!r(o))return{done:!0,value:void 0};const c={done:!1,value:s(o)};return o=a(o),c}}}function wC(n,e){const r=gf(n.origin,e.origin);switch(r===null&&ue(275,n.origin.getKey(),e.origin.getKey()),r.type){case"same":{const a=n.type==="text",s=e.type==="text";return a&&s?(function(o,c){return Math.sign(o-c)})(n.offset,e.offset):n.type===e.type?0:a?-1:s?1:n.type==="child"?-1:1}case"ancestor":return n.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return SC(r)}}function SC(n){const{a:e,b:r}=n,a=e.__key,s=r.__key;let o=e,c=r;for(;o&&c;o=o.getNextSibling(),c=c.getNextSibling()){if(o.__key===s)return-1;if(c.__key===a)return 1}return o===null?1:-1}function Kc(n,e){return e.is(n)}function x_(n){return re(n)?[n.getLatest(),null]:[n.getParent(),n.getLatest()]}function gf(n,e){if(n.is(e))return{commonAncestor:n,type:"same"};const r=new Map;for(let[a,s]=x_(n);a;s=a,a=a.getParent())r.set(a,s);for(let[a,s]=x_(e);a;s=a,a=a.getParent()){const o=r.get(a);if(o!==void 0)return o===null?(Kc(n,a)||ue(276),{commonAncestor:a,type:"ancestor"}):s===null?(Kc(e,a)||ue(277),{commonAncestor:a,type:"descendant"}):((re(o)||Kc(n,o))&&(re(s)||Kc(e,s))&&a.is(o.getParent())&&a.is(s.getParent())||ue(278),{a:o,b:s,commonAncestor:a,type:"branch"})}return null}function ii(n,e){const{type:r,key:a,offset:s}=n,o=y6(n.key);return r==="text"?(me(o)||ue(266,o.getType(),a),Ba(o,e,s)):(re(o)||ue(267,o.getType(),a),D6(o,n.offset,e))}function Ha(n,e){const{origin:r,direction:a}=e,s=a==="next";Fi(e)?n.set(r.getKey(),e.offset,"text"):Wl(e)?me(r)?n.set(r.getKey(),qi(r,a),"text"):n.set(r.getParentOrThrow().getKey(),r.getIndexWithinParent()+(s?1:0),"element"):(yr(e)&&re(r)||ue(268),n.set(r.getKey(),s?0:r.getChildrenSize(),"element"))}function A6(n){const e=he(),r=oe(e)?e:om();return pf(r,n),Kt(r),r}function pf(n,e){Ha(n.anchor,e.anchor),Ha(n.focus,e.focus)}function v_(n){const{anchor:e,focus:r}=n,a=ii(e,"next"),s=ii(r,"next"),o=wC(a,s)<=0?"next":"previous";return Ii(es(a,o),es(s,o))}function Mm(n){const{direction:e,origin:r}=n,a=Pt(r,ds(e)).getNodeAtCaret();return a?Pt(a,e):tr(r.getParentOrThrow(),e)}function b_(n,e="root"){const r=[n];for(let a=yr(n)?n.getParentCaret(e):n.getSiblingCaret();a!==null;a=a.getParentCaret(e))r.push(Mm(a));return r}function dp(n){return!!n&&n.origin.isAttached()}function M6(n,e="removeEmptySlices"){if(n.isCollapsed())return n;const r="root",a="next";let s=e;const o=NC(n,a),c=b_(o.anchor,r),f=b_(o.focus.getFlipped(),r),h=new Set,g=[];for(const w of o.iterNodeCarets(r))if(yr(w))h.add(w.origin.getKey());else if(Wl(w)){const{origin:N}=w;re(N)&&!h.has(N.getKey())||g.push(N)}for(const w of g)w.remove();for(const w of o.getTextSlices()){if(!w)continue;const{origin:N}=w.caret,C=N.getTextContentSize(),S=Mm(Pt(N,a)),E=N.getMode();if(Math.abs(w.distance)===C&&s==="removeEmptySlices"||E==="token"&&w.distance!==0)S.remove();else if(w.distance!==0){s="removeEmptySlices";let T=w.removeTextSlice();const j=w.caret.origin;if(E==="segmented"){const M=T.origin,O=ft(M.getTextContent()).setStyle(M.getStyle()).setFormat(M.getFormat());S.replaceOrInsert(O),T=Ba(O,a,T.offset)}j.is(c[0].origin)&&(c[0]=T),j.is(f[0].origin)&&(f[0]=T.getFlipped())}}let m,p;for(const w of c)if(dp(w)){m=$n(w);break}for(const w of f)if(dp(w)){p=$n(w);break}const v=(function(w,N,C){if(!w||!N)return null;const S=w.getParentAtCaret(),E=N.getParentAtCaret();if(!S||!E)return null;const T=S.getParents().reverse();T.push(S);const j=E.getParents().reverse();j.push(E);const M=Math.min(T.length,j.length);let O;for(O=0;O<M&&T[O]===j[O];O++);const A=(H,I)=>{let F;for(let Q=O;Q<H.length;Q++){const B=H[Q];if(an(B))return;!F&&I(B)&&(F=B)}return F},R=A(T,zn),$=R&&A(j,H=>C.has(H.getKey())&&zn(H));return R&&$?[R,$]:null})(m,p,h);if(v){const[w,N]=v;tr(w,"previous").splice(0,N.getChildren()),N.remove()}const _=[m,p,...c,...f].find(dp);if(_)return j6(es($n(_),n.direction));ue(269,JSON.stringify(c.map(w=>w.origin.__key)))}function $n(n){const e=(function(s){let o=s;for(;yr(o);){const c=Tm(o);if(!yr(c))break;o=c}return o})(n.getLatest()),{direction:r}=e;if(me(e.origin))return Fi(e)?e:Ba(e.origin,r,r);const a=e.getAdjacentCaret();return Wl(a)&&me(a.origin)?Ba(a.origin,r,ds(r)):e}function CC(n){return Fi(n)&&n.offset!==qi(n.origin,n.direction)}function es(n,e){return n.direction===e?n:n.getFlipped()}function NC(n,e){return n.direction===e?n:Ii(es(n.focus,e),es(n.anchor,e))}function D6(n,e,r){let a=tr(n,"next");for(let s=0;s<e;s++){const o=a.getAdjacentCaret();if(o===null)break;a=o}return es(a,r)}function O6(...n){return n}function z6(n,e){if(!e||n===e)return n;for(const r in e)if(n[r]!==e[r])return{...n,...e};return n}const kC=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,R6=kC?D.useLayoutEffect:D.useEffect,Ic={tag:ka};function L6({initialConfig:n,children:e}){const r=D.useMemo(()=>{const{theme:a,namespace:s,nodes:o,onError:c,editorState:f,html:h}=n,g=JA(null,a),m=lC({editable:n.editable,html:h,namespace:s,nodes:o,onError:p=>c(p,m),theme:a});return(function(p,v){if(v!==null){if(v===void 0)p.update(()=>{const _=ot();if(_.isEmpty()){const w=dt();_.append(w);const N=kC?document.activeElement:null;(he()!==null||N!==null&&N===p.getRootElement())&&w.select()}},Ic);else if(v!==null)switch(typeof v){case"string":{const _=p.parseEditorState(v);p.setEditorState(_,Ic);break}case"object":p.setEditorState(v,Ic);break;case"function":p.update(()=>{ot().isEmpty()&&v(p)},Ic)}}})(m,f),[m,g]},[]);return R6(()=>{const a=n.editable,[s]=r;s.setEditable(a===void 0||a)},[]),x.jsx(aS.Provider,{value:r,children:e})}const $6=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?D.useLayoutEffect:D.useEffect;function U6(n){return{initialValueFn:()=>n.isEditable(),subscribe:e=>n.registerEditableListener(e)}}function B6(){return(function(n){const[e]=Ct(),r=D.useMemo(()=>n(e),[e,n]),[a,s]=D.useState(()=>r.initialValueFn()),o=D.useRef(a);return $6(()=>{const{initialValueFn:c,subscribe:f}=r,h=c();return o.current!==h&&(o.current=h,s(h)),f(g=>{o.current=g,s(g)})},[r,n]),a})(U6)}const h0=new Map;function EC(n){const e={};if(!n)return e;const r=n.split(";");for(const a of r)if(a!==""){const[s,o]=a.split(/:([^]+)/);s&&o&&(e[s.trim()]=o.trim())}return e}function __(n){let e=h0.get(n);return e===void 0&&(e=EC(n),h0.set(n,e)),e}function TC(n){const e=Cm().getElementByKey(n.getKey());if(e===null)return null;const r=e.ownerDocument.defaultView;return r===null?null:r.getComputedStyle(e)}function jC(n){return TC(vt(n)?n:n.getParentOrThrow())}function w_(n){const e=jC(n);return e!==null&&e.direction==="rtl"}function AC(n,e,r="self"){const a=n.getStartEndPoints();if(e.isSelected(n)&&!Vr(e)&&a!==null){const[s,o]=a,c=n.isBackward(),f=s.getNode(),h=o.getNode(),g=e.is(f),m=e.is(h);if(g||m){const[p,v]=i0(n),_=f.is(h),w=e.is(c?h:f),N=e.is(c?f:h);let C,S=0;_?(S=p>v?v:p,C=p>v?p:v):w?(S=c?v:p,C=void 0):N&&(S=0,C=c?p:v);const E=e.__text.slice(S,C);E!==e.__text&&(r==="clone"&&(e=b6(e)),e.__text=E)}}return e}function H6(n){const e=n.getStyle(),r=EC(e);h0.set(e,r)}function P6(n,e){const r=n.getFormatType(),a=n.getIndent();r!==e.getFormatType()&&e.setFormat(r),a!==e.getIndent()&&e.setIndent(a)}function Yc(n,e,r=P6){if(n===null)return;const a=n.getStartEndPoints(),s=new Map;let o=null;if(a){const[c,f]=a;o=om(),o.anchor.set(c.key,c.offset,c.type),o.focus.set(f.key,f.offset,f.type);const h=Jn(c.getNode(),zn),g=Jn(f.getNode(),zn);re(h)&&s.set(h.getKey(),h),re(g)&&s.set(g.getKey(),g)}for(const c of n.getNodes())if(re(c)&&zn(c))s.set(c.getKey(),c);else if(a===null){const f=Jn(c,zn);re(f)&&s.set(f.getKey(),f)}for(const[c,f]of s){const h=e();r(f,h),f.replace(h,!0),o&&(c===o.anchor.key&&o.anchor.set(h.getKey(),o.anchor.offset,o.anchor.type),c===o.focus.key&&o.focus.set(h.getKey(),o.focus.offset,o.focus.type))}o&&n.is(he())&&Kt(o)}function MC(n){const e=DC(n);return e!==null&&e.writingMode==="vertical-rl"}function DC(n){const e=n.anchor.getNode();return re(e)?TC(e):jC(e)}function S_(n,e){let r=MC(n)?!e:e;OC(n)&&(r=!r);const a=ii(n.focus,r?"previous":"next");if(CC(a))return!1;for(const s of Am(a)){if(yr(s))return!s.origin.isInline();if(!re(s.origin)){if(Fe(s.origin))return!0;break}}return!1}function F6(n,e,r,a){n.modify(e?"extend":"move",r,a)}function OC(n){const e=DC(n);return e!==null&&e.direction==="rtl"}function C_(n,e,r){const a=OC(n);let s;s=MC(n)||a?!r:r,F6(n,e,s,"character")}function q6(n,...e){const r=new URL("https://lexical.dev/docs/error"),a=new URLSearchParams;a.append("code",n);for(const s of e)a.append("v",s);throw r.search=a.toString(),Error(`Minified Lexical error #${n}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const zC=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,G6=zC&&"documentMode"in document?document.documentMode:null;!(!zC||!("InputEvent"in window)||G6)&&"getTargetRanges"in new window.InputEvent("input");function RC(...n){const e=[];for(const r of n)if(r&&typeof r=="string")for(const[a]of r.matchAll(/\S+/g))e.push(a);return e}function nr(...n){return()=>{for(let e=n.length-1;e>=0;e--)n[e]();n.length=0}}function vd(n,...e){const r=RC(...e);r.length>0&&n.classList.add(...r)}function LC(n,...e){const r=RC(...e);r.length>0&&n.classList.remove(...r)}function K6(n,e){let r=n;for(;r!=null;){if(r instanceof e)return r;r=r.getParent()}return null}function I6(n){const e=Jn(n,r=>re(r)&&!r.isInline());return re(e)||q6(4,n.__key),e}function wa(n,e){return n!==null&&Object.getPrototypeOf(n).constructor.name===e.name}const Y6=Symbol.for("preact-signals");function bd(){if(Gi>1)return void Gi--;let n,e=!1;for(;Oo!==void 0;){let r=Oo;for(Oo=void 0,g0++;r!==void 0;){const a=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&$C(r))try{r.c()}catch(s){e||(n=s,e=!0)}r=a}}if(g0=0,Gi--,e)throw n}function V6(n){if(Gi>0)return n();Gi++;try{return n()}finally{bd()}}let Ge,Oo;function N_(n){const e=Ge;Ge=void 0;try{return n()}finally{Ge=e}}let Gi=0,g0=0,mf=0;function k_(n){if(Ge===void 0)return;let e=n.n;return e===void 0||e.t!==Ge?(e={i:0,S:n,p:Ge.s,n:void 0,t:Ge,e:void 0,x:void 0,r:e},Ge.s!==void 0&&(Ge.s.n=e),Ge.s=e,n.n=e,32&Ge.f&&n.S(e),e):e.i===-1?(e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=Ge.s,e.n=void 0,Ge.s.n=e,Ge.s=e),e):void 0}function qt(n,e){this.v=n,this.i=0,this.n=void 0,this.t=void 0,this.W=e?.watched,this.Z=e?.unwatched,this.name=e?.name}function X6(n,e){return new qt(n,e)}function $C(n){for(let e=n.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function E_(n){for(let e=n.s;e!==void 0;e=e.n){const r=e.S.n;if(r!==void 0&&(e.r=r),e.S.n=e,e.i=-1,e.n===void 0){n.s=e;break}}}function UC(n){let e,r=n.s;for(;r!==void 0;){const a=r.p;r.i===-1?(r.S.U(r),a!==void 0&&(a.n=r.n),r.n!==void 0&&(r.n.p=a)):e=r,r.S.n=r.r,r.r!==void 0&&(r.r=void 0),r=a}n.s=e}function Ml(n,e){qt.call(this,void 0),this.x=n,this.s=void 0,this.g=mf-1,this.f=4,this.W=e?.watched,this.Z=e?.unwatched,this.name=e?.name}function BC(n){const e=n.u;if(n.u=void 0,typeof e=="function"){Gi++;const r=Ge;Ge=void 0;try{e()}catch(a){throw n.f&=-2,n.f|=8,Dm(n),a}finally{Ge=r,bd()}}}function Dm(n){for(let e=n.s;e!==void 0;e=e.n)e.S.U(e);n.x=void 0,n.s=void 0,BC(n)}function Q6(n){if(Ge!==this)throw new Error("Out-of-order effect");UC(this),Ge=n,this.f&=-2,8&this.f&&Dm(this),bd()}function Bl(n,e){this.x=n,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=e?.name}function Om(n,e){const r=new Bl(n,e);try{r.c()}catch(s){throw r.d(),s}const a=r.d.bind(r);return a[Symbol.dispose]=a,a}function Z6(n,e={}){const r={};for(const a in n){const s=e[a],o=X6(s===void 0?n[a]:s);r[a]=o}return r}qt.prototype.brand=Y6,qt.prototype.h=function(){return!0},qt.prototype.S=function(n){const e=this.t;e!==n&&n.e===void 0&&(n.x=e,this.t=n,e!==void 0?e.e=n:N_(()=>{var r;(r=this.W)==null||r.call(this)}))},qt.prototype.U=function(n){if(this.t!==void 0){const e=n.e,r=n.x;e!==void 0&&(e.x=r,n.e=void 0),r!==void 0&&(r.e=e,n.x=void 0),n===this.t&&(this.t=r,r===void 0&&N_(()=>{var a;(a=this.Z)==null||a.call(this)}))}},qt.prototype.subscribe=function(n){return Om(()=>{const e=this.value,r=Ge;Ge=void 0;try{n(e)}finally{Ge=r}},{name:"sub"})},qt.prototype.valueOf=function(){return this.value},qt.prototype.toString=function(){return this.value+""},qt.prototype.toJSON=function(){return this.value},qt.prototype.peek=function(){const n=Ge;Ge=void 0;try{return this.value}finally{Ge=n}},Object.defineProperty(qt.prototype,"value",{get(){const n=k_(this);return n!==void 0&&(n.i=this.i),this.v},set(n){if(n!==this.v){if(g0>100)throw new Error("Cycle detected");this.v=n,this.i++,mf++,Gi++;try{for(let e=this.t;e!==void 0;e=e.x)e.t.N()}finally{bd()}}}}),Ml.prototype=new qt,Ml.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===mf))return!0;if(this.g=mf,this.f|=1,this.i>0&&!$C(this))return this.f&=-2,!0;const n=Ge;try{E_(this),Ge=this;const e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return Ge=n,UC(this),this.f&=-2,!0},Ml.prototype.S=function(n){if(this.t===void 0){this.f|=36;for(let e=this.s;e!==void 0;e=e.n)e.S.S(e)}qt.prototype.S.call(this,n)},Ml.prototype.U=function(n){if(this.t!==void 0&&(qt.prototype.U.call(this,n),this.t===void 0)){this.f&=-33;for(let e=this.s;e!==void 0;e=e.n)e.S.U(e)}},Ml.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let n=this.t;n!==void 0;n=n.x)n.t.N()}},Object.defineProperty(Ml.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");const n=k_(this);if(this.h(),n!==void 0&&(n.i=this.i),16&this.f)throw this.v;return this.v}}),Bl.prototype.c=function(){const n=this.S();try{if(8&this.f||this.x===void 0)return;const e=this.x();typeof e=="function"&&(this.u=e)}finally{n()}},Bl.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,BC(this),E_(this),Gi++;const n=Ge;return Ge=this,Q6.bind(this,n)},Bl.prototype.N=function(){2&this.f||(this.f|=2,this.o=Oo,Oo=this)},Bl.prototype.d=function(){this.f|=8,1&this.f||Dm(this)},Bl.prototype.dispose=function(){this.d()};function J6(n){return(typeof n.nodes=="function"?n.nodes():n.nodes)||[]}function et(n,...e){const r=new URL("https://lexical.dev/docs/error"),a=new URLSearchParams;a.append("code",n);for(const s of e)a.append("v",s);throw r.search=a.toString(),Error(`Minified Lexical error #${n}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function HC(n,e){if(n&&e&&!Array.isArray(e)&&typeof n=="object"&&typeof e=="object"){const r=n,a=e;for(const s in a)r[s]=HC(r[s],a[s]);return n}return e}const zm=0,p0=1,PC=2,hp=3,Vc=4,Dl=5,gp=6,fo=7;function pp(n){return n.id===zm}function FC(n){return n.id===PC}function W6(n){return(function(e){return e.id===p0})(n)||et(305,String(n.id),String(p0)),Object.assign(n,{id:PC})}const eD=new Set;class tD{builder;configs;_dependency;_peerNameSet;extension;state;_signal;constructor(e,r){this.builder=e,this.extension=r,this.configs=new Set,this.state={id:zm}}mergeConfigs(){let e=this.extension.config||{};const r=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):z6;for(const a of this.configs)e=r(e,a);return e}init(e){const r=this.state;FC(r)||et(306,String(r.id));const a={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},s={...a,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},o=(function(f,h,g){return Object.assign(f,{config:h,id:hp,registerState:g})})(r,this.mergeConfigs(),a);let c;this.state=o,this.extension.init&&(c=this.extension.init(e,o.config,a)),this.state=(function(f,h,g){return Object.assign(f,{id:Vc,initResult:h,registerState:g})})(o,c,s)}build(e){const r=this.state;let a;r.id!==Vc&&et(307,String(r.id),String(Dl)),this.extension.build&&(a=this.extension.build(e,r.config,r.registerState));const s={...r.registerState,getOutput:()=>a,getSignal:this.getSignal.bind(this)};this.state=(function(o,c,f){return Object.assign(o,{id:Dl,output:c,registerState:f})})(r,a,s)}register(e,r){this._signal=r;const a=this.state;a.id!==Dl&&et(308,String(a.id),String(Dl));const s=this.extension.register&&this.extension.register(e,a.config,a.registerState);return this.state=(function(o){return Object.assign(o,{id:gp})})(a),()=>{const o=this.state;o.id!==fo&&et(309,String(a.id),String(fo)),this.state=(function(c){return Object.assign(c,{id:Dl})})(o),s&&s()}}afterRegistration(e){const r=this.state;let a;return r.id!==gp&&et(310,String(r.id),String(gp)),this.extension.afterRegistration&&(a=this.extension.afterRegistration(e,r.config,r.registerState)),this.state=(function(s){return Object.assign(s,{id:fo})})(r),a}getSignal(){return this._signal===void 0&&et(311),this._signal}getInitResult(){this.extension.init===void 0&&et(312,this.extension.name);const e=this.state;return(function(r){return r.id>=Vc})(e)||et(313,String(e.id),String(Vc)),e.initResult}getInitPeer(e){const r=this.builder.extensionNameMap.get(e);return r?r.getExtensionInitDependency():void 0}getExtensionInitDependency(){const e=this.state;return(function(r){return r.id>=hp})(e)||et(314,String(e.id),String(hp)),{config:e.config}}getPeer(e){const r=this.builder.extensionNameMap.get(e);return r?r.getExtensionDependency():void 0}getInitDependency(e){const r=this.builder.getExtensionRep(e);return r===void 0&&et(315,this.extension.name,e.name),r.getExtensionInitDependency()}getDependency(e){const r=this.builder.getExtensionRep(e);return r===void 0&&et(315,this.extension.name,e.name),r.getExtensionDependency()}getState(){const e=this.state;return(function(r){return r.id>=fo})(e)||et(316,String(e.id),String(fo)),e}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||eD}getPeerNameSet(){let e=this._peerNameSet;return e||(e=new Set((this.extension.peerDependencies||[]).map(([r])=>r)),this._peerNameSet=e),e}getExtensionDependency(){if(!this._dependency){const e=this.state;(function(r){return r.id>=Dl})(e)||et(317,this.extension.name),this._dependency={config:e.config,init:e.initResult,output:e.output}}return this._dependency}}const T_={tag:ka};function nD(){const n=ot();n.isEmpty()&&n.append(dt())}const rD={config:{setOptions:T_,updateOptions:T_},init:({$initialEditorState:n=nD})=>({$initialEditorState:n,initialized:!1}),afterRegistration(n,{updateOptions:e,setOptions:r},a){const s=a.getInitResult();if(!s.initialized){s.initialized=!0;const{$initialEditorState:o}=s;if(a6(o))n.setEditorState(o,r);else if(typeof o=="function")n.update(()=>{o(n)},e);else if(o&&(typeof o=="string"||typeof o=="object")){const c=n.parseEditorState(o);n.setEditorState(c,r)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[us,si,ls,ss,cs]},j_=Symbol.for("@lexical/extension/LexicalBuilder");function A_(){}function iD(n){throw n}function Xc(n){return Array.isArray(n)?n:[n]}const mp="0.39.0+prod.esm";class Il{roots;extensionNameMap;outgoingConfigEdges;incomingEdges;conflicts;_sortedExtensionReps;PACKAGE_VERSION;constructor(e){this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=mp,this.roots=e;for(const r of e)this.addExtension(r)}static fromExtensions(e){const r=[Xc(rD)];for(const a of e)r.push(Xc(a));return new Il(r)}static maybeFromEditor(e){const r=e[j_];return r&&(r.PACKAGE_VERSION!==mp&&et(292,r.PACKAGE_VERSION,mp),r instanceof Il||et(293)),r}static fromEditor(e){const r=Il.maybeFromEditor(e);return r===void 0&&et(294),r}constructEditor(){const{$initialEditorState:e,onError:r,...a}=this.buildCreateEditorArgs(),s=Object.assign(lC({...a,...r?{onError:o=>{r(o,s)}}:{}}),{[j_]:this});for(const o of this.sortedExtensionReps())o.build(s);return s}buildEditor(){let e=A_;function r(){try{e()}finally{e=A_}}const a=Object.assign(this.constructEditor(),{dispose:r,[Symbol.dispose]:r});return e=nr(this.registerEditor(a),()=>a.setRootElement(null)),a}hasExtensionByName(e){return this.extensionNameMap.has(e)}getExtensionRep(e){const r=this.extensionNameMap.get(e.name);if(r)return r.extension!==e&&et(295,e.name),r}addEdge(e,r,a){const s=this.outgoingConfigEdges.get(e);s?s.set(r,a):this.outgoingConfigEdges.set(e,new Map([[r,a]]));const o=this.incomingEdges.get(r);o?o.add(e):this.incomingEdges.set(r,new Set([e]))}addExtension(e){this._sortedExtensionReps!==void 0&&et(296);const r=Xc(e),[a]=r;typeof a.name!="string"&&et(297,typeof a.name);let s=this.extensionNameMap.get(a.name);if(s!==void 0&&s.extension!==a&&et(298,a.name),!s){s=new tD(this,a),this.extensionNameMap.set(a.name,s);const o=this.conflicts.get(a.name);typeof o=="string"&&et(299,a.name,o);for(const c of a.conflictsWith||[])this.extensionNameMap.has(c)&&et(299,a.name,c),this.conflicts.set(c,a.name);for(const c of a.dependencies||[]){const f=Xc(c);this.addEdge(a.name,f[0].name,f.slice(1)),this.addExtension(f)}for(const[c,f]of a.peerDependencies||[])this.addEdge(a.name,c,f?[f]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;const e=[],r=(a,s)=>{let o=a.state;if(FC(o))return;const c=a.extension.name;var f;pp(o)||et(300,c,s||"[unknown]"),pp(f=o)||et(304,String(f.id),String(zm)),o=Object.assign(f,{id:p0}),a.state=o;const h=this.outgoingConfigEdges.get(c);if(h)for(const g of h.keys()){const m=this.extensionNameMap.get(g);m&&r(m,c)}o=W6(o),a.state=o,e.push(a)};for(const a of this.extensionNameMap.values())pp(a.state)&&r(a);for(const a of e)for(const[s,o]of this.outgoingConfigEdges.get(a.extension.name)||[])if(o.length>0){const c=this.extensionNameMap.get(s);if(c)for(const f of o)c.configs.add(f)}for(const[a,...s]of this.roots)if(s.length>0){const o=this.extensionNameMap.get(a.name);o===void 0&&et(301,a.name);for(const c of s)o.configs.add(c)}return this._sortedExtensionReps=e,this._sortedExtensionReps}registerEditor(e){const r=this.sortedExtensionReps(),a=new AbortController,s=[()=>a.abort()],o=a.signal;for(const c of r){const f=c.register(e,o);f&&s.push(f)}for(const c of r){const f=c.afterRegistration(e);f&&s.push(f)}return nr(...s)}buildCreateEditorArgs(){const e={},r=new Set,a=new Map,s=new Map,o={},c={},f=this.sortedExtensionReps();for(const m of f){const{extension:p}=m;if(p.onError!==void 0&&(e.onError=p.onError),p.disableEvents!==void 0&&(e.disableEvents=p.disableEvents),p.parentEditor!==void 0&&(e.parentEditor=p.parentEditor),p.editable!==void 0&&(e.editable=p.editable),p.namespace!==void 0&&(e.namespace=p.namespace),p.$initialEditorState!==void 0&&(e.$initialEditorState=p.$initialEditorState),p.nodes)for(const v of J6(p)){if(typeof v!="function"){const _=a.get(v.replace);_&&et(302,p.name,v.replace.name,_.extension.name),a.set(v.replace,m)}r.add(v)}if(p.html){if(p.html.export)for(const[v,_]of p.html.export.entries())s.set(v,_);p.html.import&&Object.assign(o,p.html.import)}p.theme&&HC(c,p.theme)}Object.keys(c).length>0&&(e.theme=c),r.size&&(e.nodes=[...r]);const h=Object.keys(o).length>0,g=s.size>0;(h||g)&&(e.html={},h&&(e.html.import=o),g&&(e.html.export=s));for(const m of f)m.init(e);return e.onError||(e.onError=iD),e}}function aD(n,e){const r=Il.fromEditor(n).extensionNameMap.get(e);return r?r.getExtensionDependency():void 0}const lD={name:"@lexical/react/ReactProvider"};function sD(){return ot().getTextContent()}function oD(n,e=!0){if(n)return!1;let r=sD();return e&&(r=r.trim()),r===""}function uD(n){if(!oD(n,!1))return!1;const e=ot().getChildren(),r=e.length;if(r>1)return!1;for(let a=0;a<r;a++){const s=e[a];if(Fe(s))return!1;if(re(s)){if(!gm(s)||s.__indent!==0)return!1;const o=s.getChildren(),c=o.length;for(let f=0;f<c;f++){const h=o[a];if(!me(h))return!1}}}return!0}function qC(n){return()=>uD(n)}function cD(n){const e=window.location.origin,r=a=>{if(a.origin!==e)return;const s=n.getRootElement();if(document.activeElement!==s)return;const o=a.data;if(typeof o=="string"){let c;try{c=JSON.parse(o)}catch{return}if(c&&c.protocol==="nuanria_messaging"&&c.type==="request"){const f=c.payload;if(f&&f.functionId==="makeChanges"){const h=f.args;if(h){const[g,m,p,v,_]=h;n.update(()=>{const w=he();if(oe(w)){const N=w.anchor;let C=N.getNode(),S=0,E=0;if(me(C)&&g>=0&&m>=0&&(S=g,E=g+m,w.setTextNodeRange(C,S,C,E)),S===E&&p===""||(w.insertRawText(p),C=N.getNode()),me(C)){S=v,E=v+_;const T=C.getTextContentSize();S=S>T?T:S,E=E>T?T:E,w.setTextNodeRange(C,S,C,E)}a.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",r,!0),()=>{window.removeEventListener("message",r,!0)}}function Rm(n,e){const r=cC(e)?e.body.childNodes:e.childNodes;let a=[];const s=[];for(const o of r)if(!KC.has(o.nodeName)){const c=IC(o,n,s,!1);c!==null&&(a=a.concat(c))}return(function(o){for(const c of o)c.getNextSibling()instanceof hm&&c.insertAfter(Ra());for(const c of o){const f=c.getChildren();for(const h of f)c.insertBefore(h);c.remove()}})(s),a}function _d(n,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const r=document.createElement("div"),a=ot().getChildren();for(let s=0;s<a.length;s++)GC(n,a[s],r,e);return r.innerHTML}function GC(n,e,r,a=null){let s=a===null||e.isSelected(a);const o=re(e)&&e.excludeFromCopy("html");let c=e;a!==null&&me(e)&&(c=AC(a,e,"clone"));const f=re(c)?c.getChildren():[],h=mm(n,c.getType());let g;g=h&&h.exportDOM!==void 0?h.exportDOM(n,c):c.exportDOM(n);const{element:m,after:p}=g;if(!m)return!1;const v=document.createDocumentFragment();for(let _=0;_<f.length;_++){const w=f[_],N=GC(n,w,v,a);!s&&re(e)&&N&&e.extractWithChild(w,a,"html")&&(s=!0)}if(s&&!o){if((jt(m)||c0(m))&&m.append(v),r.append(m),p){const _=p.call(c,m);_&&(c0(m)?m.replaceChildren(_):m.replaceWith(_))}}else r.append(v);return s}const KC=new Set(["STYLE","SCRIPT"]);function IC(n,e,r,a,s=new Map,o){let c=[];if(KC.has(n.nodeName))return c;let f=null;const h=(function(w,N){const{nodeName:C}=w,S=N._htmlConversions.get(C.toLowerCase());let E=null;if(S!==void 0)for(const T of S){const j=T(w);j!==null&&(E===null||(E.priority||0)<=(j.priority||0))&&(E=j)}return E!==null?E.conversion:null})(n,e),g=h?h(n):null;let m=null;if(g!==null){m=g.after;const w=g.node;if(f=Array.isArray(w)?w[w.length-1]:w,f!==null){for(const[,N]of s)if(f=N(f,o),!f)break;f&&c.push(...Array.isArray(w)?w:[f])}g.forChild!=null&&s.set(n.nodeName,g.forChild)}const p=n.childNodes;let v=[];const _=(f==null||!an(f))&&(f!=null&&a0(f)||a);for(let w=0;w<p.length;w++)v.push(...IC(p[w],e,r,_,new Map(s),f));return m!=null&&(v=m(v)),Bf(n)&&(v=fD(n,v,_?()=>{const w=new hm;return r.push(w),w}:dt)),f==null?v.length>0?c=c.concat(v):Bf(n)&&(function(w){return w.nextSibling==null||w.previousSibling==null?!1:f0(w.nextSibling)&&f0(w.previousSibling)})(n)&&(c=c.concat(Ra())):re(f)&&f.append(...v),c}function fD(n,e,r){const a=n.style.textAlign,s=[];let o=[];for(let c=0;c<e.length;c++){const f=e[c];if(a0(f))a&&!f.getFormat()&&f.setFormat(a),s.push(f);else if(o.push(f),c===e.length-1||c<e.length-1&&a0(e[c+1])){const h=r();h.setFormat(a),h.append(...o),s.push(h),o=[]}}return s}function Hf(n,...e){const r=new URL("https://lexical.dev/docs/error"),a=new URLSearchParams;a.append("code",n);for(const s of e)a.append("v",s);throw r.search=a.toString(),Error(`Minified Lexical error #${n}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function dD(n,e=he()){return e==null&&Hf(166),oe(e)&&e.isCollapsed()||e.getNodes().length===0?"":_d(n,e)}function hD(n,e=he()){return e==null&&Hf(166),oe(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(gD(n,e))}function M_(n,e,r){const a=n.getData("application/x-lexical-editor");if(a)try{const f=JSON.parse(a);if(f.namespace===r._config.namespace&&Array.isArray(f.nodes))return D_(r,pD(f.nodes),e)}catch(f){console.error(f)}const s=n.getData("text/html"),o=n.getData("text/plain");if(s&&o!==s)try{const f=new DOMParser().parseFromString((function(h){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:g=>g}).createHTML(h):h})(s),"text/html");return D_(r,Rm(r,f),e)}catch(f){console.error(f)}const c=o||n.getData("text/uri-list");if(c!=null)if(oe(e)){const f=c.split(/(\r?\n|\t)/);f[f.length-1]===""&&f.pop();for(let h=0;h<f.length;h++){const g=he();if(oe(g)){const m=f[h];m===`
`||m===`\r
`?g.insertParagraph():m==="	"?g.insertNodes([fu()]):g.insertText(m)}}}else e.insertRawText(c)}function D_(n,e,r){n.dispatchCommand(NM,{nodes:e,selection:r})||(r.insertNodes(e),(function(a){if(oe(a)&&a.isCollapsed()){const s=a.anchor;let o=null;const c=ii(s,"previous");if(c)if(Fi(c))o=c.origin;else{const f=Ii(c,tr(ot(),"next").getFlipped());for(const h of f){if(me(h.origin)){o=h.origin;break}if(re(h.origin)&&!h.origin.isInline())break}}if(o&&me(o)){const f=o.getFormat(),h=o.getStyle();a.format===f&&a.style===h||(a.format=f,a.style=h,a.dirty=!0)}}})(r))}function YC(n,e,r,a=[]){let s=e===null||r.isSelected(e);const o=re(r)&&r.excludeFromCopy("html");let c=r;e!==null&&me(c)&&(c=AC(e,c,"clone"));const f=re(c)?c.getChildren():[],h=(function(g){const m=g.exportJSON(),p=g.constructor;if(m.type!==p.getType()&&Hf(58,p.name),re(g)){const v=m.children;Array.isArray(v)||Hf(59,p.name)}return m})(c);me(c)&&c.getTextContentSize()===0&&(s=!1);for(let g=0;g<f.length;g++){const m=f[g],p=YC(n,e,m,h.children);!s&&re(r)&&p&&r.extractWithChild(m,e,"clone")&&(s=!0)}if(s&&!o)a.push(h);else if(Array.isArray(h.children))for(let g=0;g<h.children.length;g++){const m=h.children[g];a.push(m)}return s}function gD(n,e){const r=[],a=ot().getChildren();for(let s=0;s<a.length;s++)YC(n,e,a[s],r);return{namespace:n._config.namespace,nodes:r}}function pD(n){const e=[];for(let r=0;r<n.length;r++){const a=n[r],s=i6(a);me(s)&&H6(s),e.push(s)}return e}let Ol=null;async function O_(n,e,r){if(Ol!==null)return!1;if(e!==null)return new Promise((g,m)=>{n.update(()=>{g(z_(n,e,r))})});const a=n.getRootElement(),s=n._window||window,o=s.document,c=Pn(s);if(a===null||c===null)return!1;const f=o.createElement("span");f.style.cssText="position: fixed; top: -1000px;",f.append(o.createTextNode("#")),a.append(f);const h=new Range;return h.setStart(f,0),h.setEnd(f,1),c.removeAllRanges(),c.addRange(h),new Promise((g,m)=>{const p=n.registerCommand(dd,v=>(wa(v,ClipboardEvent)&&(p(),Ol!==null&&(s.clearTimeout(Ol),Ol=null),g(z_(n,v,r))),!0),s6);Ol=s.setTimeout(()=>{p(),Ol=null,g(!1)},50),o.execCommand("copy"),f.remove()})}function z_(n,e,r){if(r===void 0){const s=Pn(n._window),o=he();if(!o||o.isCollapsed()||!s)return!1;const c=s.anchorNode,f=s.focusNode;if(c!==null&&f!==null&&!gu(n,c,f))return!1;r=mD(o)}e.preventDefault();const a=e.clipboardData;return a!==null&&(yD(a,r),!0)}const VC=[["text/html",dD],["application/x-lexical-editor",hD]];function mD(n=he()){const e={"text/plain":n?n.getTextContent():""};if(n){const r=Cm();for(const[a,s]of VC){const o=s(r,n);o!==null&&(e[a]=o)}}return e}function yD(n,e){for(const[r]of VC)e[r]===void 0&&n.setData(r,"");for(const r in e){const a=e[r];a!==void 0&&n.setData(r,a)}}function R_(n,e){if(document.caretRangeFromPoint!==void 0){const r=document.caretRangeFromPoint(n,e);return r===null?null:{node:r.startContainer,offset:r.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const r=document.caretPositionFromPoint(n,e);return r===null?null:{node:r.offsetNode,offset:r.offset}}return null}const Ka=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,xD=Ka&&"documentMode"in document?document.documentMode:null,vD=Ka&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),bD=!(!Ka||!("InputEvent"in window)||xD)&&"getTargetRanges"in new window.InputEvent("input"),_D=Ka&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),L_=Ka&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,wD=Ka&&/^(?=.*Chrome).*/i.test(navigator.userAgent),SD=Ka&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&vD&&!wD,$_=we("DRAG_DROP_PASTE_FILE");class wd extends er{static getType(){return"quote"}static clone(e){return new wd(e.__key)}createDOM(e){const r=document.createElement("blockquote");return vd(r,e.theme.quote),r}updateDOM(e,r){return!1}static importDOM(){return{blockquote:e=>({conversion:CD,priority:0})}}exportDOM(e){const{element:r}=super.exportDOM(e);if(jt(r)){this.isEmpty()&&r.append(document.createElement("br"));const a=this.getFormatType();a&&(r.style.textAlign=a);const s=this.getDirection();s&&(r.dir=s)}return{element:r}}static importJSON(e){return Lm().updateFromJSON(e)}insertNewAfter(e,r){const a=dt(),s=this.getDirection();return a.setDirection(s),this.insertAfter(a,r),a}collapseAtStart(){const e=dt();return this.getChildren().forEach(r=>e.append(r)),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function Lm(){return Xi(new wd)}class Sd extends er{__tag;static getType(){return"heading"}static clone(e){return new Sd(e.__tag,e.__key)}constructor(e,r){super(r),this.__tag=e}getTag(){return this.__tag}setTag(e){const r=this.getWritable();return this.__tag=e,r}createDOM(e){const r=this.__tag,a=document.createElement(r),s=e.theme.heading;if(s!==void 0){const o=s[r];vd(a,o)}return a}updateDOM(e,r,a){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:zl,priority:0}),h2:e=>({conversion:zl,priority:0}),h3:e=>({conversion:zl,priority:0}),h4:e=>({conversion:zl,priority:0}),h5:e=>({conversion:zl,priority:0}),h6:e=>({conversion:zl,priority:0}),p:e=>{const r=e.firstChild;return r!==null&&U_(r)?{conversion:()=>({node:null}),priority:3}:null},span:e=>U_(e)?{conversion:r=>({node:Sa("h1")}),priority:3}:null}}exportDOM(e){const{element:r}=super.exportDOM(e);if(jt(r)){this.isEmpty()&&r.append(document.createElement("br"));const a=this.getFormatType();a&&(r.style.textAlign=a);const s=this.getDirection();s&&(r.dir=s)}return{element:r}}static importJSON(e){return Sa(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,r=!0){const a=e?e.anchor.offset:0,s=this.getLastDescendant(),o=!s||e&&e.anchor.key===s.getKey()&&a===s.getTextContentSize()||!e?dt():Sa(this.getTag()),c=this.getDirection();if(o.setDirection(c),this.insertAfter(o,r),a===0&&!this.isEmpty()&&e){const f=dt();f.select(),this.replace(f,!0)}return o}collapseAtStart(){const e=this.isEmpty()?dt():Sa(this.getTag());return this.getChildren().forEach(r=>e.append(r)),this.replace(e),!0}extractWithChild(){return!0}}function U_(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function zl(n){const e=n.nodeName.toLowerCase();let r=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(r=Sa(e),n.style!==null&&(Nm(n,r),r.setFormat(n.style.textAlign))),{node:r}}function CD(n){const e=Lm();return n.style!==null&&(e.setFormat(n.style.textAlign),Nm(n,e)),{node:e}}function Sa(n="h1"){return Xi(new Sd(n))}function Qc(n){let e=null;if(wa(n,DragEvent)?e=n.dataTransfer:wa(n,ClipboardEvent)&&(e=n.clipboardData),e===null)return[!1,[],!1];const r=e.types,a=r.includes("Files"),s=r.includes("text/html")||r.includes("text/plain");return[a,Array.from(e.files),s]}function B_(n){const e=he();if(!oe(e))return!1;const r=new Set,a=e.getNodes();for(let s=0;s<a.length;s++){const o=a[s],c=o.getKey();if(r.has(c))continue;const f=Jn(o,g=>re(g)&&!g.isInline());if(f===null)continue;const h=f.getKey();f.canIndent()&&!r.has(h)&&(r.add(h),n(f))}return r.size>0}function H_(n){const e=Jl(n);return Fe(e)}function yp(n){for(const e of["lowercase","uppercase","capitalize"])n.hasFormat(e)&&n.toggleFormat(e)}function ND(n){return nr(n.registerCommand(_S,e=>{const r=he();return!!xn(r)&&(r.clear(),!0)},je),n.registerCommand(Na,e=>{const r=he();return oe(r)?(r.deleteCharacter(e),!0):!!xn(r)&&(r.deleteNodes(),!0)},je),n.registerCommand(Ko,e=>{const r=he();return!!oe(r)&&(r.deleteWord(e),!0)},je),n.registerCommand(Io,e=>{const r=he();return!!oe(r)&&(r.deleteLine(e),!0)},je),n.registerCommand(Fl,e=>{const r=he();if(typeof e=="string")r!==null&&r.insertText(e);else{if(r===null)return!1;const a=e.dataTransfer;if(a!=null)M_(a,r,n);else if(oe(r)){const s=e.data;return s&&r.insertText(s),!0}}return!0},je),n.registerCommand(Vp,()=>{const e=he();return!!oe(e)&&(e.removeText(),!0)},je),n.registerCommand(Vn,e=>{const r=he();return!!oe(r)&&(r.formatText(e),!0)},je),n.registerCommand(wo,e=>{const r=he();if(!oe(r)&&!xn(r))return!1;const a=r.getNodes();for(const s of a){const o=Jn(s,c=>re(c)&&!c.isInline());o!==null&&o.setFormat(e)}return!0},je),n.registerCommand(Pl,e=>{const r=he();return!!oe(r)&&(r.insertLineBreak(e),!0)},je),n.registerCommand(Go,()=>{const e=he();return!!oe(e)&&(e.insertParagraph(),!0)},je),n.registerCommand(TM,()=>(cm([fu()]),!0),je),n.registerCommand(jM,()=>B_(e=>{const r=e.getIndent();e.setIndent(r+1)}),je),n.registerCommand(Hb,()=>B_(e=>{const r=e.getIndent();r>0&&e.setIndent(Math.max(0,r-1))}),je),n.registerCommand(nm,e=>{const r=he();if(xn(r)){const a=r.getNodes();if(a.length>0)return e.preventDefault(),a[0].selectPrevious(),!0}else if(oe(r)){const a=s0(r.focus,!0);if(!e.shiftKey&&Fe(a)&&!a.isIsolated()&&!a.isInline())return a.selectPrevious(),e.preventDefault(),!0}return!1},je),n.registerCommand(rm,e=>{const r=he();if(xn(r)){const a=r.getNodes();if(a.length>0)return e.preventDefault(),a[0].selectNext(0,0),!0}else if(oe(r)){if((function(s){const o=s.focus;return o.key==="root"&&o.offset===ot().getChildrenSize()})(r))return e.preventDefault(),!0;const a=s0(r.focus,!1);if(!e.shiftKey&&Fe(a)&&!a.isIsolated()&&!a.isInline())return a.selectNext(),e.preventDefault(),!0}return!1},je),n.registerCommand(TS,e=>{const r=he();if(xn(r)){const a=r.getNodes();if(a.length>0)return e.preventDefault(),w_(a[0])?a[0].selectNext(0,0):a[0].selectPrevious(),!0}if(!oe(r))return!1;if(S_(r,!0)){const a=e.shiftKey;return e.preventDefault(),C_(r,a,!0),!0}return!1},je),n.registerCommand(ES,e=>{const r=he();if(xn(r)){const s=r.getNodes();if(s.length>0)return e.preventDefault(),w_(s[0])?s[0].selectPrevious():s[0].selectNext(0,0),!0}if(!oe(r))return!1;const a=e.shiftKey;return!!S_(r,!1)&&(e.preventDefault(),C_(r,a,!1),!0)},je),n.registerCommand(AS,e=>{if(H_(e.target))return!1;const r=he();if(oe(r)){if((function(a){if(!a.isCollapsed())return!1;const{anchor:s}=a;if(s.offset!==0)return!1;const o=s.getNode();if(vt(o))return!1;const c=I6(o);return c.getIndent()>0&&(c.is(o)||o.is(c.getFirstDescendant()))})(r))return e.preventDefault(),n.dispatchCommand(Hb,void 0);if(L_&&navigator.language==="ko-KR")return!1}else if(!xn(r))return!1;return e.preventDefault(),n.dispatchCommand(Na,!0)},je),n.registerCommand(MS,e=>{if(H_(e.target))return!1;const r=he();return!(!oe(r)&&!xn(r))&&(e.preventDefault(),n.dispatchCommand(Na,!1))},je),n.registerCommand(Yo,e=>{const r=he();if(!oe(r))return!1;if(yp(r),e!==null){if((L_||_D||SD)&&bD)return!1;if(e.preventDefault(),e.shiftKey)return n.dispatchCommand(Pl,!1)}return n.dispatchCommand(Go,void 0)},je),n.registerCommand(im,()=>{const e=he();return!!oe(e)&&(n.blur(),!0)},je),n.registerCommand(DS,e=>{const[,r]=Qc(e);if(r.length>0){const s=R_(e.clientX,e.clientY);if(s!==null){const{offset:o,node:c}=s,f=Jl(c);if(f!==null){const h=om();if(me(f))h.anchor.set(f.getKey(),o,"text"),h.focus.set(f.getKey(),o,"text");else{const m=f.getParentOrThrow().getKey(),p=f.getIndexWithinParent()+1;h.anchor.set(m,p,"element"),h.focus.set(m,p,"element")}const g=Ef(h);Kt(g)}n.dispatchCommand($_,r)}return e.preventDefault(),!0}const a=he();return!!oe(a)},je),n.registerCommand(OS,e=>{const[r]=Qc(e),a=he();return!(r&&!oe(a))},je),n.registerCommand(zS,e=>{const[r]=Qc(e),a=he();if(r&&!oe(a))return!1;const s=R_(e.clientX,e.clientY);if(s!==null){const o=Jl(s.node);Fe(o)&&e.preventDefault()}return!0},je),n.registerCommand(Xp,()=>(h6(),!0),je),n.registerCommand(dd,e=>(O_(n,wa(e,ClipboardEvent)?e:null),!0),je),n.registerCommand(lm,e=>((async function(r,a){await O_(a,wa(r,ClipboardEvent)?r:null),a.update(()=>{const s=he();oe(s)?s.removeText():xn(s)&&s.getNodes().forEach(o=>o.remove())})})(e,n),!0),je),n.registerCommand(tm,e=>{const[,r,a]=Qc(e);return r.length>0&&!a?(n.dispatchCommand($_,r),!0):fs(e.target)&&ym(e.target)?!1:he()!==null&&((function(s,o){s.preventDefault(),o.update(()=>{const c=he(),f=wa(s,InputEvent)||wa(s,KeyboardEvent)?null:s.clipboardData;f!=null&&c!==null&&M_(f,c,o)},{tag:FM})})(e,n),!0)},je),n.registerCommand(jS,e=>{const r=he();return oe(r)&&yp(r),!1},je),n.registerCommand(am,e=>{const r=he();return oe(r)&&yp(r),!1},je))}function kD(n,...e){const r=new URL("https://lexical.dev/docs/error"),a=new URLSearchParams;a.append("code",n);for(const s of e)a.append("v",s);throw r.search=a.toString(),Error(`Minified Lexical error #${n}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const $m=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?D.useLayoutEffect:D.useEffect;function ED({editor:n,ErrorBoundary:e}){return(function(r,a){const[s,o]=D.useState(()=>r.getDecorators());return $m(()=>r.registerDecoratorListener(c=>{Xl.flushSync(()=>{o(c)})}),[r]),D.useEffect(()=>{o(r.getDecorators())},[r]),D.useMemo(()=>{const c=[],f=Object.keys(s);for(let h=0;h<f.length;h++){const g=f[h],m=x.jsx(a,{onError:v=>r._onError(v),children:x.jsx(D.Suspense,{fallback:null,children:s[g]})}),p=r.getElementByKey(g);p!==null&&c.push(Xl.createPortal(m,p,g))}return c},[a,s,r])})(n,e)}function TD({editor:n,ErrorBoundary:e}){return(function(r){const a=Il.maybeFromEditor(r);if(a&&a.hasExtensionByName(lD.name)){for(const s of["@lexical/plain-text","@lexical/rich-text"])a.hasExtensionByName(s)&&kD(320,s);return!0}return!1})(n)?null:x.jsx(ED,{editor:n,ErrorBoundary:e})}function P_(n){return n.getEditorState().read(qC(n.isComposing()))}function jD({contentEditable:n,placeholder:e=null,ErrorBoundary:r}){const[a]=Ct();return(function(s){$m(()=>nr(ND(s),cD(s)),[s])})(a),x.jsxs(x.Fragment,{children:[n,x.jsx(AD,{content:e}),x.jsx(TD,{editor:a,ErrorBoundary:r})]})}function AD({content:n}){const[e]=Ct(),r=(function(s){const[o,c]=D.useState(()=>P_(s));return $m(()=>{function f(){const h=P_(s);c(h)}return f(),nr(s.registerUpdateListener(()=>{f()}),s.registerEditableListener(()=>{f()}))},[s]),o})(e),a=B6();return r?typeof n=="function"?n(a):n:null}const XC=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?D.useLayoutEffect:D.useEffect;function MD({editor:n,ariaActiveDescendant:e,ariaAutoComplete:r,ariaControls:a,ariaDescribedBy:s,ariaErrorMessage:o,ariaExpanded:c,ariaInvalid:f,ariaLabel:h,ariaLabelledBy:g,ariaMultiline:m,ariaOwns:p,ariaRequired:v,autoCapitalize:_,className:w,id:N,role:C="textbox",spellCheck:S=!0,style:E,tabIndex:T,"data-testid":j,...M},O){const[A,R]=D.useState(n.isEditable()),$=D.useCallback(I=>{I&&I.ownerDocument&&I.ownerDocument.defaultView?n.setRootElement(I):n.setRootElement(null)},[n]),H=D.useMemo(()=>(function(...I){return F=>{for(const Q of I)typeof Q=="function"?Q(F):Q!=null&&(Q.current=F)}})(O,$),[$,O]);return XC(()=>(R(n.isEditable()),n.registerEditableListener(I=>{R(I)})),[n]),x.jsx("div",{"aria-activedescendant":A?e:void 0,"aria-autocomplete":A?r:"none","aria-controls":A?a:void 0,"aria-describedby":s,...o!=null?{"aria-errormessage":o}:{},"aria-expanded":A&&C==="combobox"?!!c:void 0,...f!=null?{"aria-invalid":f}:{},"aria-label":h,"aria-labelledby":g,"aria-multiline":m,"aria-owns":A?p:void 0,"aria-readonly":!A||void 0,"aria-required":v,autoCapitalize:_,className:w,contentEditable:A,"data-testid":j,id:N,ref:H,role:C,spellCheck:S,style:E,tabIndex:T,...M})}const DD=D.forwardRef(MD);function F_(n){return n.getEditorState().read(qC(n.isComposing()))}const OD=D.forwardRef(zD);function zD(n,e){const{placeholder:r,...a}=n,[s]=Ct();return x.jsxs(x.Fragment,{children:[x.jsx(DD,{editor:s,...a,ref:e}),r!=null&&x.jsx(RD,{editor:s,content:r})]})}function RD({content:n,editor:e}){const r=(function(c){const[f,h]=D.useState(()=>F_(c));return XC(()=>{function g(){const m=F_(c);h(m)}return g(),nr(c.registerUpdateListener(()=>{g()}),c.registerEditableListener(()=>{g()}))},[c]),f})(e),[a,s]=D.useState(e.isEditable());if(D.useLayoutEffect(()=>(s(e.isEditable()),e.registerEditableListener(c=>{s(c)})),[e]),!r)return null;let o=null;return typeof n=="function"?o=n(a):n!==null&&(o=n),o===null?null:x.jsx("div",{"aria-hidden":!0,children:o})}function LD(n,e,r,a,s){if(n===null||r.size===0&&a.size===0&&!s)return 0;const o=e._selection,c=n._selection;if(s)return 1;if(!(oe(o)&&oe(c)&&c.isCollapsed()&&o.isCollapsed()))return 0;const f=(function(S,E,T){const j=S._nodeMap,M=[];for(const O of E){const A=j.get(O);A!==void 0&&M.push(A)}for(const[O,A]of T){if(!A)continue;const R=j.get(O);R===void 0||vt(R)||M.push(R)}return M})(e,r,a);if(f.length===0)return 0;if(f.length>1){const S=e._nodeMap,E=S.get(o.anchor.key),T=S.get(c.anchor.key);return E&&T&&!n._nodeMap.has(E.__key)&&me(E)&&E.__text.length===1&&o.anchor.offset===1?2:0}const h=f[0],g=n._nodeMap.get(h.__key);if(!me(g)||!me(h)||g.__mode!==h.__mode)return 0;const m=g.__text,p=h.__text;if(m===p)return 0;const v=o.anchor,_=c.anchor;if(v.key!==_.key||v.type!=="text")return 0;const w=v.offset,N=_.offset,C=p.length-m.length;return C===1&&N===w-1?2:C===-1&&N===w+1?3:C===-1&&N===w?4:0}function $D(n,e){let r=Date.now(),a=0;return(s,o,c,f,h,g)=>{const m=Date.now();if(g.has(r0))return a=0,r=m,2;const p=LD(s,o,f,h,n.isComposing()),v=(()=>{const _=c===null||c.editor===n,w=g.has(PM);if(!w&&_&&g.has(ka))return 0;if(s===null)return 1;const N=o._selection;if(!(f.size>0||h.size>0))return N!==null?0:2;const C=typeof e=="number"?e:e.peek();return w===!1&&p!==0&&p===a&&m<r+C&&_||f.size===1&&(function(S,E,T){const j=E._nodeMap.get(S),M=T._nodeMap.get(S),O=E._selection,A=T._selection;return!(oe(O)&&oe(A)&&O.anchor.type==="element"&&O.focus.type==="element"&&A.anchor.type==="text"&&A.focus.type==="text"||!me(j)||!me(M)||j.__parent!==M.__parent)&&JSON.stringify(E.read(()=>j.exportJSON()))===JSON.stringify(T.read(()=>M.exportJSON()))})(Array.from(f)[0],s,o)?0:1})();return r=m,a=p,v}}function q_(n){n.undoStack=[],n.redoStack=[],n.current=null}function QC(n,e,r){const a=$D(n,r);return nr(n.registerCommand(cd,()=>((function(o,c){const f=c.redoStack,h=c.undoStack;if(h.length!==0){const g=c.current,m=h.pop();g!==null&&(f.push(g),o.dispatchCommand(So,!0)),h.length===0&&o.dispatchCommand(Co,!1),c.current=m||null,m&&m.editor.setEditorState(m.editorState,{tag:r0})}})(n,e),!0),je),n.registerCommand(fd,()=>((function(o,c){const f=c.redoStack,h=c.undoStack;if(f.length!==0){const g=c.current;g!==null&&(h.push(g),o.dispatchCommand(Co,!0));const m=f.pop();f.length===0&&o.dispatchCommand(So,!1),c.current=m||null,m&&m.editor.setEditorState(m.editorState,{tag:r0})}})(n,e),!0),je),n.registerCommand(MM,()=>(q_(e),!1),je),n.registerCommand(RS,()=>(q_(e),n.dispatchCommand(So,!1),n.dispatchCommand(Co,!1),!0),je),n.registerUpdateListener(({editorState:o,prevEditorState:c,dirtyLeaves:f,dirtyElements:h,tags:g})=>{const m=e.current,p=e.redoStack,v=e.undoStack,_=m===null?null:m.editorState;if(m!==null&&o===_)return;const w=a(c,o,m,f,h,g);if(w===1)p.length!==0&&(e.redoStack=[],n.dispatchCommand(So,!1)),m!==null&&(v.push({...m}),n.dispatchCommand(Co,!0));else if(w===2)return;e.current={editor:n,editorState:o}}))}function ZC(){return{current:null,redoStack:[],undoStack:[]}}const xp={build:(n,{delay:e,createInitialHistoryState:r,disabled:a})=>Z6({delay:e,disabled:a,historyState:r(n)}),config:{createInitialHistoryState:ZC,delay:300,disabled:typeof window>"u"},name:"@lexical/history/History",register:(n,e,r)=>{const a=r.getOutput();return Om(()=>a.disabled.value?void 0:QC(n,a.historyState.value,a.delay))}};O6(xp,{createInitialHistoryState:()=>{throw new Error("SharedHistory did not inherit parent history")},disabled:!0});function UD({delay:n,externalHistoryState:e}){const[r]=Ct();return(function(a,s,o=1e3){const c=D.useMemo(()=>s||ZC(),[s]);D.useEffect(()=>QC(a,c,o),[o,a,c])})(r,e,n),null}function BD({defaultSelection:n}){const[e]=Ct();return D.useEffect(()=>{e.focus(()=>{const r=document.activeElement,a=e.getRootElement();a===null||r!==null&&a.contains(r)||a.focus({preventScroll:!0})},{defaultSelection:n})},[n,e]),null}const HD=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?D.useLayoutEffect:D.useEffect;function JC({ignoreHistoryMergeTagChange:n=!0,ignoreSelectionChange:e=!1,onChange:r}){const[a]=Ct();return HD(()=>{if(r)return a.registerUpdateListener(({editorState:s,dirtyElements:o,dirtyLeaves:c,prevEditorState:f,tags:h})=>{e&&o.size===0&&c.size===0||n&&h.has(ka)||f.isEmpty()||r(s,a,h)})},[a,n,e,r]),null}function Hi(n,...e){const r=new URL("https://lexical.dev/docs/error"),a=new URLSearchParams;a.append("code",n);for(const s of e)a.append("v",s);throw r.search=a.toString(),Error(`Minified Lexical error #${n}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function m0(n){let e=1,r=n.getParent();for(;r!=null;){if(Ke(r)){const a=r.getParent();if(Ae(a)){e++,r=a.getParent();continue}Hi(40)}return e}return e}function y0(n){let e=n.getParent();Ae(e)||Hi(40);let r=e;for(;r!==null;)r=r.getParent(),Ae(r)&&(e=r);return e}function WC(n){let e=[];const r=n.getChildren().filter(Ke);for(let a=0;a<r.length;a++){const s=r[a],o=s.getFirstChild();Ae(o)?e=e.concat(WC(o)):e.push(s)}return e}function dr(n){return Ke(n)&&Ae(n.getFirstChild())}function G_(n){return Un().append(n)}function eN(n,e){return Ke(n)&&(e.length===0||e.length===1&&n.is(e[0])&&n.getChildrenSize()===0)}function K_(n){const e=he();if(e!==null){let r=e.getNodes();if(oe(e)){const s=e.getStartEndPoints();s===null&&Hi(143);const[o]=s,c=o.getNode(),f=c.getParent();if(an(c)){const h=c.getFirstChild();if(h)r=h.selectStart().getNodes();else{const g=dt();c.append(g),r=g.select().getNodes()}}else if(eN(c,r)){const h=vn(n);if(an(f)){c.replace(h);const g=Un();re(c)&&(g.setFormat(c.getFormatType()),g.setIndent(c.getIndent())),h.append(g)}else if(Ke(c)){const g=c.getParentOrThrow();Pa(h,g.getChildren()),g.replace(h)}return}}const a=new Set;for(let s=0;s<r.length;s++){const o=r[s];if(re(o)&&o.isEmpty()&&!Ke(o)&&!a.has(o.getKey())){I_(o,n);continue}let c=fC(o)?o.getParent():Ke(o)&&o.isEmpty()?o:null;for(;c!=null;){const f=c.getKey();if(Ae(c)){if(!a.has(f)){const h=vn(n);Pa(h,c.getChildren()),c.replace(h),a.add(f)}break}{const h=c.getParent();if(an(h)&&!a.has(f)){a.add(f),I_(c,n);break}c=h}}}}}function Pa(n,e){n.splice(n.getChildrenSize(),0,e)}function I_(n,e){if(Ae(n))return n;const r=n.getPreviousSibling(),a=n.getNextSibling(),s=Un();let o;if(Pa(s,n.getChildren()),Ae(r)&&e===r.getListType())r.append(s),Ae(a)&&e===a.getListType()&&(Pa(r,a.getChildren()),a.remove()),o=r;else if(Ae(a)&&e===a.getListType())a.getFirstChildOrThrow().insertBefore(s),o=a;else{const c=vn(e);c.append(s),n.replace(c),o=c}return s.setFormat(n.getFormatType()),s.setIndent(n.getIndent()),n.remove(),o}function Um(n,e){const r=n.getLastChild(),a=e.getFirstChild();r&&a&&dr(r)&&dr(a)&&(Um(r.getFirstChild(),a.getFirstChild()),a.remove());const s=e.getChildren();s.length>0&&n.append(...s),e.remove()}function PD(){const n=he();if(oe(n)){const e=new Set,r=n.getNodes(),a=n.anchor.getNode();if(eN(a,r))e.add(y0(a));else for(let s=0;s<r.length;s++){const o=r[s];if(fC(o)){const c=K6(o,hs);c!=null&&e.add(y0(c))}}for(const s of e){let o=s;const c=WC(s);for(const f of c){const h=dt().setTextStyle(n.style).setTextFormat(n.format);Pa(h,f.getChildren()),o.insertAfter(h),o=h,f.__key===n.anchor.key&&Ha(n.anchor,$n(tr(h,"next"))),f.__key===n.focus.key&&Ha(n.focus,$n(tr(h,"next"))),f.remove()}s.remove()}}}function tN(n){const e=n.getListType()!=="check";let r=n.getStart();for(const a of n.getChildren())Ke(a)&&(a.getValue()!==r&&a.setValue(r),e&&a.getLatest().__checked!=null&&a.setChecked(void 0),Ae(a.getFirstChild())||r++)}function FD(n){const e=new Set;if(dr(n)||e.has(n.getKey()))return;const r=n.getParent(),a=n.getNextSibling(),s=n.getPreviousSibling();if(dr(a)&&dr(s)){const o=s.getFirstChild();if(Ae(o)){o.append(n);const c=a.getFirstChild();Ae(c)&&(Pa(o,c.getChildren()),a.remove(),e.add(a.getKey()))}}else if(dr(a)){const o=a.getFirstChild();if(Ae(o)){const c=o.getFirstChild();c!==null&&c.insertBefore(n)}}else if(dr(s)){const o=s.getFirstChild();Ae(o)&&o.append(n)}else if(Ae(r)){const o=Un().setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle()),c=vn(r.getListType()).setTextFormat(r.getTextFormat()).setTextStyle(r.getTextStyle());o.append(c),c.append(n),s?s.insertAfter(o):a?a.insertBefore(o):r.append(o)}}function qD(n){if(dr(n))return;const e=n.getParent(),r=e?e.getParent():void 0;if(Ae(r?r.getParent():void 0)&&Ke(r)&&Ae(e)){const a=e?e.getFirstChild():void 0,s=e?e.getLastChild():void 0;if(n.is(a))r.insertBefore(n),e.isEmpty()&&r.remove();else if(n.is(s))r.insertAfter(n),e.isEmpty()&&r.remove();else{const o=e.getListType(),c=Un(),f=vn(o);c.append(f),n.getPreviousSiblings().forEach(m=>f.append(m));const h=Un(),g=vn(o);h.append(g),Pa(g,n.getNextSiblings()),r.insertBefore(c),r.insertAfter(h),r.replace(n)}}}function GD(){const n=he();if(!oe(n)||!n.isCollapsed())return!1;const e=n.anchor.getNode();if(!Ke(e)||e.getChildrenSize()!==0)return!1;const r=y0(e),a=e.getParent();Ae(a)||Hi(40);const s=a.getParent();let o;if(an(s))o=dt(),r.insertAfter(o);else{if(!Ke(s))return!1;o=Un(),s.insertAfter(o)}o.setTextStyle(n.style).setTextFormat(n.format).select();const c=e.getNextSiblings();if(c.length>0){const f=vn(a.getListType());if(Ke(o)){const h=Un();h.append(f),o.insertAfter(h)}else o.insertAfter(f);f.append(...c)}return(function(f){let h=f;for(;h.getNextSibling()==null&&h.getPreviousSibling()==null;){const g=h.getParent();if(g==null||!Ke(g)&&!Ae(g))break;h=g}h.remove()})(e),!0}function Pf(...n){const e=[];for(const r of n)if(r&&typeof r=="string")for(const[a]of r.matchAll(/\S+/g))e.push(a);return e}class hs extends er{__value;__checked;$config(){return this.config("listitem",{$transform:e=>{if(e.__checked==null)return;const r=e.getParent();Ae(r)&&r.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)},extends:er,importDOM:{li:()=>({conversion:KD,priority:0})}})}constructor(e=1,r=void 0,a){super(a),this.__value=e===void 0?1:e,this.__checked=r}afterCloneFrom(e){super.afterCloneFrom(e),this.__value=e.__value,this.__checked=e.__checked}createDOM(e){const r=document.createElement("li");return this.updateListItemDOM(null,r,e),r}updateListItemDOM(e,r,a){(function(c,f,h){const g=f.getParent();!Ae(g)||g.getListType()!=="check"||Ae(f.getFirstChild())?(c.removeAttribute("role"),c.removeAttribute("tabIndex"),c.removeAttribute("aria-checked")):(c.setAttribute("role","checkbox"),c.setAttribute("tabIndex","-1"),h&&f.__checked===h.__checked||c.setAttribute("aria-checked",f.getChecked()?"true":"false"))})(r,this,e),r.value=this.__value,(function(c,f,h){const g=[],m=[],p=f.list,v=p?p.listitem:void 0;let _;if(p&&p.nested&&(_=p.nested.listitem),v!==void 0&&g.push(...Pf(v)),p){const w=h.getParent(),N=Ae(w)&&w.getListType()==="check",C=h.getChecked();N&&!C||m.push(p.listitemUnchecked),N&&C||m.push(p.listitemChecked),N&&g.push(C?p.listitemChecked:p.listitemUnchecked)}if(_!==void 0){const w=Pf(_);h.getChildren().some(N=>Ae(N))?g.push(...w):m.push(...w)}m.length>0&&LC(c,...m),g.length>0&&vd(c,...g)})(r,a.theme,this);const s=e?e.__style:"",o=this.__style;s!==o&&(o===""?r.removeAttribute("style"):r.style.cssText=o),(function(c,f,h){const g=__(f.__textStyle);for(const m in g)c.style.setProperty(`--listitem-marker-${m}`,g[m]);if(h)for(const m in __(h.__textStyle))m in g||c.style.removeProperty(`--listitem-marker-${m}`)})(r,this,e)}updateDOM(e,r,a){const s=r;return this.updateListItemDOM(e,s,a),!1}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const r=this.createDOM(e._config),a=this.getFormatType();a&&(r.style.textAlign=a);const s=this.getDirection();return s&&(r.dir=s),{element:r}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let r=0;r<e.length;r++){const a=e[r];if(re(a)&&this.canMergeWith(a)){const s=a.getChildren();this.append(...s),a.remove()}else super.append(a)}return this}replace(e,r){if(Ke(e))return super.replace(e);this.setIndent(0);const a=this.getParentOrThrow();if(!Ae(a))return e;if(a.__first===this.getKey())a.insertBefore(e);else if(a.__last===this.getKey())a.insertAfter(e);else{const s=vn(a.getListType());let o=this.getNextSibling();for(;o;){const c=o;o=o.getNextSibling(),s.append(c)}a.insertAfter(e),e.insertAfter(s)}return r&&(re(e)||Hi(139),this.getChildren().forEach(s=>{e.append(s)})),this.remove(),a.getChildrenSize()===0&&a.remove(),e}insertAfter(e,r=!0){const a=this.getParentOrThrow();if(Ae(a)||Hi(39),Ke(e))return super.insertAfter(e,r);const s=this.getNextSiblings();if(a.insertAfter(e,r),s.length!==0){const o=vn(a.getListType());s.forEach(c=>o.append(c)),e.insertAfter(o,r)}return e}remove(e){const r=this.getPreviousSibling(),a=this.getNextSibling();super.remove(e),r&&a&&dr(r)&&dr(a)&&(Um(r.getFirstChild(),a.getFirstChild()),a.remove())}insertNewAfter(e,r=!0){const a=Un().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(a,r),a}collapseAtStart(e){const r=dt();this.getChildren().forEach(c=>r.append(c));const a=this.getParentOrThrow(),s=a.getParentOrThrow(),o=Ke(s);if(a.getChildrenSize()===1)if(o)a.remove(),s.select();else{a.insertBefore(r),a.remove();const c=e.anchor,f=e.focus,h=r.getKey();c.type==="element"&&c.getNode().is(this)&&c.set(h,c.offset,"element"),f.type==="element"&&f.getNode().is(this)&&f.set(h,f.offset,"element")}else a.insertBefore(r),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const r=this.getWritable();return r.__value=e,r}getChecked(){const e=this.getLatest();let r;const a=this.getParent();return Ae(a)&&(r=a.getListType()),r==="check"?!!e.__checked:void 0}setChecked(e){const r=this.getWritable();return r.__checked=e,r}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(e===null||!this.isAttached())return this.getLatest().__indent;let r=e.getParentOrThrow(),a=0;for(;Ke(r);)r=r.getParentOrThrow().getParentOrThrow(),a++;return a}setIndent(e){typeof e!="number"&&Hi(117),(e=Math.floor(e))>=0||Hi(199);let r=this.getIndent();for(;r!==e;)r<e?(FD(this),r++):(qD(this),r--);return this}canInsertAfter(e){return Ke(e)}canReplaceWith(e){return Ke(e)}canMergeWith(e){return Ke(e)||gm(e)}extractWithChild(e,r){if(!oe(r))return!1;const a=r.anchor.getNode(),s=r.focus.getNode();return this.isParentOf(a)&&this.isParentOf(s)&&this.getTextContent().length===r.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return vn("bullet")}canMergeWhenEmpty(){return!0}}function KD(n){if(n.classList.contains("task-list-item")){for(const r of n.children)if(r.tagName==="INPUT")return Y_(r)}if(n.classList.contains("joplin-checkbox")){for(const r of n.children)if(r.classList.contains("checkbox-wrapper")&&r.children.length>0&&r.children[0].tagName==="INPUT")return Y_(r.children[0])}const e=n.getAttribute("aria-checked");return{node:Un(e==="true"||e!=="false"&&void 0)}}function Y_(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:Un(n.hasAttribute("checked"))}}function Un(n){return Xi(new hs(void 0,n))}function Ke(n){return n instanceof hs}class mu extends er{__tag;__start;__listType;$config(){return this.config("list",{$transform:e=>{(function(r){const a=r.getNextSibling();Ae(a)&&r.getListType()===a.getListType()&&Um(r,a)})(e),tN(e)},extends:er,importDOM:{ol:()=>({conversion:X_,priority:0}),ul:()=>({conversion:X_,priority:0})}})}constructor(e="number",r=1,a){super(a);const s=YD[e]||e;this.__listType=s,this.__tag=s==="number"?"ol":"ul",this.__start=r}afterCloneFrom(e){super.afterCloneFrom(e),this.__listType=e.__listType,this.__tag=e.__tag,this.__start=e.__start}getTag(){return this.getLatest().__tag}setListType(e){const r=this.getWritable();return r.__listType=e,r.__tag=e==="number"?"ol":"ul",r}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(e){const r=this.getWritable();return r.__start=e,r}createDOM(e,r){const a=this.__tag,s=document.createElement(a);return this.__start!==1&&s.setAttribute("start",String(this.__start)),s.__lexicalListType=this.__listType,V_(s,e.theme,this),s}updateDOM(e,r,a){return e.__tag!==this.__tag||e.__listType!==this.__listType||(V_(r,a.theme,this),!1)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const r=this.createDOM(e._config,e);return jt(r)&&(this.__start!==1&&r.setAttribute("start",String(this.__start)),this.__listType==="check"&&r.setAttribute("__lexicalListType","check")),{element:r}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,r,a){let s=a;for(let o=0;o<a.length;o++){const c=a[o];Ke(c)||(s===a&&(s=[...a]),s[o]=Un().append(!re(c)||Ae(c)||c.isInline()?c:ft(c.getTextContent())))}return super.splice(e,r,s)}extractWithChild(e){return Ke(e)}}function V_(n,e,r){const a=[],s=[],o=e.list;if(o!==void 0){const c=o[`${r.__tag}Depth`]||[],f=m0(r)-1,h=f%c.length,g=c[h],m=o[r.__tag];let p;const v=o.nested,_=o.checklist;if(v!==void 0&&v.list&&(p=v.list),m!==void 0&&a.push(m),_!==void 0&&r.__listType==="check"&&a.push(_),g!==void 0){a.push(...Pf(g));for(let w=0;w<c.length;w++)w!==h&&s.push(r.__tag+w)}if(p!==void 0){const w=Pf(p);f>1?a.push(...w):s.push(...w)}}s.length>0&&LC(n,...s),a.length>0&&vd(n,...a)}function ID(n){const e=[];for(let r=0;r<n.length;r++){const a=n[r];if(Ke(a)){e.push(a);const s=a.getChildren();s.length>1&&s.forEach(o=>{Ae(o)&&e.push(G_(o))})}else e.push(G_(a))}return e}function X_(n){const e=n.nodeName.toLowerCase();let r=null;return e==="ol"?r=vn("number",n.start):e==="ul"&&(r=(function(a){if(a.getAttribute("__lexicallisttype")==="check"||a.classList.contains("contains-task-list")||a.getAttribute("data-is-checklist")==="1")return!0;for(const s of a.childNodes)if(jt(s)&&s.hasAttribute("aria-checked"))return!0;return!1})(n)?vn("check"):vn("bullet")),{after:ID,node:r}}const YD={ol:"number",ul:"bullet"};function vn(n="number",e=1){return Xi(new mu(n,e))}function Ae(n){return n instanceof mu}const VD=we("UPDATE_LIST_START_COMMAND"),nN=we("INSERT_UNORDERED_LIST_COMMAND"),rN=we("INSERT_ORDERED_LIST_COMMAND"),XD=we("REMOVE_LIST_COMMAND");function QD(n){return nr(n.registerCommand(rN,()=>(K_("number"),!0),ba),n.registerCommand(VD,e=>{const{listNodeKey:r,newStart:a}=e,s=wt(r);return!!Ae(s)&&(s.getListType()==="number"&&(s.setStart(a),tN(s)),!0)},ba),n.registerCommand(nN,()=>(K_("bullet"),!0),ba),n.registerCommand(XD,()=>(PD(),!0),ba),n.registerCommand(Go,()=>GD(),ba),n.registerNodeTransform(hs,e=>{const r=e.getFirstChild();if(r){if(me(r)){const a=r.getStyle(),s=r.getFormat();e.getTextStyle()!==a&&e.setTextStyle(a),e.getTextFormat()!==s&&e.setTextFormat(s)}}else{const a=he();oe(a)&&(a.style!==e.getTextStyle()||a.format!==e.getTextFormat())&&a.isCollapsed()&&e.is(a.anchor.getNode())&&e.setTextStyle(a.style).setTextFormat(a.format)}}),n.registerNodeTransform(si,e=>{const r=e.getParent();if(Ke(r)&&e.is(r.getFirstChild())){const a=e.getStyle(),s=e.getFormat();a===r.getTextStyle()&&s===r.getTextFormat()||r.setTextStyle(a).setTextFormat(s)}}))}function ZD(n){const e=r=>{const a=r.getParent();if(Ae(r.getFirstChild())||!Ae(a))return;const s=Jn(r,o=>Ke(o)&&Ae(o.getParent())&&Ke(o.getPreviousSibling()));if(s===null&&r.getIndent()>0)r.setIndent(0);else if(Ke(s)){const o=s.getPreviousSibling();if(Ke(o)){const c=(function(h){let g=h,m=g.getFirstChild();for(;Ae(m);){const p=m.getLastChild();if(!Ke(p))break;g=p,m=g.getFirstChild()}return g})(o),f=c.getParent();if(Ae(f)){const h=m0(f);h+1<m0(a)&&r.setIndent(h)}}}};return n.registerNodeTransform(mu,r=>{const a=[r];for(;a.length>0;){const s=a.shift();if(Ae(s)){for(const o of s.getChildren())if(Ke(o)){e(o);const c=o.getFirstChild();Ae(c)&&a.push(c)}}}})}function JD({hasStrictIndent:n=!1}){const[e]=Ct();return D.useEffect(()=>{if(!e.hasNodes([mu,hs]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[e]),D.useEffect(()=>{if(n)return ZD(e)},[e,n]),(function(r){D.useEffect(()=>QD(r),[r])})(e),null}const WD=D.createContext(null),vp={didCatch:!1,error:null};class eO extends D.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=vp}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var r,a,s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];(r=(a=this.props).onReset)===null||r===void 0||r.call(a,{args:o,reason:"imperative-api"}),this.setState(vp)}}componentDidCatch(e,r){var a,s;(a=(s=this.props).onError)===null||a===void 0||a.call(s,e,r)}componentDidUpdate(e,r){const{didCatch:a}=this.state,{resetKeys:s}=this.props;if(a&&r.error!==null&&tO(e.resetKeys,s)){var o,c;(o=(c=this.props).onReset)===null||o===void 0||o.call(c,{next:s,prev:e.resetKeys,reason:"keys"}),this.setState(vp)}}render(){const{children:e,fallbackRender:r,FallbackComponent:a,fallback:s}=this.props,{didCatch:o,error:c}=this.state;let f=e;if(o){const h={error:c,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")f=r(h);else if(a)f=D.createElement(a,h);else if(s!==void 0)f=s;else throw c}return D.createElement(WD.Provider,{value:{didCatch:o,error:c,resetErrorBoundary:this.resetErrorBoundary}},f)}}function tO(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==e.length||n.some((r,a)=>!Object.is(r,e[a]))}function nO({children:n,onError:e}){return x.jsx(eO,{fallback:x.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:n})}const Q_="startTransition",x0=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,rO=x0?D.useLayoutEffect:D.useEffect;class iO{key;ref;constructor(e){this.key=e,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(e){this.ref={current:e}}}const Z_=n=>{const e=document.getElementById("typeahead-menu");if(!e)return;const r=e.getBoundingClientRect();r.top+r.height>window.innerHeight&&e.scrollIntoView({block:"center"}),r.top<0&&e.scrollIntoView({block:"center"}),n.scrollIntoView({block:"nearest"})};function J_(n,e){const r=n.getBoundingClientRect(),a=e.getBoundingClientRect();return r.top>=a.top-6&&r.top<=a.bottom+6}function aO(n,e,r,a){const[s]=Ct();D.useEffect(()=>{if(e!=null&&n!=null){const o=s.getRootElement(),c=o!=null?(function(p){let v=getComputedStyle(p);const _=v.position==="absolute",w=/(auto|scroll)/;if(v.position==="fixed")return document.body;for(let N=p;N=N.parentElement;)if(v=getComputedStyle(N),(!_||v.position!=="static")&&w.test(v.overflow+v.overflowY+v.overflowX))return N;return document.body})(o):document.body;let f=!1,h=J_(e,c);const g=function(){f||(window.requestAnimationFrame(function(){r(),f=!1}),f=!0);const p=J_(e,c);p!==h&&(h=p,a?.(p))},m=new ResizeObserver(r);return window.addEventListener("resize",r),document.addEventListener("scroll",g,{capture:!0,passive:!0}),m.observe(e),()=>{m.unobserve(e),window.removeEventListener("resize",r),document.removeEventListener("scroll",g,!0)}}},[e,s,a,r,n])}const W_=we("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function lO({close:n,editor:e,anchorElementRef:r,resolution:a,options:s,menuRenderFn:o,onSelectOption:c,shouldSplitNodeWithQuery:f=!1,commandPriority:h=ba,preselectFirstItem:g=!0}){const[m,p]=D.useState(null),v=m!==null?Math.min(s.length-1,m):null,_=a.match&&a.match.matchingString;D.useEffect(()=>{g&&p(0)},[_,g]);const w=D.useCallback(C=>{e.update(()=>{const S=a.match!=null&&f?(function(E){const T=he();if(!oe(T)||!T.isCollapsed())return null;const j=T.anchor;if(j.type!=="text")return null;const M=j.getNode();if(!M.isSimpleText())return null;const O=j.offset,A=M.getTextContent().slice(0,O),R=E.replaceableString.length,$=O-(function(I,F,Q){let B=Q;for(let te=B;te<=F.length;te++)I.slice(-te)===F.substring(0,te)&&(B=te);return B})(A,E.matchingString,R);if($<0)return null;let H;return $===0?[H]=M.splitText(O):[,H]=M.splitText($,O),H})(a.match):null;c(C,S,n,a.match?a.match.matchingString:"")})},[e,f,a.match,c,n]),N=D.useCallback(C=>{const S=e.getRootElement();S!==null&&(S.setAttribute("aria-activedescendant","typeahead-item-"+C),p(C))},[e]);return D.useEffect(()=>()=>{const C=e.getRootElement();C!==null&&C.removeAttribute("aria-activedescendant")},[e]),rO(()=>{s===null?p(null):v===null&&g&&N(0)},[s,v,N,g]),D.useEffect(()=>nr(e.registerCommand(W_,({option:C})=>!(!C.ref||C.ref.current==null)&&(Z_(C.ref.current),!0),h)),[e,N,h]),D.useEffect(()=>nr(e.registerCommand(rm,C=>{const S=C;if(s!==null&&s.length){const E=v===null?0:v!==s.length-1?v+1:0;N(E);const T=s[E];if(!T)return N(-1),S.preventDefault(),S.stopImmediatePropagation(),!0;T.ref&&T.ref.current&&e.dispatchCommand(W_,{index:E,option:T}),S.preventDefault(),S.stopImmediatePropagation()}return!0},h),e.registerCommand(nm,C=>{const S=C;if(s!==null&&s.length){const E=v===null?s.length-1:v!==0?v-1:s.length-1;N(E);const T=s[E];if(!T)return N(-1),S.preventDefault(),S.stopImmediatePropagation(),!0;T.ref&&T.ref.current&&Z_(T.ref.current),S.preventDefault(),S.stopImmediatePropagation()}return!0},h),e.registerCommand(im,C=>{const S=C;return S.preventDefault(),S.stopImmediatePropagation(),n(),!0},h),e.registerCommand(am,C=>{const S=C;return s!==null&&v!==null&&s[v]!=null&&(S.preventDefault(),S.stopImmediatePropagation(),w(s[v]),!0)},h),e.registerCommand(Yo,C=>s!==null&&v!==null&&s[v]!=null&&(C!==null&&(C.preventDefault(),C.stopImmediatePropagation()),w(s[v]),!0),h)),[w,n,e,s,v,N,h]),o(r,D.useMemo(()=>({options:s,selectOptionAndCleanUp:w,selectedIndex:v,setHighlightedIndex:p}),[w,v,s]),a.match?a.match.matchingString:"")}function e2(n,e){e!=null&&(n.className=e),n.setAttribute("aria-label","Typeahead menu"),n.setAttribute("role","listbox"),n.style.display="block",n.style.position="absolute"}const sO=`\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'"~=<>_:;`;function oO(n,{minLength:e=1,maxLength:r=75,punctuation:a=sO,allowWhitespace:s=!1}){return D.useCallback(o=>{const c=new RegExp("(^|\\s|\\()(["+n+"]((?:"+("[^"+n+a+(s?"":"\\s")+"]")+"){0,"+r+"}))$").exec(o);if(c!==null){const f=c[1],h=c[3];if(h.length>=e)return{leadOffset:c.index+f.length,matchingString:h,replaceableString:c[2]}}return null},[s,n,a,r,e])}function uO({options:n,onQueryChange:e,onSelectOption:r,onOpen:a,onClose:s,menuRenderFn:o,triggerFn:c,anchorClassName:f,commandPriority:h=ba,parent:g,preselectFirstItem:m=!0,ignoreEntityBoundary:p=!1}){const[v]=Ct(),[_,w]=D.useState(null),N=(function(E,T,j,M=x0?document.body:void 0,O=!0){const[A]=Ct(),R=x0?document.createElement("div"):null,$=D.useRef(R),H=D.useCallback(()=>{if($.current===null||M===void 0)return;$.current.style.top=$.current.style.bottom;const F=A.getRootElement(),Q=$.current,B=Q.firstChild;if(F!==null&&E!==null){const{left:te,top:L,width:Y,height:se}=E.getRect(),ce=$.current.offsetHeight;if(Q.style.top=`${L+ce+3+(O?window.pageYOffset:0)}px`,Q.style.left=`${te+window.pageXOffset}px`,Q.style.height=`${se}px`,Q.style.width=`${Y}px`,B!==null){B.style.top=`${L}`;const ge=B.getBoundingClientRect(),U=ge.height,Z=ge.width,W=F.getBoundingClientRect();te+Z>W.right&&(Q.style.left=`${W.right-Z+window.pageXOffset}px`),(L+U>window.innerHeight||L+U>W.bottom)&&L-W.top>U+se&&(Q.style.top=`${L-U-se+(O?window.pageYOffset:0)}px`)}Q.isConnected||(e2(Q,j),M.append(Q)),Q.setAttribute("id","typeahead-menu"),F.setAttribute("aria-controls","typeahead-menu")}},[A,E,O,j,M]);D.useEffect(()=>{const F=A.getRootElement();return E!==null&&H(),()=>{F!==null&&F.removeAttribute("aria-controls");const Q=$.current;Q!==null&&Q.isConnected&&(Q.remove(),Q.removeAttribute("id"))}},[A,H,E]);const I=D.useCallback(F=>{E!==null&&(F||T(null))},[E,T]);return aO(E,$.current,H,I),R!=null&&R===$.current&&(e2(R,j),M?.append(R)),$})(_,w,f,g),C=D.useCallback(()=>{w(null),s!=null&&_!==null&&s()},[s,_]),S=D.useCallback(E=>{w(E),a!=null&&_===null&&a(E)},[a,_]);return D.useEffect(()=>{const E=v.registerUpdateListener(()=>{v.getEditorState().read(()=>{if(!v.isEditable())return void C();if(v.isComposing())return;const T=v._window||window,j=T.document.createRange(),M=he(),O=(function($){let H=null;return $.getEditorState().read(()=>{const I=he();oe(I)&&(H=(function(F){const Q=F.anchor;if(Q.type!=="text")return null;const B=Q.getNode();if(!B.isSimpleText())return null;const te=Q.offset;return B.getTextContent().slice(0,te)})(I))}),H})(v);if(!oe(M)||!M.isCollapsed()||O===null||j===null)return void C();const A=c(O,v);if(e(A?A.matchingString:null),A!==null&&(p||!(function($,H){return H===0&&$.getEditorState().read(()=>{const I=he();if(oe(I)){const F=I.anchor.getNode().getPreviousSibling();return me(F)&&F.isTextEntity()}return!1})})(v,A.leadOffset))&&(function(H,I,F){const Q=Pn(F);if(Q===null||!Q.isCollapsed)return!1;const B=Q.anchorNode,te=H,L=Q.anchorOffset;if(B==null||L==null)return!1;try{I.setStart(B,te),I.setEnd(B,L)}catch{return!1}return!0})(A.leadOffset,j,T)!==null)return R=()=>S({getRect:()=>j.getBoundingClientRect(),match:A}),void(Q_ in $o?$o[Q_](R):R());var R;C()})});return()=>{E()}},[v,c,e,_,C,S,p]),D.useEffect(()=>v.registerEditableListener(E=>{E||C()}),[v,C]),_===null||v===null||N.current===null?null:x.jsx(lO,{close:C,resolution:_,editor:v,anchorElementRef:N,options:n,menuRenderFn:o,shouldSplitNodeWithQuery:!0,onSelectOption:r,commandPriority:h,preselectFirstItem:m})}class Zc extends iO{constructor(e,r){super(e),this.title=e,this.keywords=r.keywords||[],this.icon=r.icon,this.task=r.task,this.prompt=r.prompt}}const cO=[new Zc("Lanjutkan Tulisan",{icon:x.jsx(su,{size:14}),keywords:["continue","lanjut","next"],task:"continue",prompt:"Lanjutkan tulisan di atas dengan alur yang logis dan akademis."}),new Zc("Buat Paragraf Penjelas",{icon:x.jsx(J0,{size:14}),keywords:["paragraph","paragraf","explain"],task:"custom",prompt:"Buatkan paragraf penjelasan mendalam tentang kalimat terakhir."}),new Zc("Kritisi Argumen",{icon:x.jsx(Z0,{size:14}),keywords:["ciritic","kritik","saran"],task:"custom",prompt:"Berikan kritik akademis terhadap argumen di atas dan sarankan perbaikan."}),new Zc("Tambahkan Referensi",{icon:x.jsx(Vi,{size:14}),keywords:["ref","cite","sumber"],task:"custom",prompt:"Sarankan referensi atau teori yang relevan untuk mendukung pernyataan di atas."})];function fO({projectId:n,userStyle:e}){const[r]=Ct(),[a,s]=D.useState(null),o=oO("/",{minLength:0}),c=$o.useMemo(()=>cO.filter(g=>a?new RegExp(a,"i").test(g.title):!0),[a]),f=D.useCallback(async g=>{if(!n)return alert("Pilih proyek dulu!");r.update(()=>{he()});try{let m="";r.getEditorState().read(()=>{const w=he();oe(w)&&(m=w.anchor.getNode().getTextContent())});const p=await fetch("/api/writing-assistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:n,task:g.task,data:{topic:g.prompt,previous_content:m,style_profile:e},model:"fast"})});if(!p.ok)throw new Error("Gagal memanggil AI");const v=p.body.getReader(),_=new TextDecoder;for(r.update(()=>{const w=he();if(oe(w)){const N=dt();w.insertNodes([N]),N.select()}});;){const{done:w,value:N}=await v.read();if(w)break;const C=_.decode(N,{stream:!0});r.update(()=>{const S=he();oe(S)&&S.insertText(C)})}}catch(m){console.error("AI Error:",m),alert("Gagal menjalankan perintah AI.")}},[r,n,e]),h=D.useCallback((g,m,p)=>{r.update(()=>{m?.remove()}),p(),f(g)},[r,f]);return x.jsx(uO,{onQueryChange:s,onSelectOption:h,triggerFn:o,options:c,menuRenderFn:(g,{selectedIndex:m,selectOptionAndCleanUp:p,setHighlightedIndex:v})=>g.current&&c.length===0?null:g.current&&Xl.createPortal(x.jsxs("div",{className:"bg-[#1C1E24] border border-[#2C303B] rounded-xl shadow-2xl p-2 w-64 animate-in fade-in zoom-in-95 duration-100 z-50",children:[x.jsx("div",{className:"text-[10px] uppercase font-bold text-slate-500 px-2 py-1 mb-1 tracking-wider",children:"AI COMMANDS"}),x.jsx("ul",{className:"space-y-1",children:c.map((_,w)=>x.jsxs("li",{tabIndex:-1,className:`flex items-center gap-3 px-3 py-2 text-xs rounded-lg cursor-pointer transition-colors ${m===w?"bg-[#6C5DD3] text-white":"text-slate-300 hover:bg-[#252830]"}`,onClick:()=>{v(w),p(_)},onMouseEnter:()=>v(w),children:[x.jsx("span",{className:`${m===w?"text-white":"text-[#6C5DD3]"}`,children:_.icon}),x.jsx("span",{className:"font-medium",children:_.title})]},_.key))})]}),g.current)})}class Pi extends si{constructor(e,r,a){super(e,a),this.__reviewData=r}static getType(){return"review-highlight"}static clone(e){return new Pi(e.getTextContent(),e.__reviewData,e.__key)}createDOM(e){const r=super.createDOM(e),{type:a}=this.__reviewData;let s="cursor-pointer px-1 rounded mx-0.5 font-medium transition-all ";return a==="critical"?s+="bg-[#FF4D4D] text-white border-b-2 border-[#990000]":a==="citation"?s+="bg-[#3399FF] text-white border-b-2 border-[#0047b3]":s+="bg-[#FFCC00] text-black border-b-2 border-[#997a00]",r.className=s,r.dataset.review=JSON.stringify(this.__reviewData),r}updateDOM(e,r,a){return!1}exportJSON(){return{...super.exportJSON(),reviewData:this.__reviewData,type:"review-highlight",version:1}}static importJSON(e){const r=iN(e.text,e.reviewData);return r.setFormat(e.format),r.setDetail(e.detail),r.setMode(e.mode),r.setStyle(e.style),r}}function iN(n,e){return new Pi(n,e)}function dO({review:n,position:e,onAccept:r,onDismiss:a,onFindReference:s,onClose:o}){const c=D.useRef(null),[f,h]=D.useState(e),[g,m]=D.useState(!1),p=D.useRef({x:0,y:0});D.useEffect(()=>{if(e){let T=e.x,j=e.y+14;T+320>window.innerWidth&&(T=window.innerWidth-340),j+300>window.innerHeight&&(j=window.innerHeight-320),h({x:T,y:j})}},[e]);const v=T=>{m(!0),p.current={x:T.clientX-f.x,y:T.clientY-f.y},document.addEventListener("mousemove",_),document.addEventListener("mouseup",w)},_=T=>{h({x:T.clientX-p.current.x,y:T.clientY-p.current.y})},w=()=>{m(!1),document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",w)};if(!n||!f)return null;const C=(T=>{switch(T){case"critical":return{headerBg:"bg-red-600",borderColor:"border-red-500",icon:V0,label:"KRITIK FATAL"};case"citation":return{headerBg:"bg-blue-600",borderColor:"border-blue-500",icon:Vi,label:"BUTUH REFERENSI"};default:return{headerBg:"bg-yellow-500",borderColor:"border-yellow-400",icon:Jw,label:"SARAN PERBAIKAN"}}})(n.type),S=C.icon,E=n.type==="citation";return x.jsxs("div",{ref:c,className:`fixed z-50 w-[340px] bg-[#1a1a1a] rounded-xl shadow-[0_20px_60px_-10px_rgba(0,0,0,0.9)] flex flex-col font-sans overflow-hidden border-2 ${C.borderColor} animate-in fade-in zoom-in-95 duration-200`,style:{top:f.y,left:f.x},children:[x.jsxs("div",{onMouseDown:v,className:`${C.headerBg} flex justify-between items-center px-3 py-2 text-white cursor-grab active:cursor-grabbing select-none`,children:[x.jsxs("div",{className:"flex items-center gap-2 text-[11px] font-black uppercase tracking-widest",children:[x.jsx(S,{size:14,strokeWidth:3})," ",C.label]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(wj,{size:14,className:"opacity-50"}),x.jsx("button",{onClick:o,className:"text-white/70 hover:text-white",onMouseDown:T=>T.stopPropagation(),children:x.jsx(ou,{size:14,strokeWidth:3})})]})]}),x.jsxs("div",{className:"p-4 space-y-4",children:[x.jsx("div",{children:x.jsxs("p",{className:"text-white text-sm leading-relaxed font-medium",children:['"',n.feedback,'"']})}),!E&&n.fix&&x.jsxs("div",{className:"bg-black/40 rounded-lg border border-white/10 overflow-hidden",children:[x.jsxs("div",{className:"p-2 border-b border-white/5 bg-red-900/10",children:[x.jsx("span",{className:"text-[9px] text-red-400 font-bold block mb-1 uppercase",children:"TEKS SAAT INI:"}),x.jsxs("p",{className:"text-red-200/70 text-xs line-through decoration-red-500 decoration-2 italic",children:['"',n.target,'"']})]}),x.jsx("div",{className:"flex justify-center -my-2 relative z-10",children:x.jsx("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-full p-1 text-slate-400",children:x.jsx(k4,{size:12})})}),x.jsxs("div",{className:"p-2 bg-green-900/10",children:[x.jsx("span",{className:"text-[9px] text-green-400 font-bold block mb-1 uppercase",children:"REKOMENDASI:"}),x.jsxs("p",{className:"text-green-300 text-sm font-bold leading-relaxed",children:['"',n.fix,'"']})]})]}),E&&x.jsx("div",{className:"bg-blue-900/20 p-3 rounded border border-blue-500/30 text-blue-200 text-xs italic text-center",children:'"Klik tombol di bawah untuk mencari jurnal yang relevan dan menambahkannya otomatis."'}),x.jsxs("div",{className:"flex gap-2 pt-2 border-t border-white/10",children:[x.jsxs("button",{onClick:a,className:"flex-1 py-2 rounded bg-[#2a2a2a] hover:bg-[#333] text-gray-400 hover:text-white text-xs font-bold transition-colors flex items-center justify-center gap-1.5",children:[x.jsx($A,{size:12})," Abaikan"]}),E?x.jsxs("button",{onClick:s,className:"flex-[1.5] py-2 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold transition-all flex items-center justify-center gap-1.5 shadow-lg active:scale-95",children:[x.jsx(ld,{size:14,strokeWidth:3})," Cari Referensi"]}):x.jsxs("button",{onClick:r,className:"flex-[1.5] py-2 rounded bg-white text-black hover:bg-gray-200 text-xs font-bold transition-all flex items-center justify-center gap-1.5 shadow-lg active:scale-95",children:[x.jsx(Yw,{size:14,strokeWidth:3})," Terapkan Revisi"]})]})]})]})}function aN({isOpen:n,onClose:e,onReferenceAdded:r}){const[a,s]=D.useState("search"),[o,c]=D.useState(""),[f,h]=D.useState(""),[g,m]=D.useState(["crossref","doaj","openalex","semanticscholar","pubmed"]),[p,v]=D.useState([]),[_,w]=D.useState(!1),[N,C]=D.useState(!1),S=[{id:"crossref",label:"Crossref",color:"text-orange-400 border-orange-500/30 bg-orange-500/10"},{id:"doaj",label:"DOAJ",color:"text-emerald-400 border-emerald-500/30 bg-emerald-500/10"},{id:"openalex",label:"OpenAlex",color:"text-blue-400 border-blue-500/30 bg-blue-500/10"},{id:"semanticscholar",label:"Semantic",color:"text-indigo-400 border-indigo-500/30 bg-indigo-500/10"},{id:"pubmed",label:"PubMed",color:"text-cyan-400 border-cyan-500/30 bg-cyan-500/10"}],[E,T]=D.useState({title:"",author:"",year:"",journal:"",doi:""}),[j,M]=D.useState(!1),O=D.useRef(null);if(D.useEffect(()=>{},[n]),!n)return null;const A=async()=>{if(!o.trim())return;w(!0),C(!0),v([]);const F={query:o.trim(),sources:g.length>0?g:["crossref","doaj","openalex"],year:f?String(f):""};try{const B=await(await fetch("/api/unified-search-references",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).json();B.results&&Array.isArray(B.results)?v(B.results):v([])}catch(Q){console.error("Fetch Error:",Q)}finally{w(!1)}},R=F=>{m(Q=>Q.includes(F)?Q.filter(B=>B!==F):[...Q,F])},$=F=>{if(!F)return x.jsx("span",{className:"text-[9px] px-2 py-0.5 rounded border font-bold uppercase tracking-wider text-slate-400 border-slate-700 bg-slate-800",children:"UNKNOWN"});const Q=F.toString().toLowerCase(),B=S.find(L=>L.id===Q)||S.find(L=>L.label.toLowerCase()===Q),te=B?B.color:"text-slate-400 border-slate-700 bg-slate-800";return x.jsx("span",{className:`text-[9px] px-2 py-0.5 rounded border font-bold uppercase tracking-wider ${te}`,children:F})},H=()=>{if(!E.title)return alert("Judul wajib diisi.");r({...E,source:"Manual"}),alert("Disimpan!"),T({title:"",author:"",year:"",journal:"",doi:""})},I=async F=>{const Q=F.target.files[0];if(!Q)return;M(!0);const B=new FormData;B.append("document",Q);try{const L=await(await fetch("/api/extract-pdf-simple",{method:"POST",body:B})).json();if(L.status==="success"){const Y={title:Q.name.replace(".pdf",""),author:"Extracted PDF",year:new Date().getFullYear().toString(),source:"PDF Upload",abstract:(L.data.content||"").substring(0,200)+"..."};r(Y),alert("Berhasil!"),s("search")}else alert("Gagal proses PDF.")}catch{alert("Error upload.")}finally{M(!1)}};return x.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in zoom-in-95 duration-200",children:[x.jsxs("div",{className:"bg-[#131418] w-full max-w-5xl h-[90vh] rounded-3xl border border-[#2A2D36] shadow-2xl flex flex-col overflow-hidden font-sans selection:bg-[#6C5DD3]/30",children:[x.jsxs("div",{className:"px-6 py-4 border-b border-[#2A2D36] bg-[#181A20] flex justify-between items-center shrink-0",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#6C5DD3]/10 flex items-center justify-center border border-[#6C5DD3]/20",children:x.jsx(X0,{className:"text-[#6C5DD3]",size:16})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-sm font-bold text-white tracking-wide",children:"Research Knowledge Base"}),x.jsx("p",{className:"text-[10px] text-slate-500",children:"Pusat pencarian referensi akademik global"})]})]}),x.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-[#2A2D36] text-slate-400 hover:text-white transition-all",children:x.jsx(ou,{size:18})})]}),x.jsx("div",{className:"flex px-6 border-b border-[#2A2D36] bg-[#181A20] gap-8 shrink-0",children:[{id:"search",label:"Cari Online",icon:Sb},{id:"manual",label:"Input Manual",icon:Z0},{id:"upload",label:"Upload PDF",icon:Eb}].map(F=>x.jsxs("button",{onClick:()=>s(F.id),className:`flex items-center gap-2 py-4 text-[11px] font-bold uppercase tracking-wider border-b-[2px] transition-all ${a===F.id?"border-[#6C5DD3] text-[#6C5DD3]":"border-transparent text-slate-500 hover:text-slate-300"}`,children:[x.jsx(F.icon,{size:14,strokeWidth:2.5})," ",F.label]},F.id))}),x.jsxs("div",{className:"flex-1 overflow-hidden bg-[#0D0E12] relative",children:[a==="search"&&x.jsxs("div",{className:"h-full flex flex-col",children:[x.jsxs("div",{className:"p-6 border-b border-[#2A2D36] bg-[#131418] space-y-5 shrink-0",children:[x.jsxs("div",{className:"flex gap-3",children:[x.jsxs("div",{className:"relative flex-1 group",children:[x.jsx(ld,{className:"absolute left-4 top-3.5 text-slate-500 group-focus-within:text-[#6C5DD3] transition-colors",size:18}),x.jsx("input",{type:"text",className:"w-full bg-[#0D0E12] border border-[#2A2D36] rounded-xl pl-12 pr-4 py-3 text-sm text-white focus:border-[#6C5DD3] focus:ring-1 focus:ring-[#6C5DD3] outline-none placeholder:text-slate-600 transition-all shadow-inner",placeholder:"Masukkan topik riset, judul jurnal, atau DOI...",value:o,onChange:F=>c(F.target.value),onKeyDown:F=>F.key==="Enter"&&A(),autoFocus:!0})]}),x.jsx("button",{onClick:A,disabled:_,className:"px-8 bg-[#6C5DD3] hover:bg-[#5a4cb8] text-white rounded-xl text-xs font-bold uppercase tracking-widest transition-all flex items-center gap-2 disabled:opacity-50 shadow-lg shadow-[#6C5DD3]/20 hover:shadow-[#6C5DD3]/40 active:scale-95",children:_?x.jsx(Cf,{className:"animate-spin",size:16}):"Cari"})]}),x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("span",{className:"text-[10px] font-bold text-slate-500 uppercase flex items-center gap-1",children:[x.jsx(pj,{size:10})," Sumber:"]}),x.jsx("div",{className:"flex gap-2",children:S.map(F=>x.jsx("button",{onClick:()=>R(F.id),className:`px-2.5 py-1 rounded-[6px] text-[10px] font-bold border transition-all ${g.includes(F.id)?F.color:"bg-transparent text-slate-600 border-[#2A2D36] hover:border-slate-500"}`,children:F.label},F.id))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Tahun Min:"}),x.jsxs("select",{value:f,onChange:F=>h(F.target.value),className:"bg-[#0D0E12] border border-[#2A2D36] text-[11px] text-white rounded-lg px-3 py-1 outline-none cursor-pointer hover:border-[#6C5DD3] focus:border-[#6C5DD3]",children:[x.jsx("option",{value:"",children:"Semua Tahun"}),Array.from({length:20},(F,Q)=>new Date().getFullYear()-Q).map(F=>x.jsx("option",{value:F,children:F},F))]})]})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-4",children:_?x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 space-y-4",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"w-12 h-12 border-4 border-[#2A2D36] rounded-full"}),x.jsx("div",{className:"w-12 h-12 border-4 border-[#6C5DD3] border-t-transparent rounded-full animate-spin absolute top-0 left-0"})]}),x.jsx("p",{className:"text-xs font-mono tracking-widest text-[#6C5DD3]",children:"SEARCHING DATABASE..."})]}):p.length>0?p.map((F,Q)=>x.jsxs("div",{className:"group bg-[#181A20] border border-[#2A2D36] rounded-xl p-5 hover:border-[#6C5DD3] hover:shadow-[0_4px_20px_rgba(108,93,211,0.1)] transition-all duration-300 relative flex flex-col gap-3",style:{animation:"fadeIn 0.3s ease-out forwards",animationDelay:`${Q*50}ms`,opacity:0},children:[x.jsxs("div",{className:"flex justify-between items-start gap-4",children:[x.jsx("h4",{className:"text-[15px] font-semibold text-white leading-snug group-hover:text-[#6C5DD3] transition-colors line-clamp-2",children:F.title||"Dokumen Tanpa Judul"}),x.jsx("div",{className:"shrink-0 pt-0.5",children:$(F.source)})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-[11px] text-slate-400",children:[x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx(sd,{size:12,className:"text-[#6C5DD3]"}),x.jsx("span",{className:"font-medium text-slate-300",children:F.author||"Penulis Tidak Diketahui"})]}),x.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-600"}),x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx(Iw,{size:12,className:"text-slate-500"}),x.jsx("span",{className:"font-mono text-slate-300",children:F.year&&F.year!=="n.d."?F.year:"Tahun N/A"})]}),F.journal&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"w-1 h-1 rounded-full bg-slate-600"}),x.jsx("span",{className:"italic text-slate-500 truncate max-w-[200px]",children:F.journal})]})]}),x.jsx("div",{className:"mt-1",children:F.abstract&&F.abstract!=="None"&&F.abstract.length>10?x.jsx("p",{className:"text-[12px] text-slate-400 leading-relaxed line-clamp-3 pl-3 border-l-2 border-[#2A2D36] group-hover:border-[#6C5DD3]/50 transition-colors",children:F.abstract}):x.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-[#131418] border border-[#2A2D36] border-dashed",children:[x.jsx(cj,{size:14,className:"text-slate-600"}),x.jsx("span",{className:"text-[10px] text-slate-500 italic",children:"Preview abstrak tidak tersedia di database sumber."})]})}),x.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-[#2A2D36]/50 mt-1",children:[x.jsx("div",{className:"flex gap-2",children:F.doi&&x.jsxs("a",{href:`https://doi.org/${F.doi}`,target:"_blank",rel:"noreferrer",className:"flex items-center gap-1 text-[10px] text-slate-500 hover:text-[#6C5DD3] transition-colors",children:[x.jsx(lj,{size:10})," DOI: ",F.doi]})}),x.jsxs("button",{onClick:()=>r(F),className:"flex items-center gap-2 px-4 py-2 bg-[#2A2D36] hover:bg-[#6C5DD3] text-white rounded-lg text-[10px] font-bold uppercase tracking-wider transition-all shadow-md hover:shadow-lg active:scale-95",children:[x.jsx(nS,{size:12,strokeWidth:3})," Tambahkan"]})]})]},Q)):N?x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500",children:[x.jsx("div",{className:"bg-[#181A20] p-4 rounded-full mb-3 border border-[#2A2D36]",children:x.jsx(V0,{size:24,className:"text-slate-600"})}),x.jsxs("p",{className:"text-sm font-medium",children:['Tidak ditemukan hasil untuk "',o,'"']}),x.jsx("p",{className:"text-xs mt-1 text-slate-600",children:"Coba ubah kata kunci atau hilangkan filter tahun."})]}):x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-600 opacity-40",children:[x.jsx(Sb,{size:64,strokeWidth:1,className:"mb-4 text-[#2A2D36]"}),x.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Mulai eksplorasi referensi global."})]})})]}),a==="manual"&&x.jsx("div",{className:"p-10 max-w-2xl mx-auto h-full overflow-y-auto custom-scrollbar",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:["Judul Dokumen ",x.jsx("span",{className:"text-red-500",children:"*"})]}),x.jsx("input",{className:"w-full bg-[#131418] border border-[#2A2D36] rounded-xl p-4 text-sm text-white focus:border-[#6C5DD3] outline-none transition-all",placeholder:"Ketik judul lengkap...",value:E.title,onChange:F=>T({...E,title:F.target.value})})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"Penulis Utama"}),x.jsx("input",{className:"w-full bg-[#131418] border border-[#2A2D36] rounded-xl p-4 text-sm text-white focus:border-[#6C5DD3] outline-none",placeholder:"Nama Penulis",value:E.author,onChange:F=>T({...E,author:F.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider mb-2 block",children:"Tahun Terbit"}),x.jsx("input",{type:"number",className:"w-full bg-[#131418] border border-[#2A2D36] rounded-xl p-4 text-sm text-white focus:border-[#6C5DD3] outline-none",placeholder:"2024",value:E.year,onChange:F=>T({...E,year:F.target.value})})]})]}),x.jsx("button",{onClick:H,className:"w-full py-4 bg-[#6C5DD3] hover:bg-[#5a4cb8] text-white rounded-xl font-bold uppercase tracking-widest text-xs mt-8 transition-all shadow-lg hover:shadow-[#6C5DD3]/20",children:"Simpan ke Library"})]})}),a==="upload"&&x.jsx("div",{className:"h-full flex flex-col items-center justify-center p-10",children:x.jsxs("div",{onClick:()=>!j&&O.current.click(),className:`w-full max-w-lg h-80 border-2 border-dashed rounded-3xl flex flex-col items-center justify-center cursor-pointer transition-all duration-300 group ${j?"border-[#6C5DD3] bg-[#6C5DD3]/5":"border-[#2A2D36] hover:border-[#6C5DD3] hover:bg-[#181A20]"}`,children:[x.jsx("input",{type:"file",ref:O,className:"hidden",accept:"application/pdf",onChange:I,disabled:j}),j?x.jsx(Cf,{className:"w-16 h-16 text-[#6C5DD3] animate-spin mb-6"}):x.jsx("div",{className:"bg-[#131418] p-6 rounded-full border border-[#2A2D36] mb-6 group-hover:border-[#6C5DD3] group-hover:scale-110 transition-all",children:x.jsx(Eb,{className:"w-10 h-10 text-slate-500 group-hover:text-[#6C5DD3]"})}),x.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:j?"Analyzing PDF...":"Upload Jurnal PDF"}),x.jsx("p",{className:"text-xs text-slate-500",children:"Drag & drop atau klik untuk upload"})]})})]})]}),x.jsx("style",{children:`
                @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
            `})]})}const hO=we("SCAN_DOCUMENT_COMMAND"),gO=(n,e)=>{const r=D.useRef(null);return D.useCallback((...a)=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>n(...a),e)},[n,e])};function pO({projectId:n,projectContext:e}){const[r]=Ct(),[a,s]=D.useState(null),[o,c]=D.useState(null),[f,h]=D.useState(!1),[g,m]=D.useState(""),[p,v]=D.useState(!1);D.useEffect(()=>{const T=r.getRootElement();if(!T)return;const j=M=>{const O=M.target;if(O?.dataset?.review)try{const A=JSON.parse(O.dataset.review),R=O.getBoundingClientRect();s({...A,targetNodeKey:O.__lexicalKey_}),c({x:R.left,y:R.bottom+window.scrollY})}catch(A){console.error("Gagal parse review data",A)}else s(null)};return T.addEventListener("click",j),()=>T.removeEventListener("click",j)},[r]);const _=D.useCallback(async(T=!1)=>{T||s(null);let j="";if(r.getEditorState().read(()=>{j=ot().getTextContent()}),!(!j.trim()||j===g)&&!(j.length<50)){T||h(!0);try{const M=e?.methodology||"quantitative",A=await(await fetch("/api/check-method-compliance",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:j,method_mode:M})})).json();if(m(j),A.status==="success"&&Array.isArray(A.issues)){const R=A.issues.map($=>({target:$.target,type:"critical",issue:$.feedback,fix:$.fix}));R.length>0&&(N(R),T||alert(`Ditemukan ${R.length} isu metodologi.`))}}catch(M){console.error("Passive Scan Error:",M),T||alert("Gagal scan: "+M.message)}finally{T||h(!1)}}},[r,e,g]),w=gO(()=>{_(!0),console.log(" Passive Method Scan running...")},3e3);D.useEffect(()=>r.registerUpdateListener(({editorState:T,dirtyElements:j,dirtyLeaves:M})=>{(j.size>0||M.size>0)&&w()}),[r,w]);const N=T=>{r.update(()=>{Gc(Pi).forEach(R=>{const $=R.getTextContent(),H=ft($);R.replace(H)});const M=ot(),O=[],A=R=>{R.getType()==="text"?O.push(R):R.getChildren&&R.getChildren().forEach(A)};M.getChildren().forEach(A),T.forEach(R=>{const $=R.target.trim();if($)for(let H of O){const F=H.getTextContent().indexOf($);if(F!==-1){let Q;if(F===0?Q=H.splitText($.length)[0]:Q=H.splitText(F,F+$.length)[1],Q){const B=iN($,{type:R.type,issue:R.issue,fix:R.fix});Q.replace(B)}break}}})})};D.useEffect(()=>r.registerCommand(hO,()=>(_(!1),!0),je),[r,_]);const C=()=>{a&&(r.update(()=>{const T=Gc(Pi);for(let j of T)if(j.getTextContent()===a.target){const M=ft(a.fix);j.replace(M);break}}),s(null))},S=()=>{a&&(r.update(()=>{const T=Gc(Pi);for(let j of T)if(j.getTextContent()===a.target){const M=ft(a.target);j.replace(M);break}}),s(null))},E=T=>{if(!a)return;const j=T.author?.split(" ").pop()?.replace(",","")||"Anonim",M=T.year||"n.d.",O=a.target+` (${j}, ${M})`;r.update(()=>{const A=Gc(Pi);for(let R of A)if(R.getTextContent()===a.target){const $=ft(O);R.replace($);break}}),v(!1),s(null)};return x.jsxs(x.Fragment,{children:[f&&x.jsx("div",{className:"absolute top-24 right-10 z-50 animate-in fade-in zoom-in duration-300",children:x.jsxs("div",{className:"bg-[#16181D]/95 text-white px-5 py-3 rounded-xl border border-red-500/50 shadow-2xl flex items-center gap-3 backdrop-blur-sm",children:[x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 bg-red-500 blur opacity-20 animate-pulse rounded-full"}),x.jsx("div",{className:"h-2 w-2 bg-red-500 rounded-full animate-ping"})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-xs font-bold text-red-400 tracking-widest uppercase",children:"SYSTEM SCANNING"}),x.jsx("div",{className:"text-[10px] text-slate-400",children:"Memeriksa Logika & Metode..."})]})]})}),a&&o&&!p&&Xl.createPortal(x.jsx(dO,{review:a,position:o,onAccept:C,onDismiss:S,onFindReference:()=>v(!0),onClose:()=>s(null)}),document.body),x.jsx(aN,{isOpen:p,onClose:()=>v(!1),projectId:n,onReferenceAdded:E})]})}function mO({projectId:n,onServerSave:e,isStreaming:r=!1,debounceTime:a=2e3}){const[s]=Ct(),o=D.useRef(null),c=D.useRef(null);D.useEffect(()=>()=>{c.current&&(clearTimeout(c.current),console.log(`[AutoSave] Timer dibatalkan untuk project ${n} (Cleanup)`))},[n]);const f=D.useCallback(g=>{g.read(()=>{if(r)return;const m=_d(s,null);m!==o.current&&e&&(e(m),o.current=m,console.log(`[AutoSave] Saved project ${n} at ${new Date().toLocaleTimeString()}`))})},[s,r,e,n]),h=g=>{r||(c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{f(g)},a))};return x.jsx(JC,{onChange:h,ignoreSelectionChange:!0})}function yO(){const[n]=Ct(),[e,r]=D.useState(!1),[a,s]=D.useState({top:0,left:0}),[o,c]=D.useState(!1),f=D.useRef(null),h=D.useRef(null),g=D.useCallback(()=>{const v=window.getSelection();if(!v||v.isCollapsed||v.rangeCount===0){o||r(!1);return}const w=v.getRangeAt(0).getBoundingClientRect();w.width>0&&(s({top:w.top-55+window.scrollY,left:w.left+w.width/2-160}),n.getEditorState().read(()=>{const N=he();oe(N)&&!N.isCollapsed()?N.getTextContent().trim().length>0&&r(!0):o||r(!1)}))},[n,o]);D.useEffect(()=>{const v=n.registerUpdateListener(({editorState:_})=>{_.read(()=>g())});return document.addEventListener("selectionchange",g),window.addEventListener("resize",g),window.addEventListener("scroll",g),()=>{v(),document.removeEventListener("selectionchange",g),window.removeEventListener("resize",g),window.removeEventListener("scroll",g)}},[n,g]);const m=async v=>{c(!0);let _="";if(h.current&&h.current.abort(),h.current=new AbortController,n.getEditorState().read(()=>{const w=he();oe(w)&&(_=w.getTextContent())}),!_){c(!1);return}try{n.update(()=>{const S=he();oe(S)&&S.insertText("")});const w=await fetch("/api/ai/edit-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:_,mode:v,stream:!0}),signal:h.current.signal});if(!w.ok)throw new Error("Gagal terhubung ke AI");const N=w.body.getReader(),C=new TextDecoder;for(;;){const{done:S,value:E}=await N.read();if(S)break;const T=C.decode(E,{stream:!0});n.update(()=>{const j=he();oe(j)&&j.insertText(T)})}typeof $e<"u"&&$e.success("Selesai!")}catch(w){w.name==="AbortError"?typeof $e<"u"&&$e("Dibatalkan"):(console.error(w),typeof $e<"u"&&$e.error("Gagal memproses"),n.update(()=>{const N=he();oe(N)&&N.insertText(_)}))}finally{c(!1),r(!1)}},p=()=>{h.current&&h.current.abort()};return!e&&!o?null:Xl.createPortal(x.jsx("div",{ref:f,className:"fixed z-[9999] flex items-center gap-1 p-1.5 bg-[#1C1E24] border border-[#2A2D36] rounded-xl shadow-2xl animate-in fade-in zoom-in-95 duration-200",style:{top:`${a.top}px`,left:`${a.left}px`},children:o?x.jsxs("div",{className:"flex items-center gap-3 px-2",children:[x.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-[#6C5DD3] animate-pulse",children:[x.jsx(Qn,{className:"w-4 h-4 animate-spin"})," AI Sedang Menulis..."]}),x.jsx("div",{className:"h-4 w-px bg-white/10"}),x.jsxs("button",{onClick:p,className:"text-red-400 hover:text-red-300 text-[10px] font-bold flex items-center gap-1 px-2 py-1 rounded bg-red-500/10 hover:bg-red-500/20 transition-colors",children:[x.jsx(Xw,{size:12})," Stop"]})]}):x.jsxs(x.Fragment,{children:[x.jsx(Jc,{icon:su,label:"Paraphrase",color:"text-emerald-400",onClick:()=>m("paraphrase")}),x.jsx("div",{className:"w-px h-4 bg-white/10 mx-1"}),x.jsx(Jc,{icon:Ww,label:"Expand",onClick:()=>m("expand")}),x.jsx(Jc,{icon:eS,label:"Shorten",onClick:()=>m("shorten")}),x.jsx("div",{className:"w-px h-4 bg-white/10 mx-1"}),x.jsx(Jc,{icon:J0,label:"Formalize",color:"text-blue-400",onClick:()=>m("formalize")})]})}),document.body)}function Jc({icon:n,label:e,onClick:r,color:a="text-slate-300"}){return x.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-white/10 transition-colors ${a} hover:text-white group`,title:e,children:[x.jsx(n,{size:14,className:"group-hover:scale-110 transition-transform"}),x.jsx("span",{className:"text-[11px] font-bold",children:e})]})}const xO={paragraph:"mb-3 text-slate-300 leading-relaxed text-base font-serif",heading:{h1:"text-3xl font-bold text-white mb-4 mt-6 border-b border-slate-700 pb-2",h2:"text-2xl font-bold text-slate-100 mb-3 mt-5",h3:"text-xl font-bold text-slate-200 mb-2 mt-4"},text:{bold:"font-bold text-white",italic:"italic text-slate-200",underline:"underline decoration-slate-500 underline-offset-4",strikethrough:"line-through text-slate-500"},list:{ul:"list-disc list-outside mb-4 ml-8 text-slate-300",ol:"list-decimal list-outside mb-4 ml-8 text-slate-300",listitem:"pl-1"},quote:"border-l-4 border-[#6C5DD3] pl-4 italic text-slate-400 my-4 bg-white/5 py-2 rounded-r"};function vO({content:n}){const[e]=Ct(),r=D.useRef(!1);return D.useEffect(()=>{!n||r.current||(e.update(()=>{const a=ot();if(a.getTextContent().trim()!=="")return;const c=new DOMParser().parseFromString(n,"text/html"),f=Rm(e,c);a.clear(),cm(f),e.dispatchCommand(RS,void 0)}),r.current=!0)},[n,e]),null}function bO({references:n=[]}){const[e]=Ct(),[r,a]=D.useState(null);D.useEffect(()=>e.registerUpdateListener(({editorState:o})=>{o.read(()=>{const c=he();if(!oe(c)||!c.isCollapsed()){a(null);return}const f=c.anchor.getNode(),h=c.anchor.offset;if(f.getTextContent()[h-1]==="@"){const p=window.getSelection().getRangeAt(0).getBoundingClientRect();a({coords:{top:p.top+window.scrollY+25,left:p.left+window.scrollX}})}else a(null)})}),[e]);const s=o=>{e.update(()=>{const c=he();if(oe(c)){const f=c.anchor.getNode(),h=f.getTextContent();f.setTextContent(h.slice(0,c.anchor.offset-1)+h.slice(c.anchor.offset));const g=o.author?o.author.split(",")[0].split(" ").pop():"Anonim";c.insertText(` (${g}, ${o.year||"n.d."}) `)}}),a(null)};return r?Xl.createPortal(x.jsxs("div",{style:{top:r.coords.top,left:r.coords.left},className:"absolute z-50 w-64 max-h-48 overflow-y-auto bg-[#1C1E24] rounded-lg shadow-2xl border border-white/10 animate-in fade-in zoom-in-95 custom-scrollbar",children:[x.jsxs("div",{className:"px-3 py-2 text-[10px] font-bold text-slate-500 bg-[#16181D] border-b border-white/5 flex items-center gap-1 sticky top-0",children:[x.jsx(Vi,{size:10})," Insert Citation"]}),n.map((o,c)=>x.jsxs("button",{onClick:()=>s(o),className:"w-full text-left px-3 py-2 text-xs hover:bg-[#6C5DD3] text-slate-300 hover:text-white transition-colors border-b border-white/5 last:border-0",children:[x.jsx("div",{className:"font-bold truncate",children:o.title}),x.jsxs("div",{className:"text-[10px] opacity-60",children:[o.author,"  ",o.year]})]},c))]}),document.body):null}function _O(){const[n]=Ct(),[e,r]=D.useState(!1),[a,s]=D.useState(!1),[o,c]=D.useState("paragraph"),f=D.useCallback(()=>{const p=he();if(oe(p)){const v=p.anchor.getNode(),_=v.getKey()==="root"?v:v.getTopLevelElementOrThrow(),w=_.getKey();n.getElementByKey(w)!==null&&(_.getType()==="heading"?c(_.getTag()):_.getType()==="list"?c(_.getTag()==="ol"?"ol":"ul"):c("paragraph"))}},[n]);D.useEffect(()=>nr(n.registerUpdateListener(({editorState:p})=>{p.read(()=>f())}),n.registerCommand(Co,p=>(r(p),!1),1),n.registerCommand(So,p=>(s(p),!1),1)),[n,f]);const h=p=>{o!==p&&n.update(()=>{const v=he();oe(v)&&(p==="h1"?Yc(v,()=>Sa("h1")):p==="h2"?Yc(v,()=>Sa("h2")):p==="quote"?Yc(v,()=>Lm()):p==="ul"?n.dispatchCommand(nN):p==="ol"?n.dispatchCommand(rN):Yc(v,()=>dt()))})},g=({onClick:p,icon:v,active:_,title:w,disabled:N})=>x.jsx("button",{onClick:p,disabled:N,title:w,className:`p-1.5 rounded-lg transition-all ${_?"bg-[#6C5DD3] text-white":"text-slate-400 hover:text-white hover:bg-[#252830]"} ${N?"opacity-30 cursor-not-allowed":""}`,children:x.jsx(v,{size:16})}),m=()=>x.jsx("div",{className:"w-px h-5 bg-[#252830] mx-1"});return x.jsxs("div",{className:"flex items-center flex-wrap gap-1 p-2 border-b border-[#252830] bg-[#16181D] sticky top-0 z-20 rounded-t-xl select-none shadow-sm",children:[x.jsx(g,{onClick:()=>n.dispatchCommand(cd),icon:GA,disabled:!e,title:"Undo"}),x.jsx(g,{onClick:()=>n.dispatchCommand(fd),icon:gA,disabled:!a,title:"Redo"}),x.jsx(m,{}),x.jsx(g,{onClick:()=>h("paragraph"),icon:HA,active:o==="paragraph",title:"Normal Text"}),x.jsx(g,{onClick:()=>h("h1"),icon:Cj,active:o==="h1",title:"Heading 1"}),x.jsx(g,{onClick:()=>h("h2"),icon:kj,active:o==="h2",title:"Heading 2"}),x.jsx(g,{onClick:()=>h("quote"),icon:rS,active:o==="quote",title:"Quote"}),x.jsx(m,{}),x.jsx(g,{onClick:()=>n.dispatchCommand(Vn,"bold"),icon:D4,title:"Bold"}),x.jsx(g,{onClick:()=>n.dispatchCommand(Vn,"italic"),icon:Aj,title:"Italic"}),x.jsx(g,{onClick:()=>n.dispatchCommand(Vn,"underline"),icon:FA,title:"Underline"}),x.jsx(m,{}),x.jsx(g,{onClick:()=>n.dispatchCommand(wo,"left"),icon:J0,title:"Rata Kiri"}),x.jsx(g,{onClick:()=>n.dispatchCommand(wo,"center"),icon:AA,title:"Rata Tengah"}),x.jsx(g,{onClick:()=>n.dispatchCommand(wo,"right"),icon:DA,title:"Rata Kanan"}),x.jsx(g,{onClick:()=>n.dispatchCommand(wo,"justify"),icon:zA,title:"Rata Kanan Kiri"}),x.jsx(m,{}),x.jsx(g,{onClick:()=>h("ul"),icon:Hj,active:o==="ul",title:"Bullet List"}),x.jsx(g,{onClick:()=>h("ol"),icon:Uj,active:o==="ol",title:"Numbered List"}),x.jsx("div",{className:"ml-auto flex items-center gap-2",children:x.jsx("span",{className:"text-[9px] text-slate-600 font-bold px-2 py-1 bg-[#0F1115] rounded",children:"MS WORD MODE"})})]})}const wO=({editorRef:n})=>{const[e]=Ct();return D.useEffect(()=>{n&&(n.current={insertContent:r=>{e.update(()=>{const s=new DOMParser().parseFromString(r,"text/html"),o=Rm(e,s);cm(o)})},getHtml:()=>{let r="";return e.getEditorState().read(()=>{r=_d(e,null)}),r}})},[e,n]),null},SO=D.forwardRef(({initialContent:n,onChange:e,onSave:r,isStreaming:a,projectId:s,activeChapterId:o,projectContext:c},f)=>{const[h,g]=D.useState(!1),m=a||h,p={namespace:"WritingStudio",theme:xO,onError(_){console.error("[Lexical Error]",_)},nodes:[Sd,wd,hs,mu,Pi]},v=(_,w)=>{_.read(()=>{if(e){const N=_d(w,null);e(N)}})};return x.jsx("div",{className:"relative w-[816px] max-w-full min-h-[1056px] mx-auto bg-[#0F1115] border border-[#252830] shadow-2xl rounded-xl overflow-hidden flex flex-col transition-all duration-300",children:x.jsxs(L6,{initialConfig:p,children:[x.jsx(_O,{}),x.jsxs("div",{className:"flex-1 relative bg-[#0F1115]",children:[x.jsx(jD,{contentEditable:x.jsx(OD,{className:"outline-none min-h-[900px] p-12 text-base focus:outline-none",style:{fontFamily:'"Times New Roman", Times, serif',lineHeight:"1.6",color:"#cbd5e1"}}),placeholder:x.jsx("div",{className:"absolute top-12 left-12 text-slate-600 pointer-events-none select-none italic",children:"Mulai menulis bab ini..."}),ErrorBoundary:nO}),x.jsx(UD,{}),x.jsx(BD,{}),x.jsx(JD,{})," ",x.jsx(JC,{onChange:v,ignoreSelectionChange:!0}),x.jsx(mO,{projectId:s,onServerSave:r,isStreaming:m}),x.jsx(vO,{content:n}),x.jsx(wO,{editorRef:f}),x.jsx(fO,{projectId:s}),x.jsx(pO,{projectId:s,projectContext:c}),x.jsx(yO,{onStateChange:g}),x.jsx(bO,{references:c?.references||[]})]})]})})}),v0="TRIGGER_UPGRADE_MODAL",CO="";class NO{async request(e,r={}){const a=`${CO}${e}`,s={...r.body instanceof FormData?{}:{"Content-Type":"application/json"},...r.headers},o={...r,headers:s,credentials:"include"};try{const c=await fetch(a,o);if(c.status===403){const m=await c.clone().json().catch(()=>({}));if(m.error==="LIMIT_REACHED"){if(typeof window<"u"){const p=new CustomEvent(v0,{detail:m.message});window.dispatchEvent(p)}throw new Error(m.message||"Limit Reached")}}if(c.status===401)return window.location.href="/login?next="+encodeURIComponent(window.location.pathname),null;let f;const h=c.headers.get("content-type");if(h&&h.indexOf("application/json")!==-1)f=await c.json();else{const g=await c.text();if(!c.ok)throw new Error(g||`Server Error: ${c.status}`);f=g}if(!c.ok||f&&typeof f=="object"&&f.status==="error"){const g=f?.message||f?.error||`Request Gagal (${c.status})`;throw new Error(g)}return f}catch(c){throw console.error(`[API Error] ${e}:`,c),!r.silent&&c.message!=="Limit Reached"&&$e.error(c.message||"Gagal menghubungi server.",{id:"api-error"}),c}}get(e,r={}){return this.request(e,{method:"GET",headers:r})}post(e,r,a={}){return this.request(e,{method:"POST",body:JSON.stringify(r),headers:a})}put(e,r,a={}){return this.request(e,{method:"PUT",body:JSON.stringify(r),headers:a})}delete(e,r,a={}){return this.request(e,{method:"DELETE",body:JSON.stringify(r),headers:a})}upload(e,r){return this.request(e,{method:"POST",body:r})}}const tn=new NO,t2={id:null,title:"Project Baru",student_name:"",university:"",degree_level:"S1",problem_statement:"",research_objectives:"",significance:"",theoretical_framework:"",variables_indicators:"",methodology:"quantitative",population_sample:"",data_analysis:"",references:[],chapters:[],updatedAt:null},lN=D.createContext();function kO({children:n}){const[e,r]=D.useState(t2),[a,s]=D.useState(""),[o,c]=D.useState([]),[f,h]=D.useState("chapter_1"),[g,m]=D.useState(null),[p,v]=D.useState([]),[_,w]=D.useState([]),[N,C]=D.useState(!0),[S,E]=D.useState(!1),[T,j]=D.useState(!1),[M,O]=D.useState(!1),[A,R]=D.useState(typeof window<"u"?window.initialState?.isPro:!1),[$,H]=D.useState(!1),I=D.useRef(null),F=D.useCallback(async(W,ae)=>{if(W){E(!0);try{const pe=await tn.get(`/api/project/${W}/chapter/${ae}`),ye=pe?.content||pe?.data?.content||"";s(ye)}catch(pe){console.error("[Context] Gagal load bab:",pe),s("")}finally{E(!1)}}},[]),Q=D.useCallback(async W=>{if(!W||W==="undefined"||W==="null"){C(!1);return}C(!0);try{console.log(`[Context] Loading Project ID: ${W}`);const ae=await tn.get(`/api/project-context/${W}`);if(!ae)throw new Error("Data kosong dari server");const{chapters_structure:pe=[],references:ye=[],id:Ne,...Ue}=ae,Me=Ne||W;if(m(Me),r(Yt=>({...t2,...Ue,references:ye,id:Me})),pe&&pe.length>0){c(pe);const Qi=pe.find(gs=>gs.id===f)?f:pe[0].id;h(Qi),await F(Me,Qi)}else c([{id:"chapter_1",title:"BAB I: Pendahuluan",index:0},{id:"chapter_2",title:"BAB II: Tinjauan Pustaka",index:1},{id:"chapter_3",title:"BAB III: Metode Penelitian",index:2},{id:"chapter_4",title:"BAB IV: Hasil & Pembahasan",index:3},{id:"chapter_5",title:"BAB V: Penutup",index:4}]),h("chapter_1"),await F(Me,"chapter_1");if(typeof window<"u"){const Yt=new URL(window.location);Yt.searchParams.set("id",Me),window.history.pushState({},"",Yt),localStorage.setItem("last_active_project_id",Me)}}catch(ae){console.error("Gagal load project:",ae),$e.error("Gagal memuat proyek.")}finally{C(!1)}},[F,f]),B=D.useCallback(W=>{S||N||!g||(s(W),I.current&&clearTimeout(I.current),j(!0),I.current=setTimeout(async()=>{if(g)try{const ae=o.find(pe=>pe.id===f);await tn.post(`/api/project/${g}/chapter/save`,{chapterId:f,content:W,title:ae?.title||"Bab Tanpa Judul",index:ae?.index||0},{silent:!0})}catch(ae){console.error("Save failed:",ae)}finally{j(!1)}},2e3))},[g,f,o,S,N]),te=async W=>{W===f||S||(!S&&g&&(I.current&&clearTimeout(I.current),tn.post(`/api/project/${g}/chapter/save`,{chapterId:f,content:a},{silent:!0}).catch(()=>{})),E(!0),s(""),h(W),await F(g,W))},L=D.useCallback(async(W,ae)=>{if(!g)return;let pe={};if(typeof W=="string")pe={[W]:ae};else if(typeof W=="object"&&W!==null)pe=W;else return;r(ye=>({...ye,...pe}));try{await tn.post(`/api/project-update/${g}`,pe)}catch(ye){console.error("Gagal update project:",ye),$e.error("Gagal menyimpan info project.")}},[g]),Y=D.useCallback(async W=>{if(!g)return;const ae=`temp-${Date.now()}`,pe={...W,id:ae,created_at:new Date().toISOString()};r(ye=>({...ye,references:[pe,...ye.references||[]]}));try{const ye=await tn.post(`/api/project/${g}/references/add`,W);ye&&ye.status==="success"&&$e.success("Referensi berhasil disimpan")}catch(ye){console.error("Gagal tambah referensi:",ye),$e.error("Gagal menyimpan referensi ke server")}},[g]),se=async()=>{const W=$e.loading("Membuat proyek baru...");try{const ae=await tn.post("/api/projects/new",{});ae.status==="success"&&($e.success("Proyek baru dibuat!",{id:W}),await ce(),await Q(ae.projectId))}catch(ae){$e.error(ae.message||"Gagal membuat proyek",{id:W})}},ce=async()=>{try{const W=await tn.get("/api/projects");v(W?.projects||[])}catch{v([])}},ge=async()=>{try{const W=await tn.get("/api/my-analyses");w(W?.history||[])}catch{}};D.useEffect(()=>{const ae=new URLSearchParams(window.location.search).get("id")||localStorage.getItem("last_active_project_id");ae&&ae!=="undefined"&&ae!=="null"?Q(ae):C(!1),ce(),ge()},[]);const Z={projectId:g,project:e,content:a,chapters:o,activeChapterId:f,projectsList:p||[],projects:p||[],currentProject:e,analysisHistory:_,isLoading:N,isContentLoading:S,isSaving:T,isSettingsOpen:M,showUpgradeModal:$,isPro:A,setIsSettingsOpen:O,setShowUpgradeModal:H,setIsPro:R,loadProject:Q,changeActiveChapter:te,updateProjectMeta:L,saveContent:B,addReference:Y,fetchProjectsList:ce,createNewProject:se,setCurrentProject:W=>{W.id!==g&&Q(W.id)},setActiveChapterId:h,setContent:s};return x.jsx(lN.Provider,{value:Z,children:n})}function Ia(){return D.useContext(lN)}const EO=({project:n,children:e})=>{const r=n?.title&&n?.title!=="Proyek Baru",a=n?.problem_statement&&n?.problem_statement.trim().length>10;return r&&a?x.jsx(x.Fragment,{children:e}):x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 p-8 text-center bg-slate-900",children:[x.jsx("div",{className:"bg-yellow-900/20 p-4 rounded-full mb-4 ring-1 ring-yellow-500/30",children:x.jsx(W0,{size:32,className:"text-yellow-500"})}),x.jsx("h3",{className:"font-bold text-slate-200 text-lg",children:"Data Project Belum Lengkap"}),x.jsxs("p",{className:"text-sm mt-2 mb-6 max-w-sm leading-relaxed text-slate-400",children:["AI membutuhkan ",x.jsx("strong",{children:"Judul"})," dan ",x.jsx("strong",{children:"Rumusan Masalah"})," agar hasil generate akurat dan tidak berhalusinasi."]}),x.jsxs("div",{className:"p-4 bg-slate-800 rounded-lg border border-slate-700 text-left w-full max-w-xs space-y-3",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-green-500":"bg-red-500"}`}),x.jsx("span",{className:"text-sm",children:"Judul Project"})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-red-500"}`}),x.jsx("span",{className:"text-sm",children:"Rumusan Masalah"})]})]}),x.jsxs("p",{className:"text-xs mt-6 text-slate-500",children:["Silakan buka menu ",x.jsxs("span",{className:"text-blue-400",children:[x.jsx(Nf,{size:10,className:"inline"})," Settings"]})," di sidebar kiri."]})]})},sN=D.createContext();function Ff(){const n=D.useContext(sN);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}function oN({children:n}){const[e,r]=D.useState([]),a=D.useCallback((o,c="info")=>{const f=Date.now();r(h=>[...h,{id:f,message:o,type:c}]),setTimeout(()=>s(f),3e3)},[]),s=o=>{r(c=>c.filter(f=>f.id!==o))};return x.jsxs(sN.Provider,{value:{addToast:a},children:[n,x.jsx("div",{className:"fixed bottom-5 right-5 z-[100] flex flex-col gap-2 pointer-events-none",children:e.map(o=>x.jsxs("div",{className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl border shadow-2xl min-w-[300px] animate-in slide-in-from-right duration-300 bg-[#1C1E24] ${o.type==="success"?"border-green-500/30 text-green-400":o.type==="error"?"border-red-500/30 text-red-400":"border-blue-500/30 text-blue-400"}`,children:[x.jsx("span",{className:"text-xs font-bold",children:o.message}),x.jsx("button",{onClick:()=>s(o.id),children:x.jsx(ou,{size:14})})]},o.id))})]})}const yu=()=>{const[n,e]=D.useState(""),[r,a]=D.useState(!1),[s,o]=D.useState(null),c=D.useRef(null),f=Ff?Ff():{triggerToast:console.log},{triggerToast:h}=f||{triggerToast:console.log},g=D.useCallback(async p=>{a(!0),o(null),e(""),c.current=new AbortController;try{const v=await fetch("/api/assistant/generate-stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p),signal:c.current.signal});if(!v.ok){const C=await v.json();throw new Error(C.message||"Gagal generate konten")}const _=v.body.getReader(),w=new TextDecoder;let N=!1;for(;!N;){const{value:C,done:S}=await _.read();N=S;const E=w.decode(C,{stream:!0});e(T=>T+E)}}catch(v){v.name==="AbortError"?(console.log("Generation stopped by user"),h&&h("info","Generasi dihentikan.")):(console.error("Stream Error:",v),o(v.message),h&&h("error",`Error: ${v.message}`))}finally{a(!1),c.current=null}},[h]),m=D.useCallback(()=>{c.current&&(c.current.abort(),c.current=null,a(!1))},[]);return{generatedContent:n,isGenerating:r,error:s,generateStream:g,stopGeneration:m}},n2=({context:n})=>{const[e,r]=D.useState("latar_belakang"),{generatedContent:a,isGenerating:s,error:o,generateStream:c,stopGeneration:f}=yu(),h=()=>{let g="bab1_latar_belakang";e==="rumusan"&&(g="bab1_rumusan"),e==="tujuan"&&(g="bab1_tujuan"),c({task:g,context_title:n.title,context_problem:n.problem_statement})};return x.jsxs("div",{className:"flex flex-col h-full bg-slate-900 text-slate-100",children:[x.jsxs("div",{className:"p-4 border-b border-slate-700 bg-slate-800/50",children:[x.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2 text-blue-400",children:[x.jsx(Po,{size:20}),"Generator Bab 1: Pendahuluan"]}),x.jsxs("p",{className:"text-xs text-slate-400 mt-1 line-clamp-1",children:["Konteks: ",n.title||"Judul belum diset"]})]}),x.jsxs("div",{className:"flex p-2 gap-2 bg-slate-900 border-b border-slate-800 overflow-x-auto",children:[x.jsx(bp,{active:e==="latar_belakang",onClick:()=>r("latar_belakang"),icon:x.jsx(Kw,{size:14}),label:"Latar Belakang"}),x.jsx(bp,{active:e==="rumusan",onClick:()=>r("rumusan"),icon:x.jsx(K4,{size:14}),label:"Rumusan Masalah"}),x.jsx(bp,{active:e==="tujuan",onClick:()=>r("tujuan"),icon:x.jsx(iS,{size:14}),label:"Tujuan & Manfaat"})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:[!a&&!s&&x.jsxs("div",{className:"text-center text-slate-500 mt-10 p-6 border border-dashed border-slate-700 rounded-lg",children:[x.jsx("p",{className:"mb-2",children:"Pilih bagian yang ingin dibuat di atas."}),x.jsxs("p",{className:"text-xs",children:["AI akan menggunakan Judul & Masalah dari Settings project Anda",x.jsx("br",{}),"untuk membuat narasi yang akademis."]})]}),(a||s)&&x.jsx("div",{className:"prose prose-invert prose-sm max-w-none bg-slate-800 p-4 rounded-lg border border-slate-700",children:x.jsxs("div",{className:"whitespace-pre-wrap leading-relaxed",children:[a,s&&x.jsx("span",{className:"animate-pulse",children:"_"})]})}),o&&x.jsxs("div",{className:"mt-4 p-3 bg-red-900/30 border border-red-500/50 text-red-200 text-sm rounded",children:["Error: ",o]})]}),x.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-800",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"text-xs text-slate-500",children:s?"Sedang menulis...":"Siap generate"}),x.jsx("div",{className:"flex gap-2",children:s?x.jsx("button",{onClick:f,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded text-sm font-medium transition-colors",children:"Stop"}):x.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm font-medium transition-colors shadow-lg shadow-blue-900/20",children:[x.jsx(Z0,{size:16}),"Buat ",TO(e)]})})]})})]})},bp=({active:n,onClick:e,icon:r,label:a})=>x.jsxs("button",{onClick:e,className:`
            flex items-center gap-2 px-3 py-2 rounded-lg text-xs font-medium transition-all whitespace-nowrap
            ${n?"bg-blue-600/20 text-blue-300 border border-blue-500/30":"bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-slate-200 border border-transparent"}
        `,children:[r,a]}),TO=n=>n==="latar_belakang"?"Latar Belakang":n==="rumusan"?"Rumusan Masalah":"Tujuan";function r2(n,e){const[r,a]=D.useState(()=>{try{const s=sessionStorage.getItem(n);return s?JSON.parse(s):e}catch{return e}});return D.useEffect(()=>{sessionStorage.setItem(n,JSON.stringify(r))},[n,r]),[r,a]}const jO=({context:n,onInsert:e})=>{const{addToast:r}=Ff(),[a,s]=D.useState(n.title||""),[o,c]=r2(`onthesis_outline_${n.id}`,[]),[f,h]=r2(`onthesis_content_${n.id}`,{}),[g,m]=D.useState(!1),[p,v]=D.useState(null),_=async()=>{if(!a.trim())return r("Topik/Judul harus diisi!","error");m(!0),c([]);try{const S=await(await fetch("/api/generate-outline",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({judul_penelitian:a,methodology:n.methodology||"Kualitatif"})})).json();let E=[];if(Array.isArray(S)?E=S:S.outline?E=Array.isArray(S.outline)?S.outline:[]:S.data&&(E=S.data),E.length===0)throw new Error("Format outline tidak dikenali");c(E),r("Outline berhasil disusun!","success")}catch(C){console.error(C),r("Gagal menyusun outline. Coba lagi.","error")}finally{m(!1)}},w=async C=>{const S=C.sub_bab;v(S),h(E=>({...E,[S]:""}));try{const E=await fetch("/api/writing-assistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:"literature_review",data:{sub_task:"content",sub_topic:C.sub_bab,context_title:a,context_material:`POIN PEMBAHASAN:
- ${C.poin_pembahasan.join(`
- `)}`}})});if(!E.body)throw new Error("Stream error");const T=E.body.getReader(),j=new TextDecoder;for(;;){const{done:M,value:O}=await T.read();if(M)break;const A=j.decode(O,{stream:!0});h(R=>({...R,[S]:(R[S]||"")+A}))}}catch{r(`Gagal generate ${S}`,"error")}finally{v(null)}},N=()=>{let C="";if(o.forEach(S=>{const E=f[S.sub_bab];E&&(C+=`<h3>${S.sub_bab}</h3>
${E}

`)}),!C)return r("Belum ada konten yang digenerate.","error");e?e(C):(navigator.clipboard.writeText(C),r("Konten disalin ke clipboard (Insert manual).","success"))};return x.jsxs("div",{className:"flex flex-col h-full bg-slate-900 text-slate-100",children:[x.jsx("div",{className:"p-4 border-b border-slate-700 bg-slate-800/50",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:a,onChange:C=>s(C.target.value),placeholder:"Judul Penelitian / Variabel Utama...",className:"flex-1 bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-sm focus:border-purple-500 outline-none transition-colors"}),x.jsxs("button",{onClick:_,disabled:g,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-xs font-bold flex items-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[g?x.jsx(Qn,{className:"animate-spin",size:16}):x.jsx(su,{size:16}),o.length>0?"Reset":"Susun Outline"]})]})}),x.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-6",children:[o.length===0&&!g&&x.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-600 opacity-60",children:[x.jsx(Rj,{size:48,className:"mb-4 text-purple-900/50"}),x.jsx("p",{className:"text-sm",children:"Masukkan topik untuk menyusun kerangka Bab 2."})]}),g&&x.jsxs("div",{className:"space-y-4 animate-pulse",children:[x.jsx("div",{className:"h-16 bg-slate-800 rounded-xl"}),x.jsx("div",{className:"h-16 bg-slate-800 rounded-xl"}),x.jsx("div",{className:"h-16 bg-slate-800 rounded-xl"})]}),o.map((C,S)=>{const E=f[C.sub_bab],T=p===C.sub_bab;return x.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl overflow-hidden shadow-sm hover:border-purple-500/30 transition-all",children:[x.jsxs("div",{className:"p-4 flex items-start justify-between bg-slate-800/80",children:[x.jsxs("div",{children:[x.jsxs("h4",{className:"font-bold text-purple-300 text-sm flex items-center gap-2",children:[x.jsx("span",{className:"bg-purple-900/50 text-purple-200 w-5 h-5 flex items-center justify-center rounded text-[10px]",children:S+1}),C.sub_bab]}),x.jsx("ul",{className:"mt-2 ml-7 list-disc text-[11px] text-slate-400 space-y-0.5",children:C.poin_pembahasan.slice(0,3).map((j,M)=>x.jsx("li",{children:j},M))})]}),x.jsx("button",{onClick:()=>w(C),disabled:T,className:`p-2 rounded-lg transition-colors ${E?"bg-slate-700 text-green-400 hover:bg-slate-600":"bg-purple-600 text-white hover:bg-purple-700"}`,title:E?"Generate Ulang":"Tulis Bagian Ini",children:T?x.jsx(Qn,{size:14,className:"animate-spin"}):E?x.jsx(Qn,{size:14}):x.jsx(tS,{size:14,fill:"currentColor"})})]}),(E||T)&&x.jsxs("div",{className:"border-t border-slate-700/50 bg-slate-900/50 p-4 relative group",children:[x.jsxs("div",{className:"prose prose-invert prose-sm max-w-none text-xs leading-relaxed",children:[x.jsx("div",{dangerouslySetInnerHTML:{__html:E}}),T&&x.jsx("span",{className:"inline-block w-1.5 h-3 bg-purple-400 animate-pulse align-middle ml-1"})]}),E&&!T&&x.jsx("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsxs("button",{onClick:()=>e&&e(`<h3>${C.sub_bab}</h3>
${E}`),className:"bg-purple-600 text-white px-2 py-1 rounded text-[10px] font-bold flex items-center gap-1 shadow-lg hover:bg-purple-500",children:[x.jsx(C4,{size:12})," Insert"]})})]})]},S)})]}),o.length>0&&x.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-800",children:x.jsxs("button",{onClick:N,className:"w-full py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl text-sm font-bold flex items-center justify-center gap-2 shadow-lg shadow-purple-900/20 transition-all",children:[x.jsx(Vi,{size:16})," Gabungkan & Masukkan Semua ke Editor"]})})]})},Bm=({content:n,isGenerating:e,error:r,emptyStateMessage:a="Siap menulis...",icon:s=Kw})=>r?x.jsxs("div",{className:"mt-4 p-4 bg-red-900/20 border border-red-500/50 rounded-lg flex gap-3 text-red-200",children:[x.jsx(V0,{size:20,className:"shrink-0 mt-0.5"}),x.jsxs("div",{className:"text-sm",children:[x.jsx("strong",{className:"block mb-1 font-semibold",children:"Terjadi Kesalahan"}),r]})]}):!n&&!e?x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-600 opacity-60 min-h-[300px]",children:[x.jsx(s,{size:48,className:"mb-4 text-slate-700"}),x.jsx("p",{className:"text-sm text-center max-w-xs",children:a})]}):x.jsx("div",{className:"prose prose-invert prose-sm max-w-none bg-slate-800 p-6 rounded-lg border border-slate-700 shadow-inner",children:x.jsxs("div",{className:"whitespace-pre-wrap leading-relaxed",children:[n,e&&x.jsx("span",{className:"inline-block w-2 h-4 bg-blue-400 ml-1 animate-pulse align-middle"})]})}),AO=({onGenerate:n,isGenerating:e,onStop:r})=>{const[a,s]=D.useState("kuantitatif"),[o,c]=D.useState({design:"",participants:"",instruments:"",analysis:""}),f=(m,p)=>{c(v=>({...v,[m]:p}))},h=()=>{if(!o.design||!o.participants){alert("Mohon lengkapi Desain Penelitian dan Partisipan.");return}n({methodMode:a,...o})},g={kuantitatif:{design:"Desain Penelitian (Ex: Survey, Eksperimen)",participants:"Populasi & Sampel",instruments:"Instrumen (Ex: Kuesioner)",analysis:"Teknik Analisis (Ex: SPSS, SEM-PLS)"},kualitatif:{design:"Pendekatan (Ex: Fenomenologi, Studi Kasus)",participants:"Informan / Subjek Penelitian",instruments:"Teknik Pengumpulan Data (Ex: Wawancara)",analysis:"Analisis Data (Ex: Reduksi Data, Triangulasi)"}}[a];return x.jsxs("div",{className:"h-full flex flex-col",children:[x.jsxs("div",{className:"flex gap-2 p-1 bg-slate-800 rounded-lg mb-4 border border-slate-700",children:[x.jsx("button",{onClick:()=>s("kuantitatif"),className:`flex-1 py-2 text-xs font-medium rounded-md transition-all ${a==="kuantitatif"?"bg-cyan-600 text-white shadow":"text-slate-400 hover:text-slate-200"}`,children:"Kuantitatif"}),x.jsx("button",{onClick:()=>s("kualitatif"),className:`flex-1 py-2 text-xs font-medium rounded-md transition-all ${a==="kualitatif"?"bg-cyan-600 text-white shadow":"text-slate-400 hover:text-slate-200"}`,children:"Kualitatif"})]}),x.jsxs("div",{className:"space-y-4 overflow-y-auto custom-scrollbar pr-2 flex-1",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"text-xs font-semibold text-cyan-200 mb-1 flex items-center gap-1",children:[x.jsx(yj,{size:12})," ",g.design]}),x.jsx("input",{type:"text",className:"w-full bg-slate-800 border border-slate-700 rounded p-2 text-sm focus:border-cyan-500 outline-none placeholder-slate-600",placeholder:a==="kuantitatif"?"Contoh: Survey Cross-sectional":"Contoh: Studi Kasus deskriptif",value:o.design,onChange:m=>f("design",m.target.value)})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"text-xs font-semibold text-cyan-200 mb-1 flex items-center gap-1",children:[x.jsx(VA,{size:12})," ",g.participants]}),x.jsx("textarea",{className:"w-full bg-slate-800 border border-slate-700 rounded p-2 text-sm focus:border-cyan-500 outline-none placeholder-slate-600",rows:2,placeholder:"Siapa subjeknya? Berapa jumlahnya?",value:o.participants,onChange:m=>f("participants",m.target.value)})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"text-xs font-semibold text-cyan-200 mb-1 flex items-center gap-1",children:[x.jsx(X0,{size:12})," ",g.instruments]}),x.jsx("textarea",{className:"w-full bg-slate-800 border border-slate-700 rounded p-2 text-sm focus:border-cyan-500 outline-none placeholder-slate-600",rows:2,placeholder:"Alat ukur atau cara ambil data?",value:o.instruments,onChange:m=>f("instruments",m.target.value)})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"text-xs font-semibold text-cyan-200 mb-1 flex items-center gap-1",children:[x.jsx(Lp,{size:12})," ",g.analysis]}),x.jsx("input",{type:"text",className:"w-full bg-slate-800 border border-slate-700 rounded p-2 text-sm focus:border-cyan-500 outline-none placeholder-slate-600",placeholder:"Teknik pengolahan data?",value:o.analysis,onChange:m=>f("analysis",m.target.value)})]})]}),x.jsx("div",{className:"pt-4 mt-auto border-t border-slate-800",children:e?x.jsx("button",{onClick:r,className:"w-full py-2 bg-red-600 hover:bg-red-700 text-white rounded text-sm font-medium transition-colors",children:"Stop Generation"}):x.jsxs("button",{onClick:h,className:"w-full py-2 bg-cyan-700 hover:bg-cyan-600 text-white rounded text-sm font-medium transition-colors shadow-lg shadow-cyan-900/20 flex items-center justify-center gap-2",children:[x.jsx(Up,{size:16}),"Generate Metodologi"]})})]})},MO=({context:n})=>{const{generatedContent:e,isGenerating:r,error:a,generateStream:s,stopGeneration:o}=yu(),c=f=>{s({task:"bab3_metode",context_title:n.title,context_problem:n.problem_statement,method_mode:f.methodMode,method_design:f.design,method_participants:f.participants,method_instruments:f.instruments,method_analysis:f.analysis,instruction:`Buat Bab 3 Metodologi Penelitian dengan pendekatan ${f.methodMode}.`})};return x.jsxs("div",{className:"flex flex-col h-full bg-slate-900 text-slate-100",children:[x.jsxs("div",{className:"p-4 border-b border-slate-700 bg-slate-800/50",children:[x.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2 text-cyan-400",children:[x.jsx(Up,{size:20}),"Bab 3: Metodologi Penelitian"]}),x.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Mode Wizard: Tentukan desain dan prosedur penelitian Anda."})]}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[x.jsx("div",{className:"w-1/3 p-4 border-r border-slate-700 bg-slate-900/50",children:x.jsx(AO,{onGenerate:c,isGenerating:r,onStop:o})}),x.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar bg-slate-900",children:x.jsx(Bm,{content:e,isGenerating:r,error:a,emptyStateMessage:"Isi parameter penelitian di panel kiri untuk mulai menulis Bab 3.",icon:Up})})]})]})},DO=({onGenerate:n,isGenerating:e,onStop:r})=>{const[a,s]=D.useState("kuantitatif"),[o,c]=D.useState("deskripsi"),[f,h]=D.useState(""),[g,m]=D.useState(""),p=()=>{if(!f.trim()){alert("Mohon masukkan ringkasan data hasil penelitian Anda.");return}n({dataMode:a,activeSection:o,dataSummary:f,interpretationFocus:g})};return x.jsxs("div",{className:"h-full flex flex-col",children:[x.jsxs("div",{className:"flex gap-2 p-1 bg-slate-800 rounded-lg mb-4 border border-slate-700",children:[x.jsxs("button",{onClick:()=>s("kuantitatif"),className:`flex-1 py-2 text-xs font-medium rounded-md transition-all flex items-center justify-center gap-2 ${a==="kuantitatif"?"bg-emerald-600 text-white shadow":"text-slate-400 hover:text-slate-200"}`,children:[x.jsx(Bo,{size:14})," Kuantitatif"]}),x.jsxs("button",{onClick:()=>s("kualitatif"),className:`flex-1 py-2 text-xs font-medium rounded-md transition-all flex items-center justify-center gap-2 ${a==="kualitatif"?"bg-emerald-600 text-white shadow":"text-slate-400 hover:text-slate-200"}`,children:[x.jsx(Q0,{size:14})," Kualitatif"]})]}),x.jsxs("div",{className:"flex border-b border-slate-700 mb-4",children:[x.jsx("button",{onClick:()=>c("deskripsi"),className:`flex-1 pb-2 text-xs font-semibold text-center transition-colors border-b-2 ${o==="deskripsi"?"border-emerald-500 text-emerald-400":"border-transparent text-slate-500 hover:text-slate-300"}`,children:"1. Deskripsi Data"}),x.jsx("button",{onClick:()=>c("pembahasan"),className:`flex-1 pb-2 text-xs font-semibold text-center transition-colors border-b-2 ${o==="pembahasan"?"border-emerald-500 text-emerald-400":"border-transparent text-slate-500 hover:text-slate-300"}`,children:"2. Pembahasan"})]}),x.jsxs("div",{className:"space-y-4 overflow-y-auto custom-scrollbar pr-2 flex-1",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-semibold text-emerald-200 mb-2",children:a==="kuantitatif"?"HASIL OLAH DATA (SPSS/PLS)":"TEMUAN / KUTIPAN PENTING"}),x.jsx("textarea",{className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-sm focus:ring-1 focus:ring-emerald-500 outline-none text-slate-200 placeholder-slate-600 h-40",placeholder:a==="kuantitatif"?"Contoh: H1 diterima (sig 0.002), Pengaruh X ke Y sebesar 0.45...":"Contoh: Informan A mengatakan bahwa sistem sering error saat jam sibuk...",value:f,onChange:v=>h(v.target.value)}),x.jsx("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"*AI dilarang mengarang angka. Masukkan data real Anda."})]}),o==="pembahasan"&&x.jsxs("div",{className:"animate-fade-in",children:[x.jsx("label",{className:"block text-xs font-semibold text-emerald-200 mb-2",children:"ARAH PEMBAHASAN / TEORI"}),x.jsx("textarea",{className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-sm focus:ring-1 focus:ring-emerald-500 outline-none text-slate-200 placeholder-slate-600 h-24",placeholder:"Kaitkan dengan teori siapa? Apakah mendukung penelitian terdahulu?",value:g,onChange:v=>m(v.target.value)})]})]}),x.jsx("div",{className:"pt-4 mt-auto border-t border-slate-800",children:e?x.jsx("button",{onClick:r,className:"w-full py-2 bg-red-600 rounded text-sm font-medium hover:bg-red-700 transition-colors",children:"Stop Generation"}):x.jsxs("button",{onClick:p,className:"w-full py-2 bg-emerald-700 hover:bg-emerald-600 rounded text-sm font-medium transition-colors shadow-lg shadow-emerald-900/20 flex items-center justify-center gap-2",children:[x.jsx(Vw,{size:16}),o==="deskripsi"?"Narasikan Data":"Buat Pembahasan"]})})]})},OO=({context:n})=>{const{generatedContent:e,isGenerating:r,error:a,generateStream:s,stopGeneration:o}=yu(),c=f=>{s({task:f.activeSection==="deskripsi"?"bab4_hasil":"bab4_pembahasan",context_title:n.title,context_problem:n.problem_statement,data_mode:f.dataMode,raw_data_summary:f.dataSummary,discussion_focus:f.interpretationFocus,instruction:f.activeSection==="deskripsi"?"Narasikan data mentah berikut menjadi deskripsi hasil penelitian yang rapi.":"Bahas temuan data berikut, kaitkan dengan teori, dan jawab rumusan masalah."})};return x.jsxs("div",{className:"flex flex-col h-full bg-slate-900 text-slate-100",children:[x.jsxs("div",{className:"p-4 border-b border-slate-700 bg-slate-800/50",children:[x.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2 text-emerald-400",children:[x.jsx(Bo,{size:20}),"Bab 4: Hasil & Pembahasan"]}),x.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Data Driven: AI akan menarasikan data Anda, bukan mengarang data fiktif."})]}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[x.jsx("div",{className:"w-1/3 p-4 border-r border-slate-700 bg-slate-900/50",children:x.jsx(DO,{onGenerate:c,isGenerating:r,onStop:o})}),x.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar bg-slate-900",children:x.jsx(Bm,{content:e,isGenerating:r,error:a,emptyStateMessage:"Masukkan data kasar di panel kiri untuk diubah menjadi narasi akademis.",icon:Bo})})]})]})},zO=({onGenerate:n,isGenerating:e,onStop:r})=>{const[a,s]=D.useState("kesimpulan"),[o,c]=D.useState(""),[f,h]=D.useState(""),g=()=>{if(a==="kesimpulan"&&!o.trim()){alert("Mohon isi poin-poin temuan utama dari Bab 4 agar kesimpulan akurat.");return}n({activeSection:a,keyFindings:o,suggestionTarget:f})};return x.jsxs("div",{className:"h-full flex flex-col",children:[x.jsxs("div",{className:"flex border-b border-slate-700 mb-4",children:[x.jsx("button",{onClick:()=>s("kesimpulan"),className:`flex-1 pb-2 text-xs font-semibold text-center transition-colors border-b-2 ${a==="kesimpulan"?"border-teal-500 text-teal-400":"border-transparent text-slate-500 hover:text-slate-300"}`,children:"1. Kesimpulan"}),x.jsx("button",{onClick:()=>s("saran"),className:`flex-1 pb-2 text-xs font-semibold text-center transition-colors border-b-2 ${a==="saran"?"border-teal-500 text-teal-400":"border-transparent text-slate-500 hover:text-slate-300"}`,children:"2. Saran"})]}),x.jsxs("div",{className:"space-y-4 overflow-y-auto custom-scrollbar pr-2 flex-1",children:[a==="kesimpulan"&&x.jsxs("div",{className:"animate-fade-in",children:[x.jsxs("label",{className:"block text-xs font-semibold text-teal-200 mb-2 flex items-center gap-1",children:[x.jsx(Q4,{size:14})," POIN TEMUAN UTAMA"]}),x.jsx("textarea",{className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-sm focus:ring-1 focus:ring-teal-500 outline-none text-slate-200 placeholder-slate-600 h-48",placeholder:`Contoh: 
- Hipotesis 1 diterima (sig 0.02).
- Strategi promosi IG paling efektif.
- Tidak ada beda kepuasan pria vs wanita.`,value:o,onChange:m=>c(m.target.value)}),x.jsx("p",{className:"text-[10px] text-slate-500 mt-2 italic",children:"*Tuliskan poin hasil analisis Bab 4. AI akan menyusunnya menjawab Rumusan Masalah."})]}),a==="saran"&&x.jsxs("div",{className:"animate-fade-in",children:[x.jsxs("label",{className:"block text-xs font-semibold text-teal-200 mb-2 flex items-center gap-1",children:[x.jsx(Jw,{size:14})," TARGET SARAN"]}),x.jsx("textarea",{className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-sm focus:ring-1 focus:ring-teal-500 outline-none text-slate-200 placeholder-slate-600 h-32",placeholder:`Contoh:
- Manajemen Perusahaan
- Kementerian Pendidikan
- Peneliti selanjutnya (menambah variabel X)`,value:f,onChange:m=>h(m.target.value)}),x.jsx("p",{className:"text-[10px] text-slate-500 mt-2 italic",children:"*Kepada siapa saran ditujukan? AI akan membuat saran operasional konkret."})]})]}),x.jsx("div",{className:"pt-4 mt-auto border-t border-slate-800",children:e?x.jsx("button",{onClick:r,className:"w-full py-2 bg-red-600 hover:bg-red-700 rounded text-sm font-medium transition-colors",children:"Stop Generation"}):x.jsxs("button",{onClick:g,className:"w-full py-2 bg-teal-700 hover:bg-teal-600 rounded text-sm font-medium transition-colors shadow-lg shadow-teal-900/20 flex items-center justify-center gap-2",children:[x.jsx(Vw,{size:16}),"Buat ",a==="kesimpulan"?"Kesimpulan":"Saran"]})})]})},RO=({context:n})=>{const{generatedContent:e,isGenerating:r,error:a,generateStream:s,stopGeneration:o}=yu(),c=f=>{s({task:f.activeSection==="kesimpulan"?"bab5_kesimpulan":"bab5_saran",context_title:n.title,context_problem:n.problem_statement,key_findings:f.keyFindings,suggestion_target:f.suggestionTarget,instruction:f.activeSection==="kesimpulan"?"Buat Kesimpulan yang menjawab Rumusan Masalah satu per satu berdasarkan temuan ini.":"Buat Saran Operasional (Praktis) dan Teoretis."})};return x.jsxs("div",{className:"flex flex-col h-full bg-slate-900 text-slate-100",children:[x.jsxs("div",{className:"p-4 border-b border-slate-700 bg-slate-800/50",children:[x.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2 text-teal-400",children:[x.jsx($p,{size:20}),"Bab 5: Penutup"]}),x.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Konsistensi: Kesimpulan harus menjawab ",x.jsxs("span",{className:"text-slate-200",children:['"',n.problem_statement?.substring(0,40),'..."']})]})]}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[x.jsx("div",{className:"w-1/3 p-4 border-r border-slate-700 bg-slate-900/50",children:x.jsx(zO,{onGenerate:c,isGenerating:r,onStop:o})}),x.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar bg-slate-900",children:x.jsx(Bm,{content:e,isGenerating:r,error:a,emptyStateMessage:"Masukkan poin temuan utama untuk menyusun Kesimpulan yang valid.",icon:$p})})]})]})},LO=n=>{const{activeChapterId:e,chapters:r,project:a}=Ia(),s=D.useMemo(()=>{if(!e)return 1;const c=r.find(h=>h.id===e);if(!c)return 1;const f=c.title.toLowerCase();return f.includes("pendahuluan")||f.includes("introduction")?1:f.includes("pustaka")||f.includes("literature")?2:f.includes("metode")||f.includes("method")?3:f.includes("hasil")||f.includes("result")||f.includes("pembahasan")?4:f.includes("penutup")||f.includes("conclusion")||f.includes("saran")?5:e.includes("1")?1:e.includes("2")?2:e.includes("3")?3:e.includes("4")?4:e.includes("5")?5:1},[e,r]),o=()=>{switch(s){case 1:return x.jsx(n2,{...n,context:a});case 2:return x.jsx(jO,{...n,context:a});case 3:return x.jsx(MO,{...n,context:a});case 4:return x.jsx(OO,{...n,context:a});case 5:return x.jsx(RO,{...n,context:a});default:return x.jsx(n2,{...n,context:a})}};return x.jsx(EO,{project:a,children:o()})},$O=n=>x.jsx("div",{className:"h-full w-full bg-slate-900",children:x.jsx(LO,{...n})}),UO=()=>{const{project:n,isPro:e,setShowUpgradeModal:r}=Ia(),a={role:"system",content:`Halo! Saya asisten skripsi Anda. Kita sedang membahas skripsi berjudul: "${n?.title||"..."}". Ada yang bisa saya bantu?`},[s,o]=D.useState([a]),[c,f]=D.useState(""),[h,g]=D.useState(!1),m=D.useRef(null),p=()=>{m.current?.scrollIntoView({behavior:"smooth"})};D.useEffect(()=>{p()},[s]),D.useEffect(()=>{o([{role:"system",content:`Halo! Saya siap membantu skripsi: "${n?.title||"..."}".`}])},[n?.id]);const v=async w=>{if(w.preventDefault(),!c.trim()||h)return;if(!e&&s.length>10){r(!0);return}const N={role:"user",content:c};o(C=>[...C,N]),f(""),g(!0);try{const C={title:n?.title,problem:n?.problem_statement,method:n?.methodology,variables:n?.variables_indicators},S=s.filter(O=>O.role!=="system").slice(-6),E=await fetch("/chat/stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:c,history:S,context:JSON.stringify(C),projectId:n?.id})});if(E.status===403){const O=await E.json();if(O.error==="LIMIT_REACHED"){o(A=>[...A,{role:"system",content:" "+O.message,isError:!0}]),r(!0),g(!1);return}}if(!E.ok)throw new Error("Network error");const T=E.body.getReader(),j=new TextDecoder;let M="";for(o(O=>[...O,{role:"assistant",content:""}]);;){const{done:O,value:A}=await T.read();if(O)break;const R=j.decode(A);M+=R,o($=>{const H=[...$],I=H[H.length-1];return I.role==="assistant"&&(I.content=M),H})}}catch(C){console.error("Chat error:",C),o(S=>[...S,{role:"system",content:"Maaf, terjadi kesalahan koneksi.",isError:!0}])}finally{g(!1)}},_=()=>{o([a])};return x.jsxs("div",{className:"flex flex-col h-full bg-[#0F1115]",children:[x.jsxs("div",{className:"p-2 border-b border-white/5 flex justify-between items-center bg-[#16181D]",children:[x.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider ml-2",children:"Chat Assistant"}),x.jsx("button",{onClick:_,className:"p-1 text-slate-500 hover:text-white",title:"Reset Chat",children:x.jsx(ij,{size:14})})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:[s.map((w,N)=>x.jsxs("div",{className:`flex gap-3 ${w.role==="user"?"flex-row-reverse":""}`,children:[x.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${w.role==="user"?"bg-[#6C5DD3]":"bg-[#252830]"}`,children:w.role==="user"?x.jsx(sd,{size:14,className:"text-white"}):x.jsx(su,{size:14,className:"text-[#6C5DD3]"})}),x.jsx("div",{className:`p-3 rounded-2xl max-w-[85%] text-sm leading-relaxed ${w.role==="user"?"bg-[#6C5DD3]/20 text-white border border-[#6C5DD3]/30 rounded-tr-none":w.isError?"bg-red-900/20 text-red-200 border border-red-500/30":"bg-[#1C1E24] text-slate-300 border border-white/10 rounded-tl-none"}`,children:w.content})]},N)),x.jsx("div",{ref:m})]}),x.jsxs("form",{onSubmit:v,className:"p-4 border-t border-white/5 bg-[#16181D]",children:[x.jsxs("div",{className:"relative flex items-center gap-2",children:[x.jsx("input",{type:"text",value:c,onChange:w=>f(w.target.value),placeholder:n?.title?`Tanya soal "${n.title.substring(0,15)}..."`:"Tanya sesuatu...",className:"flex-1 bg-[#0D0F12] border border-white/10 text-white text-sm rounded-xl px-4 py-3 focus:outline-none focus:border-[#6C5DD3] transition-all placeholder-slate-600",disabled:h}),x.jsx("button",{type:"submit",disabled:h||!c.trim(),className:"p-3 bg-[#6C5DD3] hover:bg-[#5b4eb5] text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-[#6C5DD3]/20",children:h?x.jsx(yA,{className:"animate-spin",size:18}):x.jsx(SA,{size:18})})]}),x.jsx("div",{className:"text-center mt-2 flex justify-between px-1",children:x.jsx("span",{className:"text-[10px] text-slate-500",children:e?" Mode Pro: Context Aware":"Free Mode: Max 200 words"})})]})]})};function BO(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var a,s,o,c,f=[],h=!0,g=!1;try{if(o=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;h=!1}else for(;!(h=(a=o.call(r)).done)&&(f.push(a.value),f.length!==e);h=!0);}catch(m){g=!0,s=m}finally{try{if(!h&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw s}}return f}}function HO(n,e,r){return e=VO(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function i2(n,e){return qO(n)||BO(n,e)||uN(n,e)||IO()}function PO(n){return FO(n)||GO(n)||uN(n)||KO()}function FO(n){if(Array.isArray(n))return b0(n)}function qO(n){if(Array.isArray(n))return n}function GO(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function uN(n,e){if(n){if(typeof n=="string")return b0(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b0(n,e)}}function b0(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=n[r];return a}function KO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YO(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function VO(n){var e=YO(n,"string");return typeof e=="symbol"?e:String(e)}var XO=function(e,r){var a=new Set(r);return Object.assign.apply(Object,[{}].concat(PO(Object.entries(e).filter(function(s){var o=i2(s,1),c=o[0];return!a.has(c)}).map(function(s){var o=i2(s,2),c=o[0],f=o[1];return HO({},c,f)}))))};function _0(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,a=Array(e);r<e;r++)a[r]=n[r];return a}function QO(n){if(Array.isArray(n))return n}function ZO(n){if(Array.isArray(n))return _0(n)}function JO(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function WO(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var a,s,o,c,f=[],h=!0,g=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(h=(a=o.call(r)).done)&&(f.push(a.value),f.length!==e);h=!0);}catch(m){g=!0,s=m}finally{try{if(!h&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw s}}return f}}function e8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n8(n,e){return QO(n)||WO(n,e)||cN(n,e)||e8()}function a2(n){return ZO(n)||JO(n)||cN(n)||t8()}function cN(n,e){if(n){if(typeof n=="string")return _0(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_0(n,e):void 0}}function r8(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.wrapperElementType,a=r===void 0?"div":r,s=e.nodeMapper,o=s===void 0?function(m){return m}:s,c=e.methodNames,f=c===void 0?[]:c,h=e.initPropNames,g=h===void 0?[]:h;return D.forwardRef(function(m,p){var v=D.useRef(),_=D.useMemo(function(){var C=Object.fromEntries(g.filter(function(S){return m.hasOwnProperty(S)}).map(function(S){return[S,m[S]]}));return n(C)},[]);l2(function(){_(o(v.current))},D.useLayoutEffect),l2(function(){return _._destructor instanceof Function?_._destructor:void 0});var w=D.useCallback(function(C){for(var S=arguments.length,E=new Array(S>1?S-1:0),T=1;T<S;T++)E[T-1]=arguments[T];return _[C]instanceof Function?_[C].apply(_,E):void 0},[_]),N=D.useRef({});return Object.keys(XO(m,[].concat(a2(f),a2(g)))).filter(function(C){return N.current[C]!==m[C]}).forEach(function(C){return w(C,m[C])}),N.current=m,D.useImperativeHandle(p,function(){return Object.fromEntries(f.map(function(C){return[C,function(){for(var S=arguments.length,E=new Array(S),T=0;T<S;T++)E[T]=arguments[T];return w.apply(void 0,[C].concat(E))}]}))},[w]),$o.createElement(a,{ref:v})})}function l2(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D.useEffect,r=D.useRef(),a=D.useRef(!1),s=D.useRef(!1),o=D.useState(0),c=n8(o,2);c[0];var f=c[1];a.current&&(s.current=!0),e(function(){return a.current||(r.current=n(),a.current=!0),f(function(h){return h+1}),function(){s.current&&r.current&&r.current()}},[])}var w0="http://www.w3.org/1999/xhtml";const s2={svg:"http://www.w3.org/2000/svg",xhtml:w0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cd(n){var e=n+="",r=e.indexOf(":");return r>=0&&(e=n.slice(0,r))!=="xmlns"&&(n=n.slice(r+1)),s2.hasOwnProperty(e)?{space:s2[e],local:n}:n}function i8(n){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===w0&&e.documentElement.namespaceURI===w0?e.createElement(n):e.createElementNS(r,n)}}function a8(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function fN(n){var e=Cd(n);return(e.local?a8:i8)(e)}function l8(){}function Hm(n){return n==null?l8:function(){return this.querySelector(n)}}function s8(n){typeof n!="function"&&(n=Hm(n));for(var e=this._groups,r=e.length,a=new Array(r),s=0;s<r;++s)for(var o=e[s],c=o.length,f=a[s]=new Array(c),h,g,m=0;m<c;++m)(h=o[m])&&(g=n.call(h,h.__data__,m,o))&&("__data__"in h&&(g.__data__=h.__data__),f[m]=g);return new bn(a,this._parents)}function o8(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function u8(){return[]}function dN(n){return n==null?u8:function(){return this.querySelectorAll(n)}}function c8(n){return function(){return o8(n.apply(this,arguments))}}function f8(n){typeof n=="function"?n=c8(n):n=dN(n);for(var e=this._groups,r=e.length,a=[],s=[],o=0;o<r;++o)for(var c=e[o],f=c.length,h,g=0;g<f;++g)(h=c[g])&&(a.push(n.call(h,h.__data__,g,c)),s.push(h));return new bn(a,s)}function hN(n){return function(){return this.matches(n)}}function gN(n){return function(e){return e.matches(n)}}var d8=Array.prototype.find;function h8(n){return function(){return d8.call(this.children,n)}}function g8(){return this.firstElementChild}function p8(n){return this.select(n==null?g8:h8(typeof n=="function"?n:gN(n)))}var m8=Array.prototype.filter;function y8(){return Array.from(this.children)}function x8(n){return function(){return m8.call(this.children,n)}}function v8(n){return this.selectAll(n==null?y8:x8(typeof n=="function"?n:gN(n)))}function b8(n){typeof n!="function"&&(n=hN(n));for(var e=this._groups,r=e.length,a=new Array(r),s=0;s<r;++s)for(var o=e[s],c=o.length,f=a[s]=[],h,g=0;g<c;++g)(h=o[g])&&n.call(h,h.__data__,g,o)&&f.push(h);return new bn(a,this._parents)}function pN(n){return new Array(n.length)}function _8(){return new bn(this._enter||this._groups.map(pN),this._parents)}function qf(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}qf.prototype={constructor:qf,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function w8(n){return function(){return n}}function S8(n,e,r,a,s,o){for(var c=0,f,h=e.length,g=o.length;c<g;++c)(f=e[c])?(f.__data__=o[c],a[c]=f):r[c]=new qf(n,o[c]);for(;c<h;++c)(f=e[c])&&(s[c]=f)}function C8(n,e,r,a,s,o,c){var f,h,g=new Map,m=e.length,p=o.length,v=new Array(m),_;for(f=0;f<m;++f)(h=e[f])&&(v[f]=_=c.call(h,h.__data__,f,e)+"",g.has(_)?s[f]=h:g.set(_,h));for(f=0;f<p;++f)_=c.call(n,o[f],f,o)+"",(h=g.get(_))?(a[f]=h,h.__data__=o[f],g.delete(_)):r[f]=new qf(n,o[f]);for(f=0;f<m;++f)(h=e[f])&&g.get(v[f])===h&&(s[f]=h)}function N8(n){return n.__data__}function k8(n,e){if(!arguments.length)return Array.from(this,N8);var r=e?C8:S8,a=this._parents,s=this._groups;typeof n!="function"&&(n=w8(n));for(var o=s.length,c=new Array(o),f=new Array(o),h=new Array(o),g=0;g<o;++g){var m=a[g],p=s[g],v=p.length,_=E8(n.call(m,m&&m.__data__,g,a)),w=_.length,N=f[g]=new Array(w),C=c[g]=new Array(w),S=h[g]=new Array(v);r(m,p,N,C,S,_,e);for(var E=0,T=0,j,M;E<w;++E)if(j=N[E]){for(E>=T&&(T=E+1);!(M=C[T])&&++T<w;);j._next=M||null}}return c=new bn(c,a),c._enter=f,c._exit=h,c}function E8(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function T8(){return new bn(this._exit||this._groups.map(pN),this._parents)}function j8(n,e,r){var a=this.enter(),s=this,o=this.exit();return typeof n=="function"?(a=n(a),a&&(a=a.selection())):a=a.append(n+""),e!=null&&(s=e(s),s&&(s=s.selection())),r==null?o.remove():r(o),a&&s?a.merge(s).order():s}function A8(n){for(var e=n.selection?n.selection():n,r=this._groups,a=e._groups,s=r.length,o=a.length,c=Math.min(s,o),f=new Array(s),h=0;h<c;++h)for(var g=r[h],m=a[h],p=g.length,v=f[h]=new Array(p),_,w=0;w<p;++w)(_=g[w]||m[w])&&(v[w]=_);for(;h<s;++h)f[h]=r[h];return new bn(f,this._parents)}function M8(){for(var n=this._groups,e=-1,r=n.length;++e<r;)for(var a=n[e],s=a.length-1,o=a[s],c;--s>=0;)(c=a[s])&&(o&&c.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(c,o),o=c);return this}function D8(n){n||(n=O8);function e(p,v){return p&&v?n(p.__data__,v.__data__):!p-!v}for(var r=this._groups,a=r.length,s=new Array(a),o=0;o<a;++o){for(var c=r[o],f=c.length,h=s[o]=new Array(f),g,m=0;m<f;++m)(g=c[m])&&(h[m]=g);h.sort(e)}return new bn(s,this._parents).order()}function O8(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function z8(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function R8(){return Array.from(this)}function L8(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var a=n[e],s=0,o=a.length;s<o;++s){var c=a[s];if(c)return c}return null}function $8(){let n=0;for(const e of this)++n;return n}function U8(){return!this.node()}function B8(n){for(var e=this._groups,r=0,a=e.length;r<a;++r)for(var s=e[r],o=0,c=s.length,f;o<c;++o)(f=s[o])&&n.call(f,f.__data__,o,s);return this}function H8(n){return function(){this.removeAttribute(n)}}function P8(n){return function(){this.removeAttributeNS(n.space,n.local)}}function F8(n,e){return function(){this.setAttribute(n,e)}}function q8(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function G8(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(n):this.setAttribute(n,r)}}function K8(n,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,r)}}function I8(n,e){var r=Cd(n);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((e==null?r.local?P8:H8:typeof e=="function"?r.local?K8:G8:r.local?q8:F8)(r,e))}function mN(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Y8(n){return function(){this.style.removeProperty(n)}}function V8(n,e,r){return function(){this.style.setProperty(n,e,r)}}function X8(n,e,r){return function(){var a=e.apply(this,arguments);a==null?this.style.removeProperty(n):this.style.setProperty(n,a,r)}}function Q8(n,e,r){return arguments.length>1?this.each((e==null?Y8:typeof e=="function"?X8:V8)(n,e,r??"")):ts(this.node(),n)}function ts(n,e){return n.style.getPropertyValue(e)||mN(n).getComputedStyle(n,null).getPropertyValue(e)}function Z8(n){return function(){delete this[n]}}function J8(n,e){return function(){this[n]=e}}function W8(n,e){return function(){var r=e.apply(this,arguments);r==null?delete this[n]:this[n]=r}}function ez(n,e){return arguments.length>1?this.each((e==null?Z8:typeof e=="function"?W8:J8)(n,e)):this.node()[n]}function yN(n){return n.trim().split(/^|\s+/)}function Pm(n){return n.classList||new xN(n)}function xN(n){this._node=n,this._names=yN(n.getAttribute("class")||"")}xN.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function vN(n,e){for(var r=Pm(n),a=-1,s=e.length;++a<s;)r.add(e[a])}function bN(n,e){for(var r=Pm(n),a=-1,s=e.length;++a<s;)r.remove(e[a])}function tz(n){return function(){vN(this,n)}}function nz(n){return function(){bN(this,n)}}function rz(n,e){return function(){(e.apply(this,arguments)?vN:bN)(this,n)}}function iz(n,e){var r=yN(n+"");if(arguments.length<2){for(var a=Pm(this.node()),s=-1,o=r.length;++s<o;)if(!a.contains(r[s]))return!1;return!0}return this.each((typeof e=="function"?rz:e?tz:nz)(r,e))}function az(){this.textContent=""}function lz(n){return function(){this.textContent=n}}function sz(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function oz(n){return arguments.length?this.each(n==null?az:(typeof n=="function"?sz:lz)(n)):this.node().textContent}function uz(){this.innerHTML=""}function cz(n){return function(){this.innerHTML=n}}function fz(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function dz(n){return arguments.length?this.each(n==null?uz:(typeof n=="function"?fz:cz)(n)):this.node().innerHTML}function hz(){this.nextSibling&&this.parentNode.appendChild(this)}function gz(){return this.each(hz)}function pz(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mz(){return this.each(pz)}function yz(n){var e=typeof n=="function"?n:fN(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function xz(){return null}function vz(n,e){var r=typeof n=="function"?n:fN(n),a=e==null?xz:typeof e=="function"?e:Hm(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function bz(){var n=this.parentNode;n&&n.removeChild(this)}function _z(){return this.each(bz)}function wz(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Sz(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Cz(n){return this.select(n?Sz:wz)}function Nz(n){return arguments.length?this.property("__data__",n):this.node().__data__}function kz(n){return function(e){n.call(this,e,this.__data__)}}function Ez(n){return n.trim().split(/^|\s+/).map(function(e){var r="",a=e.indexOf(".");return a>=0&&(r=e.slice(a+1),e=e.slice(0,a)),{type:e,name:r}})}function Tz(n){return function(){var e=this.__on;if(e){for(var r=0,a=-1,s=e.length,o;r<s;++r)o=e[r],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):e[++a]=o;++a?e.length=a:delete this.__on}}}function jz(n,e,r){return function(){var a=this.__on,s,o=kz(e);if(a){for(var c=0,f=a.length;c<f;++c)if((s=a[c]).type===n.type&&s.name===n.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=r),s.value=e;return}}this.addEventListener(n.type,o,r),s={type:n.type,name:n.name,value:e,listener:o,options:r},a?a.push(s):this.__on=[s]}}function Az(n,e,r){var a=Ez(n+""),s,o=a.length,c;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,g=f.length,m;h<g;++h)for(s=0,m=f[h];s<o;++s)if((c=a[s]).type===m.type&&c.name===m.name)return m.value}return}for(f=e?jz:Tz,s=0;s<o;++s)this.each(f(a[s],e,r));return this}function _N(n,e,r){var a=mN(n),s=a.CustomEvent;typeof s=="function"?s=new s(e,r):(s=a.document.createEvent("Event"),r?(s.initEvent(e,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(e,!1,!1)),n.dispatchEvent(s)}function Mz(n,e){return function(){return _N(this,n,e)}}function Dz(n,e){return function(){return _N(this,n,e.apply(this,arguments))}}function Oz(n,e){return this.each((typeof e=="function"?Dz:Mz)(n,e))}function*zz(){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var a=n[e],s=0,o=a.length,c;s<o;++s)(c=a[s])&&(yield c)}var wN=[null];function bn(n,e){this._groups=n,this._parents=e}function xu(){return new bn([[document.documentElement]],wN)}function Rz(){return this}bn.prototype=xu.prototype={constructor:bn,select:s8,selectAll:f8,selectChild:p8,selectChildren:v8,filter:b8,data:k8,enter:_8,exit:T8,join:j8,merge:A8,selection:Rz,order:M8,sort:D8,call:z8,nodes:R8,node:L8,size:$8,empty:U8,each:B8,attr:I8,style:Q8,property:ez,classed:iz,text:oz,html:dz,raise:gz,lower:mz,append:yz,insert:vz,remove:_z,clone:Cz,datum:Nz,on:Az,dispatch:Oz,[Symbol.iterator]:zz};function Rn(n){return typeof n=="string"?new bn([[document.querySelector(n)]],[document.documentElement]):new bn([[n]],wN)}function Lz(n){let e;for(;e=n.sourceEvent;)n=e;return n}function fr(n,e){if(n=Lz(n),e===void 0&&(e=n.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=n.clientX,a.y=n.clientY,a=a.matrixTransform(e.getScreenCTM().inverse()),[a.x,a.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[n.clientX-s.left-e.clientLeft,n.clientY-s.top-e.clientTop]}}return[n.pageX,n.pageY]}var $z={value:()=>{}};function vu(){for(var n=0,e=arguments.length,r={},a;n<e;++n){if(!(a=arguments[n]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new yf(r)}function yf(n){this._=n}function Uz(n,e){return n.trim().split(/^|\s+/).map(function(r){var a="",s=r.indexOf(".");if(s>=0&&(a=r.slice(s+1),r=r.slice(0,s)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}yf.prototype=vu.prototype={constructor:yf,on:function(n,e){var r=this._,a=Uz(n+"",r),s,o=-1,c=a.length;if(arguments.length<2){for(;++o<c;)if((s=(n=a[o]).type)&&(s=Bz(r[s],n.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<c;)if(s=(n=a[o]).type)r[s]=o2(r[s],n.name,e);else if(e==null)for(s in r)r[s]=o2(r[s],n.name,null);return this},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new yf(n)},call:function(n,e){if((s=arguments.length-2)>0)for(var r=new Array(s),a=0,s,o;a<s;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],a=0,s=o.length;a<s;++a)o[a].value.apply(e,r)},apply:function(n,e,r){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var a=this._[n],s=0,o=a.length;s<o;++s)a[s].value.apply(e,r)}};function Bz(n,e){for(var r=0,a=n.length,s;r<a;++r)if((s=n[r]).name===e)return s.value}function o2(n,e,r){for(var a=0,s=n.length;a<s;++a)if(n[a].name===e){n[a]=$z,n=n.slice(0,a).concat(n.slice(a+1));break}return r!=null&&n.push({name:e,value:r}),n}const Hz={passive:!1},Qo={capture:!0,passive:!1};function _p(n){n.stopImmediatePropagation()}function Yl(n){n.preventDefault(),n.stopImmediatePropagation()}function SN(n){var e=n.document.documentElement,r=Rn(n).on("dragstart.drag",Yl,Qo);"onselectstart"in e?r.on("selectstart.drag",Yl,Qo):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function CN(n,e){var r=n.document.documentElement,a=Rn(n).on("dragstart.drag",null);e&&(a.on("click.drag",Yl,Qo),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Wc=n=>()=>n;function S0(n,{sourceEvent:e,subject:r,target:a,identifier:s,active:o,x:c,y:f,dx:h,dy:g,dispatch:m}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:m}})}S0.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function Pz(n){return!n.ctrlKey&&!n.button}function Fz(){return this.parentNode}function qz(n,e){return e??{x:n.x,y:n.y}}function Gz(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kz(){var n=Pz,e=Fz,r=qz,a=Gz,s={},o=vu("start","drag","end"),c=0,f,h,g,m,p=0;function v(j){j.on("mousedown.drag",_).filter(a).on("touchstart.drag",C).on("touchmove.drag",S,Hz).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(j,M){if(!(m||!n.call(this,j,M))){var O=T(this,e.call(this,j,M),j,M,"mouse");O&&(Rn(j.view).on("mousemove.drag",w,Qo).on("mouseup.drag",N,Qo),SN(j.view),_p(j),g=!1,f=j.clientX,h=j.clientY,O("start",j))}}function w(j){if(Yl(j),!g){var M=j.clientX-f,O=j.clientY-h;g=M*M+O*O>p}s.mouse("drag",j)}function N(j){Rn(j.view).on("mousemove.drag mouseup.drag",null),CN(j.view,g),Yl(j),s.mouse("end",j)}function C(j,M){if(n.call(this,j,M)){var O=j.changedTouches,A=e.call(this,j,M),R=O.length,$,H;for($=0;$<R;++$)(H=T(this,A,j,M,O[$].identifier,O[$]))&&(_p(j),H("start",j,O[$]))}}function S(j){var M=j.changedTouches,O=M.length,A,R;for(A=0;A<O;++A)(R=s[M[A].identifier])&&(Yl(j),R("drag",j,M[A]))}function E(j){var M=j.changedTouches,O=M.length,A,R;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),A=0;A<O;++A)(R=s[M[A].identifier])&&(_p(j),R("end",j,M[A]))}function T(j,M,O,A,R,$){var H=o.copy(),I=fr($||O,M),F,Q,B;if((B=r.call(j,new S0("beforestart",{sourceEvent:O,target:v,identifier:R,active:c,x:I[0],y:I[1],dx:0,dy:0,dispatch:H}),A))!=null)return F=B.x-I[0]||0,Q=B.y-I[1]||0,function te(L,Y,se){var ce=I,ge;switch(L){case"start":s[R]=te,ge=c++;break;case"end":delete s[R],--c;case"drag":I=fr(se||Y,M),ge=c;break}H.call(L,j,new S0(L,{sourceEvent:Y,subject:B,target:v,identifier:R,active:ge,x:I[0]+F,y:I[1]+Q,dx:I[0]-ce[0],dy:I[1]-ce[1],dispatch:H}),A)}}return v.filter=function(j){return arguments.length?(n=typeof j=="function"?j:Wc(!!j),v):n},v.container=function(j){return arguments.length?(e=typeof j=="function"?j:Wc(j),v):e},v.subject=function(j){return arguments.length?(r=typeof j=="function"?j:Wc(j),v):r},v.touchable=function(j){return arguments.length?(a=typeof j=="function"?j:Wc(!!j),v):a},v.on=function(){var j=o.on.apply(o,arguments);return j===o?v:j},v.clickDistance=function(j){return arguments.length?(p=(j=+j)*j,v):Math.sqrt(p)},v}function Fm(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function NN(n,e){var r=Object.create(n.prototype);for(var a in e)r[a]=e[a];return r}function bu(){}var Zo=.7,Gf=1/Zo,Vl="\\s*([+-]?\\d+)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Iz=/^#([0-9a-f]{3,8})$/,Yz=new RegExp(`^rgb\\(${Vl},${Vl},${Vl}\\)$`),Vz=new RegExp(`^rgb\\(${xr},${xr},${xr}\\)$`),Xz=new RegExp(`^rgba\\(${Vl},${Vl},${Vl},${Jo}\\)$`),Qz=new RegExp(`^rgba\\(${xr},${xr},${xr},${Jo}\\)$`),Zz=new RegExp(`^hsl\\(${Jo},${xr},${xr}\\)$`),Jz=new RegExp(`^hsla\\(${Jo},${xr},${xr},${Jo}\\)$`),u2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fm(bu,Wo,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:c2,formatHex:c2,formatHex8:Wz,formatHsl:eR,formatRgb:f2,toString:f2});function c2(){return this.rgb().formatHex()}function Wz(){return this.rgb().formatHex8()}function eR(){return kN(this).formatHsl()}function f2(){return this.rgb().formatRgb()}function Wo(n){var e,r;return n=(n+"").trim().toLowerCase(),(e=Iz.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?d2(e):r===3?new nn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ef(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ef(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Yz.exec(n))?new nn(e[1],e[2],e[3],1):(e=Vz.exec(n))?new nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xz.exec(n))?ef(e[1],e[2],e[3],e[4]):(e=Qz.exec(n))?ef(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zz.exec(n))?p2(e[1],e[2]/100,e[3]/100,1):(e=Jz.exec(n))?p2(e[1],e[2]/100,e[3]/100,e[4]):u2.hasOwnProperty(n)?d2(u2[n]):n==="transparent"?new nn(NaN,NaN,NaN,0):null}function d2(n){return new nn(n>>16&255,n>>8&255,n&255,1)}function ef(n,e,r,a){return a<=0&&(n=e=r=NaN),new nn(n,e,r,a)}function tR(n){return n instanceof bu||(n=Wo(n)),n?(n=n.rgb(),new nn(n.r,n.g,n.b,n.opacity)):new nn}function C0(n,e,r,a){return arguments.length===1?tR(n):new nn(n,e,r,a??1)}function nn(n,e,r,a){this.r=+n,this.g=+e,this.b=+r,this.opacity=+a}Fm(nn,C0,NN(bu,{brighter(n){return n=n==null?Gf:Math.pow(Gf,n),new nn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Zo:Math.pow(Zo,n),new nn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new nn(ja(this.r),ja(this.g),ja(this.b),Kf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h2,formatHex:h2,formatHex8:nR,formatRgb:g2,toString:g2}));function h2(){return`#${Ca(this.r)}${Ca(this.g)}${Ca(this.b)}`}function nR(){return`#${Ca(this.r)}${Ca(this.g)}${Ca(this.b)}${Ca((isNaN(this.opacity)?1:this.opacity)*255)}`}function g2(){const n=Kf(this.opacity);return`${n===1?"rgb(":"rgba("}${ja(this.r)}, ${ja(this.g)}, ${ja(this.b)}${n===1?")":`, ${n})`}`}function Kf(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function ja(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Ca(n){return n=ja(n),(n<16?"0":"")+n.toString(16)}function p2(n,e,r,a){return a<=0?n=e=r=NaN:r<=0||r>=1?n=e=NaN:e<=0&&(n=NaN),new Yn(n,e,r,a)}function kN(n){if(n instanceof Yn)return new Yn(n.h,n.s,n.l,n.opacity);if(n instanceof bu||(n=Wo(n)),!n)return new Yn;if(n instanceof Yn)return n;n=n.rgb();var e=n.r/255,r=n.g/255,a=n.b/255,s=Math.min(e,r,a),o=Math.max(e,r,a),c=NaN,f=o-s,h=(o+s)/2;return f?(e===o?c=(r-a)/f+(r<a)*6:r===o?c=(a-e)/f+2:c=(e-r)/f+4,f/=h<.5?o+s:2-o-s,c*=60):f=h>0&&h<1?0:c,new Yn(c,f,h,n.opacity)}function rR(n,e,r,a){return arguments.length===1?kN(n):new Yn(n,e,r,a??1)}function Yn(n,e,r,a){this.h=+n,this.s=+e,this.l=+r,this.opacity=+a}Fm(Yn,rR,NN(bu,{brighter(n){return n=n==null?Gf:Math.pow(Gf,n),new Yn(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Zo:Math.pow(Zo,n),new Yn(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*e,s=2*r-a;return new nn(wp(n>=240?n-240:n+120,s,a),wp(n,s,a),wp(n<120?n+240:n-120,s,a),this.opacity)},clamp(){return new Yn(m2(this.h),tf(this.s),tf(this.l),Kf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Kf(this.opacity);return`${n===1?"hsl(":"hsla("}${m2(this.h)}, ${tf(this.s)*100}%, ${tf(this.l)*100}%${n===1?")":`, ${n})`}`}}));function m2(n){return n=(n||0)%360,n<0?n+360:n}function tf(n){return Math.max(0,Math.min(1,n||0))}function wp(n,e,r){return(n<60?e+(r-e)*n/60:n<180?r:n<240?e+(r-e)*(240-n)/60:e)*255}const EN=n=>()=>n;function iR(n,e){return function(r){return n+r*e}}function aR(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(a){return Math.pow(n+a*e,r)}}function lR(n){return(n=+n)==1?TN:function(e,r){return r-e?aR(e,r,n):EN(isNaN(e)?r:e)}}function TN(n,e){var r=e-n;return r?iR(n,r):EN(isNaN(n)?e:n)}const y2=(function n(e){var r=lR(e);function a(s,o){var c=r((s=C0(s)).r,(o=C0(o)).r),f=r(s.g,o.g),h=r(s.b,o.b),g=TN(s.opacity,o.opacity);return function(m){return s.r=c(m),s.g=f(m),s.b=h(m),s.opacity=g(m),s+""}}return a.gamma=n,a})(1);function $i(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}var N0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sp=new RegExp(N0.source,"g");function sR(n){return function(){return n}}function oR(n){return function(e){return n(e)+""}}function uR(n,e){var r=N0.lastIndex=Sp.lastIndex=0,a,s,o,c=-1,f=[],h=[];for(n=n+"",e=e+"";(a=N0.exec(n))&&(s=Sp.exec(e));)(o=s.index)>r&&(o=e.slice(r,o),f[c]?f[c]+=o:f[++c]=o),(a=a[0])===(s=s[0])?f[c]?f[c]+=s:f[++c]=s:(f[++c]=null,h.push({i:c,x:$i(a,s)})),r=Sp.lastIndex;return r<e.length&&(o=e.slice(r),f[c]?f[c]+=o:f[++c]=o),f.length<2?h[0]?oR(h[0].x):sR(e):(e=h.length,function(g){for(var m=0,p;m<e;++m)f[(p=h[m]).i]=p.x(g);return f.join("")})}var x2=180/Math.PI,k0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jN(n,e,r,a,s,o){var c,f,h;return(c=Math.sqrt(n*n+e*e))&&(n/=c,e/=c),(h=n*r+e*a)&&(r-=n*h,a-=e*h),(f=Math.sqrt(r*r+a*a))&&(r/=f,a/=f,h/=f),n*a<e*r&&(n=-n,e=-e,h=-h,c=-c),{translateX:s,translateY:o,rotate:Math.atan2(e,n)*x2,skewX:Math.atan(h)*x2,scaleX:c,scaleY:f}}var nf;function cR(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?k0:jN(e.a,e.b,e.c,e.d,e.e,e.f)}function fR(n){return n==null||(nf||(nf=document.createElementNS("http://www.w3.org/2000/svg","g")),nf.setAttribute("transform",n),!(n=nf.transform.baseVal.consolidate()))?k0:(n=n.matrix,jN(n.a,n.b,n.c,n.d,n.e,n.f))}function AN(n,e,r,a){function s(g){return g.length?g.pop()+" ":""}function o(g,m,p,v,_,w){if(g!==p||m!==v){var N=_.push("translate(",null,e,null,r);w.push({i:N-4,x:$i(g,p)},{i:N-2,x:$i(m,v)})}else(p||v)&&_.push("translate("+p+e+v+r)}function c(g,m,p,v){g!==m?(g-m>180?m+=360:m-g>180&&(g+=360),v.push({i:p.push(s(p)+"rotate(",null,a)-2,x:$i(g,m)})):m&&p.push(s(p)+"rotate("+m+a)}function f(g,m,p,v){g!==m?v.push({i:p.push(s(p)+"skewX(",null,a)-2,x:$i(g,m)}):m&&p.push(s(p)+"skewX("+m+a)}function h(g,m,p,v,_,w){if(g!==p||m!==v){var N=_.push(s(_)+"scale(",null,",",null,")");w.push({i:N-4,x:$i(g,p)},{i:N-2,x:$i(m,v)})}else(p!==1||v!==1)&&_.push(s(_)+"scale("+p+","+v+")")}return function(g,m){var p=[],v=[];return g=n(g),m=n(m),o(g.translateX,g.translateY,m.translateX,m.translateY,p,v),c(g.rotate,m.rotate,p,v),f(g.skewX,m.skewX,p,v),h(g.scaleX,g.scaleY,m.scaleX,m.scaleY,p,v),g=m=null,function(_){for(var w=-1,N=v.length,C;++w<N;)p[(C=v[w]).i]=C.x(_);return p.join("")}}}var dR=AN(cR,"px, ","px)","deg)"),hR=AN(fR,", ",")",")"),gR=1e-12;function v2(n){return((n=Math.exp(n))+1/n)/2}function pR(n){return((n=Math.exp(n))-1/n)/2}function mR(n){return((n=Math.exp(2*n))-1)/(n+1)}const yR=(function n(e,r,a){function s(o,c){var f=o[0],h=o[1],g=o[2],m=c[0],p=c[1],v=c[2],_=m-f,w=p-h,N=_*_+w*w,C,S;if(N<gR)S=Math.log(v/g)/e,C=function(A){return[f+A*_,h+A*w,g*Math.exp(e*A*S)]};else{var E=Math.sqrt(N),T=(v*v-g*g+a*N)/(2*g*r*E),j=(v*v-g*g-a*N)/(2*v*r*E),M=Math.log(Math.sqrt(T*T+1)-T),O=Math.log(Math.sqrt(j*j+1)-j);S=(O-M)/e,C=function(A){var R=A*S,$=v2(M),H=g/(r*E)*($*mR(e*R+M)-pR(M));return[f+H*_,h+H*w,g*$/v2(e*R+M)]}}return C.duration=S*1e3*e/Math.SQRT2,C}return s.rho=function(o){var c=Math.max(.001,+o),f=c*c,h=f*f;return n(c,f,h)},s})(Math.SQRT2,2,4);var ns=0,ko=0,ho=0,MN=1e3,If,Eo,Yf=0,Fa=0,Nd=0,eu=typeof performance=="object"&&performance.now?performance:Date,DN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function qm(){return Fa||(DN(xR),Fa=eu.now()+Nd)}function xR(){Fa=0}function Vf(){this._call=this._time=this._next=null}Vf.prototype=Gm.prototype={constructor:Vf,restart:function(n,e,r){if(typeof n!="function")throw new TypeError("callback is not a function");r=(r==null?qm():+r)+(e==null?0:+e),!this._next&&Eo!==this&&(Eo?Eo._next=this:If=this,Eo=this),this._call=n,this._time=r,E0()},stop:function(){this._call&&(this._call=null,this._time=1/0,E0())}};function Gm(n,e,r){var a=new Vf;return a.restart(n,e,r),a}function vR(){qm(),++ns;for(var n=If,e;n;)(e=Fa-n._time)>=0&&n._call.call(void 0,e),n=n._next;--ns}function b2(){Fa=(Yf=eu.now())+Nd,ns=ko=0;try{vR()}finally{ns=0,_R(),Fa=0}}function bR(){var n=eu.now(),e=n-Yf;e>MN&&(Nd-=e,Yf=n)}function _R(){for(var n,e=If,r,a=1/0;e;)e._call?(a>e._time&&(a=e._time),n=e,e=e._next):(r=e._next,e._next=null,e=n?n._next=r:If=r);Eo=n,E0(a)}function E0(n){if(!ns){ko&&(ko=clearTimeout(ko));var e=n-Fa;e>24?(n<1/0&&(ko=setTimeout(b2,n-eu.now()-Nd)),ho&&(ho=clearInterval(ho))):(ho||(Yf=eu.now(),ho=setInterval(bR,MN)),ns=1,DN(b2))}}function _2(n,e,r){var a=new Vf;return e=e==null?0:+e,a.restart(s=>{a.stop(),n(s+e)},e,r),a}var wR=vu("start","end","cancel","interrupt"),SR=[],ON=0,w2=1,T0=2,xf=3,S2=4,j0=5,vf=6;function kd(n,e,r,a,s,o){var c=n.__transition;if(!c)n.__transition={};else if(r in c)return;CR(n,r,{name:e,index:a,group:s,on:wR,tween:SR,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ON})}function Km(n,e){var r=ir(n,e);if(r.state>ON)throw new Error("too late; already scheduled");return r}function _r(n,e){var r=ir(n,e);if(r.state>xf)throw new Error("too late; already running");return r}function ir(n,e){var r=n.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function CR(n,e,r){var a=n.__transition,s;a[e]=r,r.timer=Gm(o,0,r.time);function o(g){r.state=w2,r.timer.restart(c,r.delay,r.time),r.delay<=g&&c(g-r.delay)}function c(g){var m,p,v,_;if(r.state!==w2)return h();for(m in a)if(_=a[m],_.name===r.name){if(_.state===xf)return _2(c);_.state===S2?(_.state=vf,_.timer.stop(),_.on.call("interrupt",n,n.__data__,_.index,_.group),delete a[m]):+m<e&&(_.state=vf,_.timer.stop(),_.on.call("cancel",n,n.__data__,_.index,_.group),delete a[m])}if(_2(function(){r.state===xf&&(r.state=S2,r.timer.restart(f,r.delay,r.time),f(g))}),r.state=T0,r.on.call("start",n,n.__data__,r.index,r.group),r.state===T0){for(r.state=xf,s=new Array(v=r.tween.length),m=0,p=-1;m<v;++m)(_=r.tween[m].value.call(n,n.__data__,r.index,r.group))&&(s[++p]=_);s.length=p+1}}function f(g){for(var m=g<r.duration?r.ease.call(null,g/r.duration):(r.timer.restart(h),r.state=j0,1),p=-1,v=s.length;++p<v;)s[p].call(n,m);r.state===j0&&(r.on.call("end",n,n.__data__,r.index,r.group),h())}function h(){r.state=vf,r.timer.stop(),delete a[e];for(var g in a)return;delete n.__transition}}function bf(n,e){var r=n.__transition,a,s,o=!0,c;if(r){e=e==null?null:e+"";for(c in r){if((a=r[c]).name!==e){o=!1;continue}s=a.state>T0&&a.state<j0,a.state=vf,a.timer.stop(),a.on.call(s?"interrupt":"cancel",n,n.__data__,a.index,a.group),delete r[c]}o&&delete n.__transition}}function NR(n){return this.each(function(){bf(this,n)})}function kR(n,e){var r,a;return function(){var s=_r(this,n),o=s.tween;if(o!==r){a=r=o;for(var c=0,f=a.length;c<f;++c)if(a[c].name===e){a=a.slice(),a.splice(c,1);break}}s.tween=a}}function ER(n,e,r){var a,s;if(typeof r!="function")throw new Error;return function(){var o=_r(this,n),c=o.tween;if(c!==a){s=(a=c).slice();for(var f={name:e,value:r},h=0,g=s.length;h<g;++h)if(s[h].name===e){s[h]=f;break}h===g&&s.push(f)}o.tween=s}}function TR(n,e){var r=this._id;if(n+="",arguments.length<2){for(var a=ir(this.node(),r).tween,s=0,o=a.length,c;s<o;++s)if((c=a[s]).name===n)return c.value;return null}return this.each((e==null?kR:ER)(r,n,e))}function Im(n,e,r){var a=n._id;return n.each(function(){var s=_r(this,a);(s.value||(s.value={}))[e]=r.apply(this,arguments)}),function(s){return ir(s,a).value[e]}}function zN(n,e){var r;return(typeof e=="number"?$i:e instanceof Wo?y2:(r=Wo(e))?(e=r,y2):uR)(n,e)}function jR(n){return function(){this.removeAttribute(n)}}function AR(n){return function(){this.removeAttributeNS(n.space,n.local)}}function MR(n,e,r){var a,s=r+"",o;return function(){var c=this.getAttribute(n);return c===s?null:c===a?o:o=e(a=c,r)}}function DR(n,e,r){var a,s=r+"",o;return function(){var c=this.getAttributeNS(n.space,n.local);return c===s?null:c===a?o:o=e(a=c,r)}}function OR(n,e,r){var a,s,o;return function(){var c,f=r(this),h;return f==null?void this.removeAttribute(n):(c=this.getAttribute(n),h=f+"",c===h?null:c===a&&h===s?o:(s=h,o=e(a=c,f)))}}function zR(n,e,r){var a,s,o;return function(){var c,f=r(this),h;return f==null?void this.removeAttributeNS(n.space,n.local):(c=this.getAttributeNS(n.space,n.local),h=f+"",c===h?null:c===a&&h===s?o:(s=h,o=e(a=c,f)))}}function RR(n,e){var r=Cd(n),a=r==="transform"?hR:zN;return this.attrTween(n,typeof e=="function"?(r.local?zR:OR)(r,a,Im(this,"attr."+n,e)):e==null?(r.local?AR:jR)(r):(r.local?DR:MR)(r,a,e))}function LR(n,e){return function(r){this.setAttribute(n,e.call(this,r))}}function $R(n,e){return function(r){this.setAttributeNS(n.space,n.local,e.call(this,r))}}function UR(n,e){var r,a;function s(){var o=e.apply(this,arguments);return o!==a&&(r=(a=o)&&$R(n,o)),r}return s._value=e,s}function BR(n,e){var r,a;function s(){var o=e.apply(this,arguments);return o!==a&&(r=(a=o)&&LR(n,o)),r}return s._value=e,s}function HR(n,e){var r="attr."+n;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var a=Cd(n);return this.tween(r,(a.local?UR:BR)(a,e))}function PR(n,e){return function(){Km(this,n).delay=+e.apply(this,arguments)}}function FR(n,e){return e=+e,function(){Km(this,n).delay=e}}function qR(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?PR:FR)(e,n)):ir(this.node(),e).delay}function GR(n,e){return function(){_r(this,n).duration=+e.apply(this,arguments)}}function KR(n,e){return e=+e,function(){_r(this,n).duration=e}}function IR(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?GR:KR)(e,n)):ir(this.node(),e).duration}function YR(n,e){if(typeof e!="function")throw new Error;return function(){_r(this,n).ease=e}}function VR(n){var e=this._id;return arguments.length?this.each(YR(e,n)):ir(this.node(),e).ease}function XR(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;_r(this,n).ease=r}}function QR(n){if(typeof n!="function")throw new Error;return this.each(XR(this._id,n))}function ZR(n){typeof n!="function"&&(n=hN(n));for(var e=this._groups,r=e.length,a=new Array(r),s=0;s<r;++s)for(var o=e[s],c=o.length,f=a[s]=[],h,g=0;g<c;++g)(h=o[g])&&n.call(h,h.__data__,g,o)&&f.push(h);return new ai(a,this._parents,this._name,this._id)}function JR(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,r=n._groups,a=e.length,s=r.length,o=Math.min(a,s),c=new Array(a),f=0;f<o;++f)for(var h=e[f],g=r[f],m=h.length,p=c[f]=new Array(m),v,_=0;_<m;++_)(v=h[_]||g[_])&&(p[_]=v);for(;f<a;++f)c[f]=e[f];return new ai(c,this._parents,this._name,this._id)}function WR(n){return(n+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function e9(n,e,r){var a,s,o=WR(e)?Km:_r;return function(){var c=o(this,n),f=c.on;f!==a&&(s=(a=f).copy()).on(e,r),c.on=s}}function t9(n,e){var r=this._id;return arguments.length<2?ir(this.node(),r).on.on(n):this.each(e9(r,n,e))}function n9(n){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==n)return;e&&e.removeChild(this)}}function r9(){return this.on("end.remove",n9(this._id))}function i9(n){var e=this._name,r=this._id;typeof n!="function"&&(n=Hm(n));for(var a=this._groups,s=a.length,o=new Array(s),c=0;c<s;++c)for(var f=a[c],h=f.length,g=o[c]=new Array(h),m,p,v=0;v<h;++v)(m=f[v])&&(p=n.call(m,m.__data__,v,f))&&("__data__"in m&&(p.__data__=m.__data__),g[v]=p,kd(g[v],e,r,v,g,ir(m,r)));return new ai(o,this._parents,e,r)}function a9(n){var e=this._name,r=this._id;typeof n!="function"&&(n=dN(n));for(var a=this._groups,s=a.length,o=[],c=[],f=0;f<s;++f)for(var h=a[f],g=h.length,m,p=0;p<g;++p)if(m=h[p]){for(var v=n.call(m,m.__data__,p,h),_,w=ir(m,r),N=0,C=v.length;N<C;++N)(_=v[N])&&kd(_,e,r,N,v,w);o.push(v),c.push(m)}return new ai(o,c,e,r)}var l9=xu.prototype.constructor;function s9(){return new l9(this._groups,this._parents)}function o9(n,e){var r,a,s;return function(){var o=ts(this,n),c=(this.style.removeProperty(n),ts(this,n));return o===c?null:o===r&&c===a?s:s=e(r=o,a=c)}}function RN(n){return function(){this.style.removeProperty(n)}}function u9(n,e,r){var a,s=r+"",o;return function(){var c=ts(this,n);return c===s?null:c===a?o:o=e(a=c,r)}}function c9(n,e,r){var a,s,o;return function(){var c=ts(this,n),f=r(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(n),ts(this,n))),c===h?null:c===a&&h===s?o:(s=h,o=e(a=c,f))}}function f9(n,e){var r,a,s,o="style."+e,c="end."+o,f;return function(){var h=_r(this,n),g=h.on,m=h.value[o]==null?f||(f=RN(e)):void 0;(g!==r||s!==m)&&(a=(r=g).copy()).on(c,s=m),h.on=a}}function d9(n,e,r){var a=(n+="")=="transform"?dR:zN;return e==null?this.styleTween(n,o9(n,a)).on("end.style."+n,RN(n)):typeof e=="function"?this.styleTween(n,c9(n,a,Im(this,"style."+n,e))).each(f9(this._id,n)):this.styleTween(n,u9(n,a,e),r).on("end.style."+n,null)}function h9(n,e,r){return function(a){this.style.setProperty(n,e.call(this,a),r)}}function g9(n,e,r){var a,s;function o(){var c=e.apply(this,arguments);return c!==s&&(a=(s=c)&&h9(n,c,r)),a}return o._value=e,o}function p9(n,e,r){var a="style."+(n+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!="function")throw new Error;return this.tween(a,g9(n,e,r??""))}function m9(n){return function(){this.textContent=n}}function y9(n){return function(){var e=n(this);this.textContent=e??""}}function x9(n){return this.tween("text",typeof n=="function"?y9(Im(this,"text",n)):m9(n==null?"":n+""))}function v9(n){return function(e){this.textContent=n.call(this,e)}}function b9(n){var e,r;function a(){var s=n.apply(this,arguments);return s!==r&&(e=(r=s)&&v9(s)),e}return a._value=n,a}function _9(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,b9(n))}function w9(){for(var n=this._name,e=this._id,r=LN(),a=this._groups,s=a.length,o=0;o<s;++o)for(var c=a[o],f=c.length,h,g=0;g<f;++g)if(h=c[g]){var m=ir(h,e);kd(h,n,r,g,c,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new ai(a,this._parents,n,r)}function S9(){var n,e,r=this,a=r._id,s=r.size();return new Promise(function(o,c){var f={value:c},h={value:function(){--s===0&&o()}};r.each(function(){var g=_r(this,a),m=g.on;m!==n&&(e=(n=m).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(h)),g.on=e}),s===0&&o()})}var C9=0;function ai(n,e,r,a){this._groups=n,this._parents=e,this._name=r,this._id=a}function LN(){return++C9}var qr=xu.prototype;ai.prototype={constructor:ai,select:i9,selectAll:a9,selectChild:qr.selectChild,selectChildren:qr.selectChildren,filter:ZR,merge:JR,selection:s9,transition:w9,call:qr.call,nodes:qr.nodes,node:qr.node,size:qr.size,empty:qr.empty,each:qr.each,on:t9,attr:RR,attrTween:HR,style:d9,styleTween:p9,text:x9,textTween:_9,remove:r9,tween:TR,delay:qR,duration:IR,ease:VR,easeVarying:QR,end:S9,[Symbol.iterator]:qr[Symbol.iterator]};function N9(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var k9={time:null,delay:0,duration:250,ease:N9};function E9(n,e){for(var r;!(r=n.__transition)||!(r=r[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return r}function T9(n){var e,r;n instanceof ai?(e=n._id,n=n._name):(e=LN(),(r=k9).time=qm(),n=n==null?null:n+"");for(var a=this._groups,s=a.length,o=0;o<s;++o)for(var c=a[o],f=c.length,h,g=0;g<f;++g)(h=c[g])&&kd(h,n,e,g,c,r||E9(h,e));return new ai(a,this._parents,n,e)}xu.prototype.interrupt=NR;xu.prototype.transition=T9;const rf=n=>()=>n;function j9(n,{sourceEvent:e,target:r,transform:a,dispatch:s}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:s}})}function Jr(n,e,r){this.k=n,this.x=e,this.y=r}Jr.prototype={constructor:Jr,scale:function(n){return n===1?this:new Jr(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Jr(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ym=new Jr(1,0,0);cr.prototype=Jr.prototype;function cr(n){for(;!n.__zoom;)if(!(n=n.parentNode))return Ym;return n.__zoom}function Cp(n){n.stopImmediatePropagation()}function go(n){n.preventDefault(),n.stopImmediatePropagation()}function A9(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function M9(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function C2(){return this.__zoom||Ym}function D9(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function O9(){return navigator.maxTouchPoints||"ontouchstart"in this}function z9(n,e,r){var a=n.invertX(e[0][0])-r[0][0],s=n.invertX(e[1][0])-r[1][0],o=n.invertY(e[0][1])-r[0][1],c=n.invertY(e[1][1])-r[1][1];return n.translate(s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s),c>o?(o+c)/2:Math.min(0,o)||Math.max(0,c))}function R9(){var n=A9,e=M9,r=z9,a=D9,s=O9,o=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],f=250,h=yR,g=vu("start","zoom","end"),m,p,v,_=500,w=150,N=0,C=10;function S(B){B.property("__zoom",C2).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",H).filter(s).on("touchstart.zoom",I).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",Q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(B,te,L,Y){var se=B.selection?B.selection():B;se.property("__zoom",C2),B!==se?M(B,te,L,Y):se.interrupt().each(function(){O(this,arguments).event(Y).start().zoom(null,typeof te=="function"?te.apply(this,arguments):te).end()})},S.scaleBy=function(B,te,L,Y){S.scaleTo(B,function(){var se=this.__zoom.k,ce=typeof te=="function"?te.apply(this,arguments):te;return se*ce},L,Y)},S.scaleTo=function(B,te,L,Y){S.transform(B,function(){var se=e.apply(this,arguments),ce=this.__zoom,ge=L==null?j(se):typeof L=="function"?L.apply(this,arguments):L,U=ce.invert(ge),Z=typeof te=="function"?te.apply(this,arguments):te;return r(T(E(ce,Z),ge,U),se,c)},L,Y)},S.translateBy=function(B,te,L,Y){S.transform(B,function(){return r(this.__zoom.translate(typeof te=="function"?te.apply(this,arguments):te,typeof L=="function"?L.apply(this,arguments):L),e.apply(this,arguments),c)},null,Y)},S.translateTo=function(B,te,L,Y,se){S.transform(B,function(){var ce=e.apply(this,arguments),ge=this.__zoom,U=Y==null?j(ce):typeof Y=="function"?Y.apply(this,arguments):Y;return r(Ym.translate(U[0],U[1]).scale(ge.k).translate(typeof te=="function"?-te.apply(this,arguments):-te,typeof L=="function"?-L.apply(this,arguments):-L),ce,c)},Y,se)};function E(B,te){return te=Math.max(o[0],Math.min(o[1],te)),te===B.k?B:new Jr(te,B.x,B.y)}function T(B,te,L){var Y=te[0]-L[0]*B.k,se=te[1]-L[1]*B.k;return Y===B.x&&se===B.y?B:new Jr(B.k,Y,se)}function j(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function M(B,te,L,Y){B.on("start.zoom",function(){O(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(Y).end()}).tween("zoom",function(){var se=this,ce=arguments,ge=O(se,ce).event(Y),U=e.apply(se,ce),Z=L==null?j(U):typeof L=="function"?L.apply(se,ce):L,W=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),ae=se.__zoom,pe=typeof te=="function"?te.apply(se,ce):te,ye=h(ae.invert(Z).concat(W/ae.k),pe.invert(Z).concat(W/pe.k));return function(Ne){if(Ne===1)Ne=pe;else{var Ue=ye(Ne),Me=W/Ue[2];Ne=new Jr(Me,Z[0]-Ue[0]*Me,Z[1]-Ue[1]*Me)}ge.zoom(null,Ne)}})}function O(B,te,L){return!L&&B.__zooming||new A(B,te)}function A(B,te){this.that=B,this.args=te,this.active=0,this.sourceEvent=null,this.extent=e.apply(B,te),this.taps=0}A.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,te){return this.mouse&&B!=="mouse"&&(this.mouse[1]=te.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=te.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=te.invert(this.touch1[0])),this.that.__zoom=te,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var te=Rn(this.that).datum();g.call(B,this.that,new j9(B,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:g}),te)}};function R(B,...te){if(!n.apply(this,arguments))return;var L=O(this,te).event(B),Y=this.__zoom,se=Math.max(o[0],Math.min(o[1],Y.k*Math.pow(2,a.apply(this,arguments)))),ce=fr(B);if(L.wheel)(L.mouse[0][0]!==ce[0]||L.mouse[0][1]!==ce[1])&&(L.mouse[1]=Y.invert(L.mouse[0]=ce)),clearTimeout(L.wheel);else{if(Y.k===se)return;L.mouse=[ce,Y.invert(ce)],bf(this),L.start()}go(B),L.wheel=setTimeout(ge,w),L.zoom("mouse",r(T(E(Y,se),L.mouse[0],L.mouse[1]),L.extent,c));function ge(){L.wheel=null,L.end()}}function $(B,...te){if(v||!n.apply(this,arguments))return;var L=B.currentTarget,Y=O(this,te,!0).event(B),se=Rn(B.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",W,!0),ce=fr(B,L),ge=B.clientX,U=B.clientY;SN(B.view),Cp(B),Y.mouse=[ce,this.__zoom.invert(ce)],bf(this),Y.start();function Z(ae){if(go(ae),!Y.moved){var pe=ae.clientX-ge,ye=ae.clientY-U;Y.moved=pe*pe+ye*ye>N}Y.event(ae).zoom("mouse",r(T(Y.that.__zoom,Y.mouse[0]=fr(ae,L),Y.mouse[1]),Y.extent,c))}function W(ae){se.on("mousemove.zoom mouseup.zoom",null),CN(ae.view,Y.moved),go(ae),Y.event(ae).end()}}function H(B,...te){if(n.apply(this,arguments)){var L=this.__zoom,Y=fr(B.changedTouches?B.changedTouches[0]:B,this),se=L.invert(Y),ce=L.k*(B.shiftKey?.5:2),ge=r(T(E(L,ce),Y,se),e.apply(this,te),c);go(B),f>0?Rn(this).transition().duration(f).call(M,ge,Y,B):Rn(this).call(S.transform,ge,Y,B)}}function I(B,...te){if(n.apply(this,arguments)){var L=B.touches,Y=L.length,se=O(this,te,B.changedTouches.length===Y).event(B),ce,ge,U,Z;for(Cp(B),ge=0;ge<Y;++ge)U=L[ge],Z=fr(U,this),Z=[Z,this.__zoom.invert(Z),U.identifier],se.touch0?!se.touch1&&se.touch0[2]!==Z[2]&&(se.touch1=Z,se.taps=0):(se.touch0=Z,ce=!0,se.taps=1+!!m);m&&(m=clearTimeout(m)),ce&&(se.taps<2&&(p=Z[0],m=setTimeout(function(){m=null},_)),bf(this),se.start())}}function F(B,...te){if(this.__zooming){var L=O(this,te).event(B),Y=B.changedTouches,se=Y.length,ce,ge,U,Z;for(go(B),ce=0;ce<se;++ce)ge=Y[ce],U=fr(ge,this),L.touch0&&L.touch0[2]===ge.identifier?L.touch0[0]=U:L.touch1&&L.touch1[2]===ge.identifier&&(L.touch1[0]=U);if(ge=L.that.__zoom,L.touch1){var W=L.touch0[0],ae=L.touch0[1],pe=L.touch1[0],ye=L.touch1[1],Ne=(Ne=pe[0]-W[0])*Ne+(Ne=pe[1]-W[1])*Ne,Ue=(Ue=ye[0]-ae[0])*Ue+(Ue=ye[1]-ae[1])*Ue;ge=E(ge,Math.sqrt(Ne/Ue)),U=[(W[0]+pe[0])/2,(W[1]+pe[1])/2],Z=[(ae[0]+ye[0])/2,(ae[1]+ye[1])/2]}else if(L.touch0)U=L.touch0[0],Z=L.touch0[1];else return;L.zoom("touch",r(T(ge,U,Z),L.extent,c))}}function Q(B,...te){if(this.__zooming){var L=O(this,te).event(B),Y=B.changedTouches,se=Y.length,ce,ge;for(Cp(B),v&&clearTimeout(v),v=setTimeout(function(){v=null},_),ce=0;ce<se;++ce)ge=Y[ce],L.touch0&&L.touch0[2]===ge.identifier?delete L.touch0:L.touch1&&L.touch1[2]===ge.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(ge=fr(ge,this),Math.hypot(p[0]-ge[0],p[1]-ge[1])<C)){var U=Rn(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return S.wheelDelta=function(B){return arguments.length?(a=typeof B=="function"?B:rf(+B),S):a},S.filter=function(B){return arguments.length?(n=typeof B=="function"?B:rf(!!B),S):n},S.touchable=function(B){return arguments.length?(s=typeof B=="function"?B:rf(!!B),S):s},S.extent=function(B){return arguments.length?(e=typeof B=="function"?B:rf([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),S):e},S.scaleExtent=function(B){return arguments.length?(o[0]=+B[0],o[1]=+B[1],S):[o[0],o[1]]},S.translateExtent=function(B){return arguments.length?(c[0][0]=+B[0][0],c[1][0]=+B[1][0],c[0][1]=+B[0][1],c[1][1]=+B[1][1],S):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},S.constrain=function(B){return arguments.length?(r=B,S):r},S.duration=function(B){return arguments.length?(f=+B,S):f},S.interpolate=function(B){return arguments.length?(h=B,S):h},S.on=function(){var B=g.on.apply(g,arguments);return B===g?S:B},S.clickDistance=function(B){return arguments.length?(N=(B=+B)*B,S):Math.sqrt(N)},S.tapDistance=function(B){return arguments.length?(C=+B,S):C},S}class N2 extends Map{constructor(e,r=U9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[a,s]of e)this.set(a,s)}get(e){return super.get(k2(this,e))}has(e){return super.has(k2(this,e))}set(e,r){return super.set(L9(this,e),r)}delete(e){return super.delete($9(this,e))}}function k2({_intern:n,_key:e},r){const a=e(r);return n.has(a)?n.get(a):r}function L9({_intern:n,_key:e},r){const a=e(r);return n.has(a)?n.get(a):(n.set(a,r),r)}function $9({_intern:n,_key:e},r){const a=e(r);return n.has(a)&&(r=n.get(a),n.delete(a)),r}function U9(n){return n!==null&&typeof n=="object"?n.valueOf():n}function E2(n,e){let r;if(e===void 0)for(const a of n)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);else{let a=-1;for(let s of n)(s=e(s,++a,n))!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}return r}function T2(n,e){let r;if(e===void 0)for(const a of n)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);else{let a=-1;for(let s of n)(s=e(s,++a,n))!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}return r}function B9(n,e){let r=0;for(let a of n)(a=+a)&&(r+=a);return r}var H9=typeof global=="object"&&global&&global.Object===Object&&global,P9=typeof self=="object"&&self&&self.Object===Object&&self,$N=H9||P9||Function("return this")(),Xf=$N.Symbol,UN=Object.prototype,F9=UN.hasOwnProperty,q9=UN.toString,po=Xf?Xf.toStringTag:void 0;function G9(n){var e=F9.call(n,po),r=n[po];try{n[po]=void 0;var a=!0}catch{}var s=q9.call(n);return a&&(e?n[po]=r:delete n[po]),s}var K9=Object.prototype,I9=K9.toString;function Y9(n){return I9.call(n)}var V9="[object Null]",X9="[object Undefined]",j2=Xf?Xf.toStringTag:void 0;function Q9(n){return n==null?n===void 0?X9:V9:j2&&j2 in Object(n)?G9(n):Y9(n)}function Z9(n){return n!=null&&typeof n=="object"}var J9="[object Symbol]";function W9(n){return typeof n=="symbol"||Z9(n)&&Q9(n)==J9}var e7=/\s/;function t7(n){for(var e=n.length;e--&&e7.test(n.charAt(e)););return e}var n7=/^\s+/;function r7(n){return n&&n.slice(0,t7(n)+1).replace(n7,"")}function Qf(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var A2=NaN,i7=/^[-+]0x[0-9a-f]+$/i,a7=/^0b[01]+$/i,l7=/^0o[0-7]+$/i,s7=parseInt;function M2(n){if(typeof n=="number")return n;if(W9(n))return A2;if(Qf(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Qf(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=r7(n);var r=a7.test(n);return r||l7.test(n)?s7(n.slice(2),r?2:8):i7.test(n)?A2:+n}var Np=function(){return $N.Date.now()},o7="Expected a function",u7=Math.max,c7=Math.min;function BN(n,e,r){var a,s,o,c,f,h,g=0,m=!1,p=!1,v=!0;if(typeof n!="function")throw new TypeError(o7);e=M2(e)||0,Qf(r)&&(m=!!r.leading,p="maxWait"in r,o=p?u7(M2(r.maxWait)||0,e):o,v="trailing"in r?!!r.trailing:v);function _(O){var A=a,R=s;return a=s=void 0,g=O,c=n.apply(R,A),c}function w(O){return g=O,f=setTimeout(S,e),m?_(O):c}function N(O){var A=O-h,R=O-g,$=e-A;return p?c7($,o-R):$}function C(O){var A=O-h,R=O-g;return h===void 0||A>=e||A<0||p&&R>=o}function S(){var O=Np();if(C(O))return E(O);f=setTimeout(S,N(O))}function E(O){return f=void 0,v&&a?_(O):(a=s=void 0,c)}function T(){f!==void 0&&clearTimeout(f),g=0,a=h=s=f=void 0}function j(){return f===void 0?c:E(Np())}function M(){var O=Np(),A=C(O);if(a=arguments,s=this,h=O,A){if(f===void 0)return w(h);if(p)return clearTimeout(f),f=setTimeout(S,e),_(h)}return f===void 0&&(f=setTimeout(S,e)),c}return M.cancel=T,M.flush=j,M}var f7="Expected a function";function d7(n,e,r){var a=!0,s=!0;if(typeof n!="function")throw new TypeError(f7);return Qf(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),BN(n,e,{leading:a,maxWait:e,trailing:s})}var Aa=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Aa.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Aa.Bounce.In(n*2)*.5:Aa.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),To=function(){return performance.now()},HN=(function(){function n(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(){for(var e,r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];for(var s=0,o=r;s<o.length;s++){var c=o[s];(e=c._group)===null||e===void 0||e.remove(c),c._group=this,this._tweens[c.getId()]=c,this._tweensAddedDuringUpdate[c.getId()]=c}},n.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var a=0,s=e;a<s.length;a++){var o=s[a];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},n.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},n.prototype.update=function(e,r){e===void 0&&(e=To()),r===void 0&&(r=!0);var a=Object.keys(this._tweens);if(a.length!==0)for(;a.length>0;){this._tweensAddedDuringUpdate={};for(var s=0;s<a.length;s++){var o=this._tweens[a[s]],c=!r;o&&o.update(e,c)===!1&&!r&&this.remove(o)}a=Object.keys(this._tweensAddedDuringUpdate)}},n})(),A0={Linear:function(n,e){var r=n.length-1,a=r*e,s=Math.floor(a),o=A0.Utils.Linear;return e<0?o(n[0],n[1],a):e>1?o(n[r],n[r-1],r-a):o(n[s],n[s+1>r?r:s+1],a-s)},Utils:{Linear:function(n,e,r){return(e-n)*r+n}}},PN=(function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n})(),M0=new HN,D2=(function(){function n(e,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Aa.Linear.None,this._interpolationFunction=A0.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=PN.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=M0,M0.add(this))}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,r){if(e===void 0&&(e=To()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var a in this._valuesStartRepeat)this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var s={};for(var o in this._valuesEnd)s[o]=this._valuesEnd[o];this._valuesEnd=s}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,r,a,s,o){for(var c in a){var f=e[c],h=Array.isArray(f),g=h?"array":typeof f,m=!h&&Array.isArray(a[c]);if(!(g==="undefined"||g==="function")){if(m){var p=a[c];if(p.length===0)continue;for(var v=[f],_=0,w=p.length;_<w;_+=1){var N=this._handleRelativeValue(f,p[_]);if(isNaN(N)){m=!1,console.warn("Found invalid interpolation list. Skipping.");break}v.push(N)}m&&(a[c]=v)}if((g==="object"||h)&&f&&!m){r[c]=h?[]:{};var C=f;for(var S in C)r[c][S]=C[S];s[c]=h?[]:{};var p=a[c];if(!this._isDynamic){var E={};for(var S in p)E[S]=p[S];a[c]=p=E}this._setupProperties(C,r[c],p,s[c],o)}else(typeof r[c]>"u"||o)&&(r[c]=f),h||(r[c]*=1),m?s[c]=a[c].slice().reverse():s[c]=r[c]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},n.prototype.pause=function(e){return e===void 0&&(e=To()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},n.prototype.resume=function(e){return e===void 0&&(e=To()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},n.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},n.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Aa.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=A0.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,r){var a=this,s;if(e===void 0&&(e=To()),r===void 0&&(r=n.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var c=e-this._startTime,f=this._duration+((s=this._repeatDelayTime)!==null&&s!==void 0?s:this._delayTime),h=this._duration+this._repeat*f,g=function(){if(a._duration===0||c>h)return 1;var N=Math.trunc(c/f),C=c-N*f,S=Math.min(C/a._duration,1);return S===0&&c===a._duration?1:S},m=g(),p=this._easingFunction(m);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,p),this._onUpdateCallback&&this._onUpdateCallback(this._object,m),this._duration===0||c>=this._duration)if(this._repeat>0){var v=Math.min(Math.trunc((c-this._duration)/f)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=v);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=f*v,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var _=0,w=this._chainedTweens.length;_<w;_++)this._chainedTweens[_].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,r,a,s){for(var o in a)if(r[o]!==void 0){var c=r[o]||0,f=a[o],h=Array.isArray(e[o]),g=Array.isArray(f),m=!h&&g;m?e[o]=this._interpolationFunction(f,s):typeof f=="object"&&f?this._updateProperties(e[o],c,f,s):(f=this._handleRelativeValue(c,f),typeof f=="number"&&(e[o]=c+(f-c)*s))}},n.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},n.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],a=this._valuesEnd[e];typeof a=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(a):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},n.autoStartOnUpdate=!1,n})();PN.nextId;var br=M0;br.getAll.bind(br);br.removeAll.bind(br);br.add.bind(br);br.remove.bind(br);br.update.bind(br);function O2(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,a=Array(e);r<e;r++)a[r]=n[r];return a}function h7(n){if(Array.isArray(n))return n}function g7(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function p7(n,e,r){return Object.defineProperty(n,"prototype",{writable:!1}),n}function m7(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var a,s,o,c,f=[],h=!0,g=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(h=(a=o.call(r)).done)&&(f.push(a.value),f.length!==e);h=!0);}catch(m){g=!0,s=m}finally{try{if(!h&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw s}}return f}}function y7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x7(n,e){return h7(n)||m7(n,e)||v7(n,e)||y7()}function v7(n,e){if(n){if(typeof n=="string")return O2(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O2(n,e):void 0}}var b7=p7(function n(e,r){var a=r.default,s=a===void 0?null:a,o=r.triggerUpdate,c=o===void 0?!0:o,f=r.onChange,h=f===void 0?function(g,m){}:f;g7(this,n),this.name=e,this.defaultVal=s,this.triggerUpdate=c,this.onChange=h});function Vm(n){var e=n.stateInit,r=e===void 0?function(){return{}}:e,a=n.props,s=a===void 0?{}:a,o=n.methods,c=o===void 0?{}:o,f=n.aliases,h=f===void 0?{}:f,g=n.init,m=g===void 0?function(){}:g,p=n.update,v=p===void 0?function(){}:p,_=Object.keys(s).map(function(w){return new b7(w,s[w])});return function w(){for(var N=arguments.length,C=new Array(N),S=0;S<N;S++)C[S]=arguments[S];var E=!!(this instanceof w&&this.constructor),T=E?C.shift():void 0,j=C[0],M=j===void 0?{}:j,O=Object.assign({},r instanceof Function?r(M):r,{initialised:!1}),A={};function R(I){return $(I,M),H(),R}var $=function(F,Q){m.call(R,F,O,Q),O.initialised=!0},H=BN(function(){O.initialised&&(v.call(R,O,A),A={})},1);return _.forEach(function(I){R[I.name]=F(I);function F(Q){var B=Q.name,te=Q.triggerUpdate,L=te===void 0?!1:te,Y=Q.onChange,se=Y===void 0?function(U,Z){}:Y,ce=Q.defaultVal,ge=ce===void 0?null:ce;return function(U){var Z=O[B];if(!arguments.length)return Z;var W=U===void 0?ge:U;return O[B]=W,se.call(R,W,O,Z),!A.hasOwnProperty(B)&&(A[B]=Z),L&&H(),R}}}),Object.keys(c).forEach(function(I){R[I]=function(){for(var F,Q=arguments.length,B=new Array(Q),te=0;te<Q;te++)B[te]=arguments[te];return(F=c[I]).call.apply(F,[R,O].concat(B))}}),Object.entries(h).forEach(function(I){var F=x7(I,2),Q=F[0],B=F[1];return R[Q]=R[B]}),R.resetProps=function(){return _.forEach(function(I){R[I.name](I.defaultVal)}),R},R.resetProps(),O._rerender=H,E&&T&&R(T),R}}var qe=(function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}});function Zf(n){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(n)}var _7=/^\s+/,w7=/\s+$/;function _e(n,e){if(n=n||"",e=e||{},n instanceof _e)return n;if(!(this instanceof _e))return new _e(n,e);var r=S7(n);this._originalInput=n,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}_e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,a,s,o,c,f;return r=e.r/255,a=e.g/255,s=e.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),a<=.03928?c=a/12.92:c=Math.pow((a+.055)/1.055,2.4),s<=.03928?f=s/12.92:f=Math.pow((s+.055)/1.055,2.4),.2126*o+.7152*c+.0722*f},setAlpha:function(e){return this._a=FN(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=R2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=R2(this._r,this._g,this._b),r=Math.round(e.h*360),a=Math.round(e.s*100),s=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+a+"%, "+s+"%)":"hsva("+r+", "+a+"%, "+s+"%, "+this._roundA+")"},toHsl:function(){var e=z2(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=z2(this._r,this._g,this._b),r=Math.round(e.h*360),a=Math.round(e.s*100),s=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+a+"%, "+s+"%)":"hsla("+r+", "+a+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return L2(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return E7(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(lt(this._r,255)*100)+"%",g:Math.round(lt(this._g,255)*100)+"%",b:Math.round(lt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(lt(this._r,255)*100)+"%, "+Math.round(lt(this._g,255)*100)+"%, "+Math.round(lt(this._b,255)*100)+"%)":"rgba("+Math.round(lt(this._r,255)*100)+"%, "+Math.round(lt(this._g,255)*100)+"%, "+Math.round(lt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:B7[L2(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+$2(this._r,this._g,this._b,this._a),a=r,s=this._gradientType?"GradientType = 1, ":"";if(e){var o=_e(e);a="#"+$2(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+s+"startColorstr="+r+",endColorstr="+a+")"},toString:function(e){var r=!!e;e=e||this._format;var a=!1,s=this._a<1&&this._a>=0,o=!r&&s&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(a=this.toRgbString()),e==="prgb"&&(a=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(a=this.toHexString()),e==="hex3"&&(a=this.toHexString(!0)),e==="hex4"&&(a=this.toHex8String(!0)),e==="hex8"&&(a=this.toHex8String()),e==="name"&&(a=this.toName()),e==="hsl"&&(a=this.toHslString()),e==="hsv"&&(a=this.toHsvString()),a||this.toHexString())},clone:function(){return _e(this.toString())},_applyModification:function(e,r){var a=e.apply(null,[this].concat([].slice.call(r)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(M7,arguments)},brighten:function(){return this._applyModification(D7,arguments)},darken:function(){return this._applyModification(O7,arguments)},desaturate:function(){return this._applyModification(T7,arguments)},saturate:function(){return this._applyModification(j7,arguments)},greyscale:function(){return this._applyModification(A7,arguments)},spin:function(){return this._applyModification(z7,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination($7,arguments)},complement:function(){return this._applyCombination(R7,arguments)},monochromatic:function(){return this._applyCombination(U7,arguments)},splitcomplement:function(){return this._applyCombination(L7,arguments)},triad:function(){return this._applyCombination(U2,[3])},tetrad:function(){return this._applyCombination(U2,[4])}};_e.fromRatio=function(n,e){if(Zf(n)=="object"){var r={};for(var a in n)n.hasOwnProperty(a)&&(a==="a"?r[a]=n[a]:r[a]=jo(n[a]));n=r}return _e(n,e)};function S7(n){var e={r:0,g:0,b:0},r=1,a=null,s=null,o=null,c=!1,f=!1;return typeof n=="string"&&(n=q7(n)),Zf(n)=="object"&&(Gr(n.r)&&Gr(n.g)&&Gr(n.b)?(e=C7(n.r,n.g,n.b),c=!0,f=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Gr(n.h)&&Gr(n.s)&&Gr(n.v)?(a=jo(n.s),s=jo(n.v),e=k7(n.h,a,s),c=!0,f="hsv"):Gr(n.h)&&Gr(n.s)&&Gr(n.l)&&(a=jo(n.s),o=jo(n.l),e=N7(n.h,a,o),c=!0,f="hsl"),n.hasOwnProperty("a")&&(r=n.a)),r=FN(r),{ok:c,format:n.format||f,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function C7(n,e,r){return{r:lt(n,255)*255,g:lt(e,255)*255,b:lt(r,255)*255}}function z2(n,e,r){n=lt(n,255),e=lt(e,255),r=lt(r,255);var a=Math.max(n,e,r),s=Math.min(n,e,r),o,c,f=(a+s)/2;if(a==s)o=c=0;else{var h=a-s;switch(c=f>.5?h/(2-a-s):h/(a+s),a){case n:o=(e-r)/h+(e<r?6:0);break;case e:o=(r-n)/h+2;break;case r:o=(n-e)/h+4;break}o/=6}return{h:o,s:c,l:f}}function N7(n,e,r){var a,s,o;n=lt(n,360),e=lt(e,100),r=lt(r,100);function c(g,m,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?g+(m-g)*6*p:p<1/2?m:p<2/3?g+(m-g)*(2/3-p)*6:g}if(e===0)a=s=o=r;else{var f=r<.5?r*(1+e):r+e-r*e,h=2*r-f;a=c(h,f,n+1/3),s=c(h,f,n),o=c(h,f,n-1/3)}return{r:a*255,g:s*255,b:o*255}}function R2(n,e,r){n=lt(n,255),e=lt(e,255),r=lt(r,255);var a=Math.max(n,e,r),s=Math.min(n,e,r),o,c,f=a,h=a-s;if(c=a===0?0:h/a,a==s)o=0;else{switch(a){case n:o=(e-r)/h+(e<r?6:0);break;case e:o=(r-n)/h+2;break;case r:o=(n-e)/h+4;break}o/=6}return{h:o,s:c,v:f}}function k7(n,e,r){n=lt(n,360)*6,e=lt(e,100),r=lt(r,100);var a=Math.floor(n),s=n-a,o=r*(1-e),c=r*(1-s*e),f=r*(1-(1-s)*e),h=a%6,g=[r,c,o,o,f,r][h],m=[f,r,r,c,o,o][h],p=[o,o,f,r,r,c][h];return{r:g*255,g:m*255,b:p*255}}function L2(n,e,r,a){var s=[Xn(Math.round(n).toString(16)),Xn(Math.round(e).toString(16)),Xn(Math.round(r).toString(16))];return a&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function E7(n,e,r,a,s){var o=[Xn(Math.round(n).toString(16)),Xn(Math.round(e).toString(16)),Xn(Math.round(r).toString(16)),Xn(qN(a))];return s&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function $2(n,e,r,a){var s=[Xn(qN(a)),Xn(Math.round(n).toString(16)),Xn(Math.round(e).toString(16)),Xn(Math.round(r).toString(16))];return s.join("")}_e.equals=function(n,e){return!n||!e?!1:_e(n).toRgbString()==_e(e).toRgbString()};_e.random=function(){return _e.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function T7(n,e){e=e===0?0:e||10;var r=_e(n).toHsl();return r.s-=e/100,r.s=Ed(r.s),_e(r)}function j7(n,e){e=e===0?0:e||10;var r=_e(n).toHsl();return r.s+=e/100,r.s=Ed(r.s),_e(r)}function A7(n){return _e(n).desaturate(100)}function M7(n,e){e=e===0?0:e||10;var r=_e(n).toHsl();return r.l+=e/100,r.l=Ed(r.l),_e(r)}function D7(n,e){e=e===0?0:e||10;var r=_e(n).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),_e(r)}function O7(n,e){e=e===0?0:e||10;var r=_e(n).toHsl();return r.l-=e/100,r.l=Ed(r.l),_e(r)}function z7(n,e){var r=_e(n).toHsl(),a=(r.h+e)%360;return r.h=a<0?360+a:a,_e(r)}function R7(n){var e=_e(n).toHsl();return e.h=(e.h+180)%360,_e(e)}function U2(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=_e(n).toHsl(),a=[_e(n)],s=360/e,o=1;o<e;o++)a.push(_e({h:(r.h+o*s)%360,s:r.s,l:r.l}));return a}function L7(n){var e=_e(n).toHsl(),r=e.h;return[_e(n),_e({h:(r+72)%360,s:e.s,l:e.l}),_e({h:(r+216)%360,s:e.s,l:e.l})]}function $7(n,e,r){e=e||6,r=r||30;var a=_e(n).toHsl(),s=360/r,o=[_e(n)];for(a.h=(a.h-(s*e>>1)+720)%360;--e;)a.h=(a.h+s)%360,o.push(_e(a));return o}function U7(n,e){e=e||6;for(var r=_e(n).toHsv(),a=r.h,s=r.s,o=r.v,c=[],f=1/e;e--;)c.push(_e({h:a,s,v:o})),o=(o+f)%1;return c}_e.mix=function(n,e,r){r=r===0?0:r||50;var a=_e(n).toRgb(),s=_e(e).toRgb(),o=r/100,c={r:(s.r-a.r)*o+a.r,g:(s.g-a.g)*o+a.g,b:(s.b-a.b)*o+a.b,a:(s.a-a.a)*o+a.a};return _e(c)};_e.readability=function(n,e){var r=_e(n),a=_e(e);return(Math.max(r.getLuminance(),a.getLuminance())+.05)/(Math.min(r.getLuminance(),a.getLuminance())+.05)};_e.isReadable=function(n,e,r){var a=_e.readability(n,e),s,o;switch(o=!1,s=G7(r),s.level+s.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7;break}return o};_e.mostReadable=function(n,e,r){var a=null,s=0,o,c,f,h;r=r||{},c=r.includeFallbackColors,f=r.level,h=r.size;for(var g=0;g<e.length;g++)o=_e.readability(n,e[g]),o>s&&(s=o,a=_e(e[g]));return _e.isReadable(n,a,{level:f,size:h})||!c?a:(r.includeFallbackColors=!1,_e.mostReadable(n,["#fff","#000"],r))};var D0=_e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B7=_e.hexNames=H7(D0);function H7(n){var e={};for(var r in n)n.hasOwnProperty(r)&&(e[n[r]]=r);return e}function FN(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function lt(n,e){P7(n)&&(n="100%");var r=F7(n);return n=Math.min(e,Math.max(0,parseFloat(n))),r&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function Ed(n){return Math.min(1,Math.max(0,n))}function yn(n){return parseInt(n,16)}function P7(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function F7(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Xn(n){return n.length==1?"0"+n:""+n}function jo(n){return n<=1&&(n=n*100+"%"),n}function qN(n){return Math.round(parseFloat(n)*255).toString(16)}function B2(n){return yn(n)/255}var Kn=(function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+n+")",a="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",s="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+a),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+a),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+a),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Gr(n){return!!Kn.CSS_UNIT.exec(n)}function q7(n){n=n.replace(_7,"").replace(w7,"").toLowerCase();var e=!1;if(D0[n])n=D0[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Kn.rgb.exec(n))?{r:r[1],g:r[2],b:r[3]}:(r=Kn.rgba.exec(n))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Kn.hsl.exec(n))?{h:r[1],s:r[2],l:r[3]}:(r=Kn.hsla.exec(n))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Kn.hsv.exec(n))?{h:r[1],s:r[2],v:r[3]}:(r=Kn.hsva.exec(n))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Kn.hex8.exec(n))?{r:yn(r[1]),g:yn(r[2]),b:yn(r[3]),a:B2(r[4]),format:e?"name":"hex8"}:(r=Kn.hex6.exec(n))?{r:yn(r[1]),g:yn(r[2]),b:yn(r[3]),format:e?"name":"hex"}:(r=Kn.hex4.exec(n))?{r:yn(r[1]+""+r[1]),g:yn(r[2]+""+r[2]),b:yn(r[3]+""+r[3]),a:B2(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=Kn.hex3.exec(n))?{r:yn(r[1]+""+r[1]),g:yn(r[2]+""+r[2]),b:yn(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function G7(n){var e,r;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),r=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function O0(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,a=Array(e);r<e;r++)a[r]=n[r];return a}function K7(n){if(Array.isArray(n))return O0(n)}function GN(n,e,r){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function I7(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Y7(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Mn(n,e){return n.get(GN(n,e))}function H2(n,e,r){I7(n,e),e.set(n,r)}function P2(n,e,r){return n.set(GN(n,e),r),r}function V7(n,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,eL(a.key),a)}}function X7(n,e,r){return e&&V7(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Q7(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Z7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J7(n){return K7(n)||Q7(n)||tL(n)||Z7()}function W7(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function eL(n){var e=W7(n,"string");return typeof e=="symbol"?e:e+""}function tL(n,e){if(n){if(typeof n=="string")return O0(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O0(n,e):void 0}}var nL=123,rL=function(e){return"#".concat(Math.min(e,Math.pow(2,24)).toString(16).padStart(6,"0"))},KN=function(e,r,a){return(e<<16)+(r<<8)+a},iL=function(e){var r=_e(e).toRgb(),a=r.r,s=r.g,o=r.b;return KN(a,s,o)},F2=function(e,r){return e*nL%Math.pow(2,r)},ya=new WeakMap,Kr=new WeakMap,aL=(function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;Y7(this,n),H2(this,ya,void 0),H2(this,Kr,void 0),P2(Kr,this,e),this.reset()}return X7(n,[{key:"reset",value:function(){P2(ya,this,["__reserved for background__"])}},{key:"register",value:function(r){if(Mn(ya,this).length>=Math.pow(2,24-Mn(Kr,this)))return null;var a=Mn(ya,this).length,s=F2(a,Mn(Kr,this)),o=rL(a+(s<<24-Mn(Kr,this)));return Mn(ya,this).push(r),o}},{key:"lookup",value:function(r){if(!r)return null;var a=typeof r=="string"?iL(r):KN.apply(void 0,J7(r));if(!a)return null;var s=a&Math.pow(2,24-Mn(Kr,this))-1,o=a>>24-Mn(Kr,this)&Math.pow(2,Mn(Kr,this))-1;return F2(s,Mn(Kr,this))!==o||s>=Mn(ya,this).length?null:Mn(ya,this)[s]}}])})(),_u,st,IN,YN,_a,q2,VN,XN,QN,Xm,z0,R0,tu={},ZN=[],lL=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Td=Array.isArray;function gr(n,e){for(var r in e)n[r]=e[r];return n}function Qm(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function sL(n,e,r){var a,s,o,c={};for(o in e)o=="key"?a=e[o]:o=="ref"?s=e[o]:c[o]=e[o];if(arguments.length>2&&(c.children=arguments.length>3?_u.call(arguments,2):r),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)c[o]===void 0&&(c[o]=n.defaultProps[o]);return zo(n,c,a,s,null)}function zo(n,e,r,a,s){var o={type:n,props:e,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++IN,__i:-1,__u:0};return s==null&&st.vnode!=null&&st.vnode(o),o}function jd(n){return n.children}function _f(n,e){this.props=n,this.context=e}function rs(n,e){if(e==null)return n.__?rs(n.__,n.__i+1):null;for(var r;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null)return r.__e;return typeof n.type=="function"?rs(n):null}function JN(n){var e,r;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((r=n.__k[e])!=null&&r.__e!=null){n.__e=n.__c.base=r.__e;break}return JN(n)}}function G2(n){(!n.__d&&(n.__d=!0)&&_a.push(n)&&!Jf.__r++||q2!=st.debounceRendering)&&((q2=st.debounceRendering)||VN)(Jf)}function Jf(){for(var n,e,r,a,s,o,c,f=1;_a.length;)_a.length>f&&_a.sort(XN),n=_a.shift(),f=_a.length,n.__d&&(r=void 0,a=void 0,s=(a=(e=n).__v).__e,o=[],c=[],e.__P&&((r=gr({},a)).__v=a.__v+1,st.vnode&&st.vnode(r),Zm(e.__P,r,a,e.__n,e.__P.namespaceURI,32&a.__u?[s]:null,o,s??rs(a),!!(32&a.__u),c),r.__v=a.__v,r.__.__k[r.__i]=r,t3(o,r,c),a.__e=a.__=null,r.__e!=s&&JN(r)));Jf.__r=0}function WN(n,e,r,a,s,o,c,f,h,g,m){var p,v,_,w,N,C,S,E=a&&a.__k||ZN,T=e.length;for(h=oL(r,e,E,h,T),p=0;p<T;p++)(_=r.__k[p])!=null&&(v=_.__i==-1?tu:E[_.__i]||tu,_.__i=p,C=Zm(n,_,v,s,o,c,f,h,g,m),w=_.__e,_.ref&&v.ref!=_.ref&&(v.ref&&Jm(v.ref,null,_),m.push(_.ref,_.__c||w,_)),N==null&&w!=null&&(N=w),(S=!!(4&_.__u))||v.__k===_.__k?h=e3(_,h,n,S):typeof _.type=="function"&&C!==void 0?h=C:w&&(h=w.nextSibling),_.__u&=-7);return r.__e=N,h}function oL(n,e,r,a,s){var o,c,f,h,g,m=r.length,p=m,v=0;for(n.__k=new Array(s),o=0;o<s;o++)(c=e[o])!=null&&typeof c!="boolean"&&typeof c!="function"?(typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?c=n.__k[o]=zo(null,c,null,null,null):Td(c)?c=n.__k[o]=zo(jd,{children:c},null,null,null):c.constructor==null&&c.__b>0?c=n.__k[o]=zo(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):n.__k[o]=c,h=o+v,c.__=n,c.__b=n.__b+1,f=null,(g=c.__i=uL(c,r,h,p))!=-1&&(p--,(f=r[g])&&(f.__u|=2)),f==null||f.__v==null?(g==-1&&(s>m?v--:s<m&&v++),typeof c.type!="function"&&(c.__u|=4)):g!=h&&(g==h-1?v--:g==h+1?v++:(g>h?v--:v++,c.__u|=4))):n.__k[o]=null;if(p)for(o=0;o<m;o++)(f=r[o])!=null&&(2&f.__u)==0&&(f.__e==a&&(a=rs(f)),r3(f,f));return a}function e3(n,e,r,a){var s,o;if(typeof n.type=="function"){for(s=n.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=n,e=e3(s[o],e,r,a));return e}n.__e!=e&&(a&&(e&&n.type&&!e.parentNode&&(e=rs(n)),r.insertBefore(n.__e,e||null)),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function uL(n,e,r,a){var s,o,c,f=n.key,h=n.type,g=e[r],m=g!=null&&(2&g.__u)==0;if(g===null&&f==null||m&&f==g.key&&h==g.type)return r;if(a>(m?1:0)){for(s=r-1,o=r+1;s>=0||o<e.length;)if((g=e[c=s>=0?s--:o++])!=null&&(2&g.__u)==0&&f==g.key&&h==g.type)return c}return-1}function K2(n,e,r){e[0]=="-"?n.setProperty(e,r??""):n[e]=r==null?"":typeof r!="number"||lL.test(e)?r:r+"px"}function af(n,e,r,a,s){var o,c;e:if(e=="style")if(typeof r=="string")n.style.cssText=r;else{if(typeof a=="string"&&(n.style.cssText=a=""),a)for(e in a)r&&e in r||K2(n.style,e,"");if(r)for(e in r)a&&r[e]==a[e]||K2(n.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(QN,"$1")),c=e.toLowerCase(),e=c in n||e=="onFocusOut"||e=="onFocusIn"?c.slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=r,r?a?r.u=a.u:(r.u=Xm,n.addEventListener(e,o?R0:z0,o)):n.removeEventListener(e,o?R0:z0,o);else{if(s=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&r==1?"":r))}}function I2(n){return function(e){if(this.l){var r=this.l[e.type+n];if(e.t==null)e.t=Xm++;else if(e.t<r.u)return;return r(st.event?st.event(e):e)}}}function Zm(n,e,r,a,s,o,c,f,h,g){var m,p,v,_,w,N,C,S,E,T,j,M,O,A,R,$,H,I=e.type;if(e.constructor!=null)return null;128&r.__u&&(h=!!(32&r.__u),o=[f=e.__e=r.__e]),(m=st.__b)&&m(e);e:if(typeof I=="function")try{if(S=e.props,E="prototype"in I&&I.prototype.render,T=(m=I.contextType)&&a[m.__c],j=m?T?T.props.value:m.__:a,r.__c?C=(p=e.__c=r.__c).__=p.__E:(E?e.__c=p=new I(S,j):(e.__c=p=new _f(S,j),p.constructor=I,p.render=fL),T&&T.sub(p),p.state||(p.state={}),p.__n=a,v=p.__d=!0,p.__h=[],p._sb=[]),E&&p.__s==null&&(p.__s=p.state),E&&I.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=gr({},p.__s)),gr(p.__s,I.getDerivedStateFromProps(S,p.__s))),_=p.props,w=p.state,p.__v=e,v)E&&I.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),E&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(E&&I.getDerivedStateFromProps==null&&S!==_&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(S,j),e.__v==r.__v||!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(S,p.__s,j)===!1){for(e.__v!=r.__v&&(p.props=S,p.state=p.__s,p.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(F){F&&(F.__=e)}),M=0;M<p._sb.length;M++)p.__h.push(p._sb[M]);p._sb=[],p.__h.length&&c.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(S,p.__s,j),E&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(_,w,N)})}if(p.context=j,p.props=S,p.__P=n,p.__e=!1,O=st.__r,A=0,E){for(p.state=p.__s,p.__d=!1,O&&O(e),m=p.render(p.props,p.state,p.context),R=0;R<p._sb.length;R++)p.__h.push(p._sb[R]);p._sb=[]}else do p.__d=!1,O&&O(e),m=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++A<25);p.state=p.__s,p.getChildContext!=null&&(a=gr(gr({},a),p.getChildContext())),E&&!v&&p.getSnapshotBeforeUpdate!=null&&(N=p.getSnapshotBeforeUpdate(_,w)),$=m,m!=null&&m.type===jd&&m.key==null&&($=n3(m.props.children)),f=WN(n,Td($)?$:[$],e,r,a,s,o,c,f,h,g),p.base=e.__e,e.__u&=-161,p.__h.length&&c.push(p),C&&(p.__E=p.__=null)}catch(F){if(e.__v=null,h||o!=null)if(F.then){for(e.__u|=h?160:128;f&&f.nodeType==8&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,e.__e=f}else{for(H=o.length;H--;)Qm(o[H]);L0(e)}else e.__e=r.__e,e.__k=r.__k,F.then||L0(e);st.__e(F,e,r)}else o==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):f=e.__e=cL(r.__e,e,r,a,s,o,c,h,g);return(m=st.diffed)&&m(e),128&e.__u?void 0:f}function L0(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(L0)}function t3(n,e,r){for(var a=0;a<r.length;a++)Jm(r[a],r[++a],r[++a]);st.__c&&st.__c(e,n),n.some(function(s){try{n=s.__h,s.__h=[],n.some(function(o){o.call(s)})}catch(o){st.__e(o,s.__v)}})}function n3(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:Td(n)?n.map(n3):gr({},n)}function cL(n,e,r,a,s,o,c,f,h){var g,m,p,v,_,w,N,C=r.props||tu,S=e.props,E=e.type;if(E=="svg"?s="http://www.w3.org/2000/svg":E=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(g=0;g<o.length;g++)if((_=o[g])&&"setAttribute"in _==!!E&&(E?_.localName==E:_.nodeType==3)){n=_,o[g]=null;break}}if(n==null){if(E==null)return document.createTextNode(S);n=document.createElementNS(s,E,S.is&&S),f&&(st.__m&&st.__m(e,o),f=!1),o=null}if(E==null)C===S||f&&n.data==S||(n.data=S);else{if(o=o&&_u.call(n.childNodes),!f&&o!=null)for(C={},g=0;g<n.attributes.length;g++)C[(_=n.attributes[g]).name]=_.value;for(g in C)if(_=C[g],g!="children"){if(g=="dangerouslySetInnerHTML")p=_;else if(!(g in S)){if(g=="value"&&"defaultValue"in S||g=="checked"&&"defaultChecked"in S)continue;af(n,g,null,_,s)}}for(g in S)_=S[g],g=="children"?v=_:g=="dangerouslySetInnerHTML"?m=_:g=="value"?w=_:g=="checked"?N=_:f&&typeof _!="function"||C[g]===_||af(n,g,_,C[g],s);if(m)f||p&&(m.__html==p.__html||m.__html==n.innerHTML)||(n.innerHTML=m.__html),e.__k=[];else if(p&&(n.innerHTML=""),WN(e.type=="template"?n.content:n,Td(v)?v:[v],e,r,a,E=="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,c,o?o[0]:r.__k&&rs(r,0),f,h),o!=null)for(g=o.length;g--;)Qm(o[g]);f||(g="value",E=="progress"&&w==null?n.removeAttribute("value"):w!=null&&(w!==n[g]||E=="progress"&&!w||E=="option"&&w!=C[g])&&af(n,g,w,C[g],s),g="checked",N!=null&&N!=n[g]&&af(n,g,N,C[g],s))}return n}function Jm(n,e,r){try{if(typeof n=="function"){var a=typeof n.__u=="function";a&&n.__u(),a&&e==null||(n.__u=n(e))}else n.current=e}catch(s){st.__e(s,r)}}function r3(n,e,r){var a,s;if(st.unmount&&st.unmount(n),(a=n.ref)&&(a.current&&a.current!=n.__e||Jm(a,null,e)),(a=n.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(o){st.__e(o,e)}a.base=a.__P=null}if(a=n.__k)for(s=0;s<a.length;s++)a[s]&&r3(a[s],e,r||typeof n.type!="function");r||Qm(n.__e),n.__c=n.__=n.__e=void 0}function fL(n,e,r){return this.constructor(n,r)}function dL(n,e,r){var a,s,o,c;e==document&&(e=document.documentElement),st.__&&st.__(n,e),s=(a=!1)?null:e.__k,o=[],c=[],Zm(e,n=e.__k=sL(jd,null,[n]),s||tu,tu,e.namespaceURI,s?null:e.firstChild?_u.call(e.childNodes):null,o,s?s.__e:e.firstChild,a,c),t3(o,n,c)}function i3(n,e,r){var a,s,o,c,f=gr({},n.props);for(o in n.type&&n.type.defaultProps&&(c=n.type.defaultProps),e)o=="key"?a=e[o]:o=="ref"?s=e[o]:f[o]=e[o]===void 0&&c!=null?c[o]:e[o];return arguments.length>2&&(f.children=arguments.length>3?_u.call(arguments,2):r),zo(n.type,f,a||n.key,s||n.ref,null)}_u=ZN.slice,st={__e:function(n,e,r,a){for(var s,o,c;e=e.__;)if((s=e.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(n)),c=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(n,a||{}),c=s.__d),c)return s.__E=s}catch(f){n=f}throw n}},IN=0,YN=function(n){return n!=null&&n.constructor==null},_f.prototype.setState=function(n,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=gr({},this.state),typeof n=="function"&&(n=n(gr({},r),this.props)),n&&gr(r,n),n!=null&&this.__v&&(e&&this._sb.push(e),G2(this))},_f.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),G2(this))},_f.prototype.render=jd,_a=[],VN=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,XN=function(n,e){return n.__v.__b-e.__v.__b},Jf.__r=0,QN=/(PointerCapture)$|Capture$/i,Xm=0,z0=I2(!1),R0=I2(!0);function Y2(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,a=Array(e);r<e;r++)a[r]=n[r];return a}function hL(n){if(Array.isArray(n))return n}function gL(n,e,r){return(e=bL(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function pL(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var a,s,o,c,f=[],h=!0,g=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(h=(a=o.call(r)).done)&&(f.push(a.value),f.length!==e);h=!0);}catch(m){g=!0,s=m}finally{try{if(!h&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw s}}return f}}function mL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V2(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,a)}return r}function yL(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(r),!0).forEach(function(a){gL(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function xL(n,e){return hL(n)||pL(n,e)||_L(n,e)||mL()}function vL(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bL(n){var e=vL(n,"string");return typeof e=="symbol"?e:e+""}function Wf(n){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(n)}function _L(n,e){if(n){if(typeof n=="string")return Y2(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y2(n,e):void 0}}var $0=function(e){if(Wf(e)!=="object")return e;var r=i3(e);if(r.props){var a;r.props=yL({},r.props),r!=null&&(a=r.props)!==null&&a!==void 0&&a.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map($0):$0(r.props.children))}return r},wL=function(e){return YN(i3(e))},SL=function(e,r){delete r.__k,dL($0(e),r)};function CL(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var NL=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;CL(NL);var kL=Vm({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=a.style,o=s===void 0?{}:s,c=!!e&&Wf(e)==="object"&&!!e.node&&typeof e.node=="function",f=Rn(c?e.node():e);f.style("position")==="static"&&f.style("position","relative"),r.tooltipEl=f.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(g){var m=xL(g,2),p=m[0],v=m[1];return r.tooltipEl.style(p,v)}),r.tooltipEl.style("left","-10000px").style("display","none");var h="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,f.on("mousemove.".concat(h),function(g){r.mouseInside=!0;var m=fr(g),p=f.node(),v=p.offsetWidth,_=p.offsetHeight,w=[r.offsetX===null||r.offsetX===void 0?"-".concat(m[0]/v*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?_>130&&_-m[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",m[0]+"px").style("top",m[1]+"px").style("transform","translate(".concat(w.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),f.on("mouseover.".concat(h),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),f.on("mouseout.".concat(h),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.content?e.content instanceof HTMLElement?(e.tooltipEl.text(""),e.tooltipEl.append(function(){return e.content})):typeof e.content=="string"?e.tooltipEl.html(e.content):wL(e.content)?(e.tooltipEl.text(""),SL(e.content,e.tooltipEl.node())):(e.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",e.content,e.content.toString())):e.tooltipEl.text("")}});function EL(n,e,r){var a,s=1;n==null&&(n=0),e==null&&(e=0),r==null&&(r=0);function o(){var c,f=a.length,h,g=0,m=0,p=0;for(c=0;c<f;++c)h=a[c],g+=h.x||0,m+=h.y||0,p+=h.z||0;for(g=(g/f-n)*s,m=(m/f-e)*s,p=(p/f-r)*s,c=0;c<f;++c)h=a[c],g&&(h.x-=g),m&&(h.y-=m),p&&(h.z-=p)}return o.initialize=function(c){a=c},o.x=function(c){return arguments.length?(n=+c,o):n},o.y=function(c){return arguments.length?(e=+c,o):e},o.z=function(c){return arguments.length?(r=+c,o):r},o.strength=function(c){return arguments.length?(s=+c,o):s},o}function TL(n){const e=+this._x.call(null,n);return a3(this.cover(e),e,n)}function a3(n,e,r){if(isNaN(e))return n;var a,s=n._root,o={data:r},c=n._x0,f=n._x1,h,g,m,p,v;if(!s)return n._root=o,n;for(;s.length;)if((m=e>=(h=(c+f)/2))?c=h:f=h,a=s,!(s=s[p=+m]))return a[p]=o,n;if(g=+n._x.call(null,s.data),e===g)return o.next=s,a?a[p]=o:n._root=o,n;do a=a?a[p]=new Array(2):n._root=new Array(2),(m=e>=(h=(c+f)/2))?c=h:f=h;while((p=+m)==(v=+(g>=h)));return a[v]=s,a[p]=o,n}function jL(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e);let a=1/0,s=-1/0;for(let o=0,c;o<e;++o)isNaN(c=+this._x.call(null,n[o]))||(r[o]=c,c<a&&(a=c),c>s&&(s=c));if(a>s)return this;this.cover(a).cover(s);for(let o=0;o<e;++o)a3(this,r[o],n[o]);return this}function AL(n){if(isNaN(n=+n))return this;var e=this._x0,r=this._x1;if(isNaN(e))r=(e=Math.floor(n))+1;else{for(var a=r-e||1,s=this._root,o,c;e>n||n>=r;)switch(c=+(n<e),o=new Array(2),o[c]=s,s=o,a*=2,c){case 0:r=e+a;break;case 1:e=r-a;break}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._x1=r,this}function ML(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function DL(n){return arguments.length?this.cover(+n[0][0]).cover(+n[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function ti(n,e,r){this.node=n,this.x0=e,this.x1=r}function OL(n,e){var r,a=this._x0,s,o,c=this._x1,f=[],h=this._root,g,m;for(h&&f.push(new ti(h,a,c)),e==null?e=1/0:(a=n-e,c=n+e);g=f.pop();)if(!(!(h=g.node)||(s=g.x0)>c||(o=g.x1)<a))if(h.length){var p=(s+o)/2;f.push(new ti(h[1],p,o),new ti(h[0],s,p)),(m=+(n>=p))&&(g=f[f.length-1],f[f.length-1]=f[f.length-1-m],f[f.length-1-m]=g)}else{var v=Math.abs(n-+this._x.call(null,h.data));v<e&&(e=v,a=n-v,c=n+v,r=h.data)}return r}function zL(n){if(isNaN(h=+this._x.call(null,n)))return this;var e,r=this._root,a,s,o,c=this._x0,f=this._x1,h,g,m,p,v;if(!r)return this;if(r.length)for(;;){if((m=h>=(g=(c+f)/2))?c=g:f=g,e=r,!(r=r[p=+m]))return this;if(!r.length)break;e[p+1&1]&&(a=e,v=p)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[p]=o:delete e[p],(r=e[0]||e[1])&&r===(e[1]||e[0])&&!r.length&&(a?a[v]=r:this._root=r),this):(this._root=o,this)}function RL(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function LL(){return this._root}function $L(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function UL(n){var e=[],r,a=this._root,s,o,c;for(a&&e.push(new ti(a,this._x0,this._x1));r=e.pop();)if(!n(a=r.node,o=r.x0,c=r.x1)&&a.length){var f=(o+c)/2;(s=a[1])&&e.push(new ti(s,f,c)),(s=a[0])&&e.push(new ti(s,o,f))}return this}function BL(n){var e=[],r=[],a;for(this._root&&e.push(new ti(this._root,this._x0,this._x1));a=e.pop();){var s=a.node;if(s.length){var o,c=a.x0,f=a.x1,h=(c+f)/2;(o=s[0])&&e.push(new ti(o,c,h)),(o=s[1])&&e.push(new ti(o,h,f))}r.push(a)}for(;a=r.pop();)n(a.node,a.x0,a.x1);return this}function HL(n){return n[0]}function PL(n){return arguments.length?(this._x=n,this):this._x}function l3(n,e){var r=new Wm(e??HL,NaN,NaN);return n==null?r:r.addAll(n)}function Wm(n,e,r){this._x=n,this._x0=e,this._x1=r,this._root=void 0}function X2(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var ln=l3.prototype=Wm.prototype;ln.copy=function(){var n=new Wm(this._x,this._x0,this._x1),e=this._root,r,a;if(!e)return n;if(!e.length)return n._root=X2(e),n;for(r=[{source:e,target:n._root=new Array(2)}];e=r.pop();)for(var s=0;s<2;++s)(a=e.source[s])&&(a.length?r.push({source:a,target:e.target[s]=new Array(2)}):e.target[s]=X2(a));return n};ln.add=TL;ln.addAll=jL;ln.cover=AL;ln.data=ML;ln.extent=DL;ln.find=OL;ln.remove=zL;ln.removeAll=RL;ln.root=LL;ln.size=$L;ln.visit=UL;ln.visitAfter=BL;ln.x=PL;function FL(n){const e=+this._x.call(null,n),r=+this._y.call(null,n);return s3(this.cover(e,r),e,r,n)}function s3(n,e,r,a){if(isNaN(e)||isNaN(r))return n;var s,o=n._root,c={data:a},f=n._x0,h=n._y0,g=n._x1,m=n._y1,p,v,_,w,N,C,S,E;if(!o)return n._root=c,n;for(;o.length;)if((N=e>=(p=(f+g)/2))?f=p:g=p,(C=r>=(v=(h+m)/2))?h=v:m=v,s=o,!(o=o[S=C<<1|N]))return s[S]=c,n;if(_=+n._x.call(null,o.data),w=+n._y.call(null,o.data),e===_&&r===w)return c.next=o,s?s[S]=c:n._root=c,n;do s=s?s[S]=new Array(4):n._root=new Array(4),(N=e>=(p=(f+g)/2))?f=p:g=p,(C=r>=(v=(h+m)/2))?h=v:m=v;while((S=C<<1|N)===(E=(w>=v)<<1|_>=p));return s[E]=o,s[S]=c,n}function qL(n){var e,r,a=n.length,s,o,c=new Array(a),f=new Array(a),h=1/0,g=1/0,m=-1/0,p=-1/0;for(r=0;r<a;++r)isNaN(s=+this._x.call(null,e=n[r]))||isNaN(o=+this._y.call(null,e))||(c[r]=s,f[r]=o,s<h&&(h=s),s>m&&(m=s),o<g&&(g=o),o>p&&(p=o));if(h>m||g>p)return this;for(this.cover(h,g).cover(m,p),r=0;r<a;++r)s3(this,c[r],f[r],n[r]);return this}function GL(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var r=this._x0,a=this._y0,s=this._x1,o=this._y1;if(isNaN(r))s=(r=Math.floor(n))+1,o=(a=Math.floor(e))+1;else{for(var c=s-r||1,f=this._root,h,g;r>n||n>=s||a>e||e>=o;)switch(g=(e<a)<<1|n<r,h=new Array(4),h[g]=f,f=h,c*=2,g){case 0:s=r+c,o=a+c;break;case 1:r=s-c,o=a+c;break;case 2:s=r+c,a=o-c;break;case 3:r=s-c,a=o-c;break}this._root&&this._root.length&&(this._root=f)}return this._x0=r,this._y0=a,this._x1=s,this._y1=o,this}function KL(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function IL(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Gt(n,e,r,a,s){this.node=n,this.x0=e,this.y0=r,this.x1=a,this.y1=s}function YL(n,e,r){var a,s=this._x0,o=this._y0,c,f,h,g,m=this._x1,p=this._y1,v=[],_=this._root,w,N;for(_&&v.push(new Gt(_,s,o,m,p)),r==null?r=1/0:(s=n-r,o=e-r,m=n+r,p=e+r,r*=r);w=v.pop();)if(!(!(_=w.node)||(c=w.x0)>m||(f=w.y0)>p||(h=w.x1)<s||(g=w.y1)<o))if(_.length){var C=(c+h)/2,S=(f+g)/2;v.push(new Gt(_[3],C,S,h,g),new Gt(_[2],c,S,C,g),new Gt(_[1],C,f,h,S),new Gt(_[0],c,f,C,S)),(N=(e>=S)<<1|n>=C)&&(w=v[v.length-1],v[v.length-1]=v[v.length-1-N],v[v.length-1-N]=w)}else{var E=n-+this._x.call(null,_.data),T=e-+this._y.call(null,_.data),j=E*E+T*T;if(j<r){var M=Math.sqrt(r=j);s=n-M,o=e-M,m=n+M,p=e+M,a=_.data}}return a}function VL(n){if(isNaN(m=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n)))return this;var e,r=this._root,a,s,o,c=this._x0,f=this._y0,h=this._x1,g=this._y1,m,p,v,_,w,N,C,S;if(!r)return this;if(r.length)for(;;){if((w=m>=(v=(c+h)/2))?c=v:h=v,(N=p>=(_=(f+g)/2))?f=_:g=_,e=r,!(r=r[C=N<<1|w]))return this;if(!r.length)break;(e[C+1&3]||e[C+2&3]||e[C+3&3])&&(a=e,S=C)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[C]=o:delete e[C],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(a?a[S]=r:this._root=r),this):(this._root=o,this)}function XL(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function QL(){return this._root}function ZL(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function JL(n){var e=[],r,a=this._root,s,o,c,f,h;for(a&&e.push(new Gt(a,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!n(a=r.node,o=r.x0,c=r.y0,f=r.x1,h=r.y1)&&a.length){var g=(o+f)/2,m=(c+h)/2;(s=a[3])&&e.push(new Gt(s,g,m,f,h)),(s=a[2])&&e.push(new Gt(s,o,m,g,h)),(s=a[1])&&e.push(new Gt(s,g,c,f,m)),(s=a[0])&&e.push(new Gt(s,o,c,g,m))}return this}function WL(n){var e=[],r=[],a;for(this._root&&e.push(new Gt(this._root,this._x0,this._y0,this._x1,this._y1));a=e.pop();){var s=a.node;if(s.length){var o,c=a.x0,f=a.y0,h=a.x1,g=a.y1,m=(c+h)/2,p=(f+g)/2;(o=s[0])&&e.push(new Gt(o,c,f,m,p)),(o=s[1])&&e.push(new Gt(o,m,f,h,p)),(o=s[2])&&e.push(new Gt(o,c,p,m,g)),(o=s[3])&&e.push(new Gt(o,m,p,h,g))}r.push(a)}for(;a=r.pop();)n(a.node,a.x0,a.y0,a.x1,a.y1);return this}function e$(n){return n[0]}function t$(n){return arguments.length?(this._x=n,this):this._x}function n$(n){return n[1]}function r$(n){return arguments.length?(this._y=n,this):this._y}function o3(n,e,r){var a=new ey(e??e$,r??n$,NaN,NaN,NaN,NaN);return n==null?a:a.addAll(n)}function ey(n,e,r,a,s,o){this._x=n,this._y=e,this._x0=r,this._y0=a,this._x1=s,this._y1=o,this._root=void 0}function Q2(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var It=o3.prototype=ey.prototype;It.copy=function(){var n=new ey(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,a;if(!e)return n;if(!e.length)return n._root=Q2(e),n;for(r=[{source:e,target:n._root=new Array(4)}];e=r.pop();)for(var s=0;s<4;++s)(a=e.source[s])&&(a.length?r.push({source:a,target:e.target[s]=new Array(4)}):e.target[s]=Q2(a));return n};It.add=FL;It.addAll=qL;It.cover=GL;It.data=KL;It.extent=IL;It.find=YL;It.remove=VL;It.removeAll=XL;It.root=QL;It.size=ZL;It.visit=JL;It.visitAfter=WL;It.x=t$;It.y=r$;function i$(n){const e=+this._x.call(null,n),r=+this._y.call(null,n),a=+this._z.call(null,n);return u3(this.cover(e,r,a),e,r,a,n)}function u3(n,e,r,a,s){if(isNaN(e)||isNaN(r)||isNaN(a))return n;var o,c=n._root,f={data:s},h=n._x0,g=n._y0,m=n._z0,p=n._x1,v=n._y1,_=n._z1,w,N,C,S,E,T,j,M,O,A,R;if(!c)return n._root=f,n;for(;c.length;)if((j=e>=(w=(h+p)/2))?h=w:p=w,(M=r>=(N=(g+v)/2))?g=N:v=N,(O=a>=(C=(m+_)/2))?m=C:_=C,o=c,!(c=c[A=O<<2|M<<1|j]))return o[A]=f,n;if(S=+n._x.call(null,c.data),E=+n._y.call(null,c.data),T=+n._z.call(null,c.data),e===S&&r===E&&a===T)return f.next=c,o?o[A]=f:n._root=f,n;do o=o?o[A]=new Array(8):n._root=new Array(8),(j=e>=(w=(h+p)/2))?h=w:p=w,(M=r>=(N=(g+v)/2))?g=N:v=N,(O=a>=(C=(m+_)/2))?m=C:_=C;while((A=O<<2|M<<1|j)===(R=(T>=C)<<2|(E>=N)<<1|S>=w));return o[R]=c,o[A]=f,n}function a$(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,r=new Float64Array(e),a=new Float64Array(e),s=new Float64Array(e);let o=1/0,c=1/0,f=1/0,h=-1/0,g=-1/0,m=-1/0;for(let p=0,v,_,w,N;p<e;++p)isNaN(_=+this._x.call(null,v=n[p]))||isNaN(w=+this._y.call(null,v))||isNaN(N=+this._z.call(null,v))||(r[p]=_,a[p]=w,s[p]=N,_<o&&(o=_),_>h&&(h=_),w<c&&(c=w),w>g&&(g=w),N<f&&(f=N),N>m&&(m=N));if(o>h||c>g||f>m)return this;this.cover(o,c,f).cover(h,g,m);for(let p=0;p<e;++p)u3(this,r[p],a[p],s[p],n[p]);return this}function l$(n,e,r){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(r=+r))return this;var a=this._x0,s=this._y0,o=this._z0,c=this._x1,f=this._y1,h=this._z1;if(isNaN(a))c=(a=Math.floor(n))+1,f=(s=Math.floor(e))+1,h=(o=Math.floor(r))+1;else{for(var g=c-a||1,m=this._root,p,v;a>n||n>=c||s>e||e>=f||o>r||r>=h;)switch(v=(r<o)<<2|(e<s)<<1|n<a,p=new Array(8),p[v]=m,m=p,g*=2,v){case 0:c=a+g,f=s+g,h=o+g;break;case 1:a=c-g,f=s+g,h=o+g;break;case 2:c=a+g,s=f-g,h=o+g;break;case 3:a=c-g,s=f-g,h=o+g;break;case 4:c=a+g,f=s+g,o=h-g;break;case 5:a=c-g,f=s+g,o=h-g;break;case 6:c=a+g,s=f-g,o=h-g;break;case 7:a=c-g,s=f-g,o=h-g;break}this._root&&this._root.length&&(this._root=m)}return this._x0=a,this._y0=s,this._z0=o,this._x1=c,this._y1=f,this._z1=h,this}function s$(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function o$(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function tt(n,e,r,a,s,o,c){this.node=n,this.x0=e,this.y0=r,this.z0=a,this.x1=s,this.y1=o,this.z1=c}function u$(n,e,r,a){var s,o=this._x0,c=this._y0,f=this._z0,h,g,m,p,v,_,w=this._x1,N=this._y1,C=this._z1,S=[],E=this._root,T,j;for(E&&S.push(new tt(E,o,c,f,w,N,C)),a==null?a=1/0:(o=n-a,c=e-a,f=r-a,w=n+a,N=e+a,C=r+a,a*=a);T=S.pop();)if(!(!(E=T.node)||(h=T.x0)>w||(g=T.y0)>N||(m=T.z0)>C||(p=T.x1)<o||(v=T.y1)<c||(_=T.z1)<f))if(E.length){var M=(h+p)/2,O=(g+v)/2,A=(m+_)/2;S.push(new tt(E[7],M,O,A,p,v,_),new tt(E[6],h,O,A,M,v,_),new tt(E[5],M,g,A,p,O,_),new tt(E[4],h,g,A,M,O,_),new tt(E[3],M,O,m,p,v,A),new tt(E[2],h,O,m,M,v,A),new tt(E[1],M,g,m,p,O,A),new tt(E[0],h,g,m,M,O,A)),(j=(r>=A)<<2|(e>=O)<<1|n>=M)&&(T=S[S.length-1],S[S.length-1]=S[S.length-1-j],S[S.length-1-j]=T)}else{var R=n-+this._x.call(null,E.data),$=e-+this._y.call(null,E.data),H=r-+this._z.call(null,E.data),I=R*R+$*$+H*H;if(I<a){var F=Math.sqrt(a=I);o=n-F,c=e-F,f=r-F,w=n+F,N=e+F,C=r+F,s=E.data}}return s}const c$=(n,e,r,a,s,o)=>Math.sqrt((n-a)**2+(e-s)**2+(r-o)**2);function f$(n,e,r,a){const s=[],o=n-a,c=e-a,f=r-a,h=n+a,g=e+a,m=r+a;return this.visit((p,v,_,w,N,C,S)=>{if(!p.length)do{const E=p.data;c$(n,e,r,this._x(E),this._y(E),this._z(E))<=a&&s.push(E)}while(p=p.next);return v>h||_>g||w>m||N<o||C<c||S<f}),s}function d$(n){if(isNaN(v=+this._x.call(null,n))||isNaN(_=+this._y.call(null,n))||isNaN(w=+this._z.call(null,n)))return this;var e,r=this._root,a,s,o,c=this._x0,f=this._y0,h=this._z0,g=this._x1,m=this._y1,p=this._z1,v,_,w,N,C,S,E,T,j,M,O;if(!r)return this;if(r.length)for(;;){if((E=v>=(N=(c+g)/2))?c=N:g=N,(T=_>=(C=(f+m)/2))?f=C:m=C,(j=w>=(S=(h+p)/2))?h=S:p=S,e=r,!(r=r[M=j<<2|T<<1|E]))return this;if(!r.length)break;(e[M+1&7]||e[M+2&7]||e[M+3&7]||e[M+4&7]||e[M+5&7]||e[M+6&7]||e[M+7&7])&&(a=e,O=M)}for(;r.data!==n;)if(s=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,s?(o?s.next=o:delete s.next,this):e?(o?e[M]=o:delete e[M],(r=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&r===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!r.length&&(a?a[O]=r:this._root=r),this):(this._root=o,this)}function h$(n){for(var e=0,r=n.length;e<r;++e)this.remove(n[e]);return this}function g$(){return this._root}function p$(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function m$(n){var e=[],r,a=this._root,s,o,c,f,h,g,m;for(a&&e.push(new tt(a,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=e.pop();)if(!n(a=r.node,o=r.x0,c=r.y0,f=r.z0,h=r.x1,g=r.y1,m=r.z1)&&a.length){var p=(o+h)/2,v=(c+g)/2,_=(f+m)/2;(s=a[7])&&e.push(new tt(s,p,v,_,h,g,m)),(s=a[6])&&e.push(new tt(s,o,v,_,p,g,m)),(s=a[5])&&e.push(new tt(s,p,c,_,h,v,m)),(s=a[4])&&e.push(new tt(s,o,c,_,p,v,m)),(s=a[3])&&e.push(new tt(s,p,v,f,h,g,_)),(s=a[2])&&e.push(new tt(s,o,v,f,p,g,_)),(s=a[1])&&e.push(new tt(s,p,c,f,h,v,_)),(s=a[0])&&e.push(new tt(s,o,c,f,p,v,_))}return this}function y$(n){var e=[],r=[],a;for(this._root&&e.push(new tt(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));a=e.pop();){var s=a.node;if(s.length){var o,c=a.x0,f=a.y0,h=a.z0,g=a.x1,m=a.y1,p=a.z1,v=(c+g)/2,_=(f+m)/2,w=(h+p)/2;(o=s[0])&&e.push(new tt(o,c,f,h,v,_,w)),(o=s[1])&&e.push(new tt(o,v,f,h,g,_,w)),(o=s[2])&&e.push(new tt(o,c,_,h,v,m,w)),(o=s[3])&&e.push(new tt(o,v,_,h,g,m,w)),(o=s[4])&&e.push(new tt(o,c,f,w,v,_,p)),(o=s[5])&&e.push(new tt(o,v,f,w,g,_,p)),(o=s[6])&&e.push(new tt(o,c,_,w,v,m,p)),(o=s[7])&&e.push(new tt(o,v,_,w,g,m,p))}r.push(a)}for(;a=r.pop();)n(a.node,a.x0,a.y0,a.z0,a.x1,a.y1,a.z1);return this}function x$(n){return n[0]}function v$(n){return arguments.length?(this._x=n,this):this._x}function b$(n){return n[1]}function _$(n){return arguments.length?(this._y=n,this):this._y}function w$(n){return n[2]}function S$(n){return arguments.length?(this._z=n,this):this._z}function c3(n,e,r,a){var s=new ty(e??x$,r??b$,a??w$,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?s:s.addAll(n)}function ty(n,e,r,a,s,o,c,f,h){this._x=n,this._y=e,this._z=r,this._x0=a,this._y0=s,this._z0=o,this._x1=c,this._y1=f,this._z1=h,this._root=void 0}function Z2(n){for(var e={data:n.data},r=e;n=n.next;)r=r.next={data:n.data};return e}var Lt=c3.prototype=ty.prototype;Lt.copy=function(){var n=new ty(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,r,a;if(!e)return n;if(!e.length)return n._root=Z2(e),n;for(r=[{source:e,target:n._root=new Array(8)}];e=r.pop();)for(var s=0;s<8;++s)(a=e.source[s])&&(a.length?r.push({source:a,target:e.target[s]=new Array(8)}):e.target[s]=Z2(a));return n};Lt.add=i$;Lt.addAll=a$;Lt.cover=l$;Lt.data=s$;Lt.extent=o$;Lt.find=u$;Lt.findAllWithinRadius=f$;Lt.remove=d$;Lt.removeAll=h$;Lt.root=g$;Lt.size=p$;Lt.visit=m$;Lt.visitAfter=y$;Lt.x=v$;Lt.y=_$;Lt.z=S$;function Wr(n){return function(){return n}}function Qr(n){return(n()-.5)*1e-6}function C$(n){return n.index}function J2(n,e){var r=n.get(e);if(!r)throw new Error("node not found: "+e);return r}function N$(n){var e=C$,r=v,a,s=Wr(30),o,c,f,h,g,m,p=1;n==null&&(n=[]);function v(S){return 1/Math.min(h[S.source.index],h[S.target.index])}function _(S){for(var E=0,T=n.length;E<p;++E)for(var j=0,M,O,A,R=0,$=0,H=0,I,F;j<T;++j)M=n[j],O=M.source,A=M.target,R=A.x+A.vx-O.x-O.vx||Qr(m),f>1&&($=A.y+A.vy-O.y-O.vy||Qr(m)),f>2&&(H=A.z+A.vz-O.z-O.vz||Qr(m)),I=Math.sqrt(R*R+$*$+H*H),I=(I-o[j])/I*S*a[j],R*=I,$*=I,H*=I,A.vx-=R*(F=g[j]),f>1&&(A.vy-=$*F),f>2&&(A.vz-=H*F),O.vx+=R*(F=1-F),f>1&&(O.vy+=$*F),f>2&&(O.vz+=H*F)}function w(){if(c){var S,E=c.length,T=n.length,j=new Map(c.map((O,A)=>[e(O,A,c),O])),M;for(S=0,h=new Array(E);S<T;++S)M=n[S],M.index=S,typeof M.source!="object"&&(M.source=J2(j,M.source)),typeof M.target!="object"&&(M.target=J2(j,M.target)),h[M.source.index]=(h[M.source.index]||0)+1,h[M.target.index]=(h[M.target.index]||0)+1;for(S=0,g=new Array(T);S<T;++S)M=n[S],g[S]=h[M.source.index]/(h[M.source.index]+h[M.target.index]);a=new Array(T),N(),o=new Array(T),C()}}function N(){if(c)for(var S=0,E=n.length;S<E;++S)a[S]=+r(n[S],S,n)}function C(){if(c)for(var S=0,E=n.length;S<E;++S)o[S]=+s(n[S],S,n)}return _.initialize=function(S,...E){c=S,m=E.find(T=>typeof T=="function")||Math.random,f=E.find(T=>[1,2,3].includes(T))||2,w()},_.links=function(S){return arguments.length?(n=S,w(),_):n},_.id=function(S){return arguments.length?(e=S,_):e},_.iterations=function(S){return arguments.length?(p=+S,_):p},_.strength=function(S){return arguments.length?(r=typeof S=="function"?S:Wr(+S),N(),_):r},_.distance=function(S){return arguments.length?(s=typeof S=="function"?S:Wr(+S),C(),_):s},_}const k$=1664525,E$=1013904223,W2=4294967296;function T$(){let n=1;return()=>(n=(k$*n+E$)%W2)/W2}var ew=3;function kp(n){return n.x}function tw(n){return n.y}function j$(n){return n.z}var A$=10,M$=Math.PI*(3-Math.sqrt(5)),D$=Math.PI*20/(9+Math.sqrt(221));function O$(n,e){e=e||2;var r=Math.min(ew,Math.max(1,Math.round(e))),a,s=1,o=.001,c=1-Math.pow(o,1/300),f=0,h=.6,g=new Map,m=Gm(_),p=vu("tick","end"),v=T$();n==null&&(n=[]);function _(){w(),p.call("tick",a),s<o&&(m.stop(),p.call("end",a))}function w(S){var E,T=n.length,j;S===void 0&&(S=1);for(var M=0;M<S;++M)for(s+=(f-s)*c,g.forEach(function(O){O(s)}),E=0;E<T;++E)j=n[E],j.fx==null?j.x+=j.vx*=h:(j.x=j.fx,j.vx=0),r>1&&(j.fy==null?j.y+=j.vy*=h:(j.y=j.fy,j.vy=0)),r>2&&(j.fz==null?j.z+=j.vz*=h:(j.z=j.fz,j.vz=0));return a}function N(){for(var S=0,E=n.length,T;S<E;++S){if(T=n[S],T.index=S,T.fx!=null&&(T.x=T.fx),T.fy!=null&&(T.y=T.fy),T.fz!=null&&(T.z=T.fz),isNaN(T.x)||r>1&&isNaN(T.y)||r>2&&isNaN(T.z)){var j=A$*(r>2?Math.cbrt(.5+S):r>1?Math.sqrt(.5+S):S),M=S*M$,O=S*D$;r===1?T.x=j:r===2?(T.x=j*Math.cos(M),T.y=j*Math.sin(M)):(T.x=j*Math.sin(M)*Math.cos(O),T.y=j*Math.cos(M),T.z=j*Math.sin(M)*Math.sin(O))}(isNaN(T.vx)||r>1&&isNaN(T.vy)||r>2&&isNaN(T.vz))&&(T.vx=0,r>1&&(T.vy=0),r>2&&(T.vz=0))}}function C(S){return S.initialize&&S.initialize(n,v,r),S}return N(),a={tick:w,restart:function(){return m.restart(_),a},stop:function(){return m.stop(),a},numDimensions:function(S){return arguments.length?(r=Math.min(ew,Math.max(1,Math.round(S))),g.forEach(C),a):r},nodes:function(S){return arguments.length?(n=S,N(),g.forEach(C),a):n},alpha:function(S){return arguments.length?(s=+S,a):s},alphaMin:function(S){return arguments.length?(o=+S,a):o},alphaDecay:function(S){return arguments.length?(c=+S,a):+c},alphaTarget:function(S){return arguments.length?(f=+S,a):f},velocityDecay:function(S){return arguments.length?(h=1-S,a):1-h},randomSource:function(S){return arguments.length?(v=S,g.forEach(C),a):v},force:function(S,E){return arguments.length>1?(E==null?g.delete(S):g.set(S,C(E)),a):g.get(S)},find:function(){var S=Array.prototype.slice.call(arguments),E=S.shift()||0,T=(r>1?S.shift():null)||0,j=(r>2?S.shift():null)||0,M=S.shift()||1/0,O=0,A=n.length,R,$,H,I,F,Q;for(M*=M,O=0;O<A;++O)F=n[O],R=E-F.x,$=T-(F.y||0),H=j-(F.z||0),I=R*R+$*$+H*H,I<M&&(Q=F,M=I);return Q},on:function(S,E){return arguments.length>1?(p.on(S,E),a):p.on(S)}}}function z$(){var n,e,r,a,s,o=Wr(-30),c,f=1,h=1/0,g=.81;function m(w){var N,C=n.length,S=(e===1?l3(n,kp):e===2?o3(n,kp,tw):e===3?c3(n,kp,tw,j$):null).visitAfter(v);for(s=w,N=0;N<C;++N)r=n[N],S.visit(_)}function p(){if(n){var w,N=n.length,C;for(c=new Array(N),w=0;w<N;++w)C=n[w],c[C.index]=+o(C,w,n)}}function v(w){var N=0,C,S,E=0,T,j,M,O,A=w.length;if(A){for(T=j=M=O=0;O<A;++O)(C=w[O])&&(S=Math.abs(C.value))&&(N+=C.value,E+=S,T+=S*(C.x||0),j+=S*(C.y||0),M+=S*(C.z||0));N*=Math.sqrt(4/A),w.x=T/E,e>1&&(w.y=j/E),e>2&&(w.z=M/E)}else{C=w,C.x=C.data.x,e>1&&(C.y=C.data.y),e>2&&(C.z=C.data.z);do N+=c[C.data.index];while(C=C.next)}w.value=N}function _(w,N,C,S,E){if(!w.value)return!0;var T=[C,S,E][e-1],j=w.x-r.x,M=e>1?w.y-r.y:0,O=e>2?w.z-r.z:0,A=T-N,R=j*j+M*M+O*O;if(A*A/g<R)return R<h&&(j===0&&(j=Qr(a),R+=j*j),e>1&&M===0&&(M=Qr(a),R+=M*M),e>2&&O===0&&(O=Qr(a),R+=O*O),R<f&&(R=Math.sqrt(f*R)),r.vx+=j*w.value*s/R,e>1&&(r.vy+=M*w.value*s/R),e>2&&(r.vz+=O*w.value*s/R)),!0;if(w.length||R>=h)return;(w.data!==r||w.next)&&(j===0&&(j=Qr(a),R+=j*j),e>1&&M===0&&(M=Qr(a),R+=M*M),e>2&&O===0&&(O=Qr(a),R+=O*O),R<f&&(R=Math.sqrt(f*R)));do w.data!==r&&(A=c[w.data.index]*s/R,r.vx+=j*A,e>1&&(r.vy+=M*A),e>2&&(r.vz+=O*A));while(w=w.next)}return m.initialize=function(w,...N){n=w,a=N.find(C=>typeof C=="function")||Math.random,e=N.find(C=>[1,2,3].includes(C))||2,p()},m.strength=function(w){return arguments.length?(o=typeof w=="function"?w:Wr(+w),p(),m):o},m.distanceMin=function(w){return arguments.length?(f=w*w,m):Math.sqrt(f)},m.distanceMax=function(w){return arguments.length?(h=w*w,m):Math.sqrt(h)},m.theta=function(w){return arguments.length?(g=w*w,m):Math.sqrt(g)},m}function R$(n,e,r,a){var s,o,c=Wr(.1),f,h;typeof n!="function"&&(n=Wr(+n)),e==null&&(e=0),r==null&&(r=0),a==null&&(a=0);function g(p){for(var v=0,_=s.length;v<_;++v){var w=s[v],N=w.x-e||1e-6,C=(w.y||0)-r||1e-6,S=(w.z||0)-a||1e-6,E=Math.sqrt(N*N+C*C+S*S),T=(h[v]-E)*f[v]*p/E;w.vx+=N*T,o>1&&(w.vy+=C*T),o>2&&(w.vz+=S*T)}}function m(){if(s){var p,v=s.length;for(f=new Array(v),h=new Array(v),p=0;p<v;++p)h[p]=+n(s[p],p,s),f[p]=isNaN(h[p])?0:+c(s[p],p,s)}}return g.initialize=function(p,...v){s=p,o=v.find(_=>[1,2,3].includes(_))||2,m()},g.strength=function(p){return arguments.length?(c=typeof p=="function"?p:Wr(+p),m(),g):c},g.radius=function(p){return arguments.length?(n=typeof p=="function"?p:Wr(+p),m(),g):n},g.x=function(p){return arguments.length?(e=+p,g):e},g.y=function(p){return arguments.length?(r=+p,g):r},g.z=function(p){return arguments.length?(a=+p,g):a},g}const{abs:mo,cos:Ir,sin:Rl,acos:L$,atan2:yo,sqrt:Ri,pow:On}=Math;function xo(n){return n<0?-On(-n,1/3):On(n,1/3)}const f3=Math.PI,lf=2*f3,Li=f3/2,$$=1e-6,Ep=Number.MAX_SAFE_INTEGER||9007199254740991,Tp=Number.MIN_SAFE_INTEGER||-9007199254740991,U$={x:0,y:0,z:0},fe={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(n,e){const r=e(n);let a=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(a+=r.z*r.z),Ri(a)},compute:function(n,e,r){if(n===0)return e[0].t=0,e[0];const a=e.length-1;if(n===1)return e[a].t=1,e[a];const s=1-n;let o=e;if(a===0)return e[0].t=n,e[0];if(a===1){const f={x:s*o[0].x+n*o[1].x,y:s*o[0].y+n*o[1].y,t:n};return r&&(f.z=s*o[0].z+n*o[1].z),f}if(a<4){let f=s*s,h=n*n,g,m,p,v=0;a===2?(o=[o[0],o[1],o[2],U$],g=f,m=s*n*2,p=h):a===3&&(g=f*s,m=f*n*3,p=s*h*3,v=n*h);const _={x:g*o[0].x+m*o[1].x+p*o[2].x+v*o[3].x,y:g*o[0].y+m*o[1].y+p*o[2].y+v*o[3].y,t:n};return r&&(_.z=g*o[0].z+m*o[1].z+p*o[2].z+v*o[3].z),_}const c=JSON.parse(JSON.stringify(e));for(;c.length>1;){for(let f=0;f<c.length-1;f++)c[f]={x:c[f].x+(c[f+1].x-c[f].x)*n,y:c[f].y+(c[f+1].y-c[f].y)*n},typeof c[f].z<"u"&&(c[f].z=c[f].z+(c[f+1].z-c[f].z)*n);c.splice(c.length-1,1)}return c[0].t=n,c[0]},computeWithRatios:function(n,e,r,a){const s=1-n,o=r,c=e;let f=o[0],h=o[1],g=o[2],m=o[3],p;if(f*=s,h*=n,c.length===2)return p=f+h,{x:(f*c[0].x+h*c[1].x)/p,y:(f*c[0].y+h*c[1].y)/p,z:a?(f*c[0].z+h*c[1].z)/p:!1,t:n};if(f*=s,h*=2*s,g*=n*n,c.length===3)return p=f+h+g,{x:(f*c[0].x+h*c[1].x+g*c[2].x)/p,y:(f*c[0].y+h*c[1].y+g*c[2].y)/p,z:a?(f*c[0].z+h*c[1].z+g*c[2].z)/p:!1,t:n};if(f*=s,h*=1.5*s,g*=3*s,m*=n*n*n,c.length===4)return p=f+h+g+m,{x:(f*c[0].x+h*c[1].x+g*c[2].x+m*c[3].x)/p,y:(f*c[0].y+h*c[1].y+g*c[2].y+m*c[3].y)/p,z:a?(f*c[0].z+h*c[1].z+g*c[2].z+m*c[3].z)/p:!1,t:n}},derive:function(n,e){const r=[];for(let a=n,s=a.length,o=s-1;s>1;s--,o--){const c=[];for(let f=0,h;f<o;f++)h={x:o*(a[f+1].x-a[f].x),y:o*(a[f+1].y-a[f].y)},e&&(h.z=o*(a[f+1].z-a[f].z)),c.push(h);r.push(c),a=c}return r},between:function(n,e,r){return e<=n&&n<=r||fe.approximately(n,e)||fe.approximately(n,r)},approximately:function(n,e,r){return mo(n-e)<=(r||$$)},length:function(n){const r=fe.Tvalues.length;let a=0;for(let s=0,o;s<r;s++)o=.5*fe.Tvalues[s]+.5,a+=fe.Cvalues[s]*fe.arcfn(o,n);return .5*a},map:function(n,e,r,a,s){const o=r-e,c=s-a,f=n-e,h=f/o;return a+c*h},lerp:function(n,e,r){const a={x:e.x+n*(r.x-e.x),y:e.y+n*(r.y-e.y)};return e.z!==void 0&&r.z!==void 0&&(a.z=e.z+n*(r.z-e.z)),a},pointToString:function(n){let e=n.x+"/"+n.y;return typeof n.z<"u"&&(e+="/"+n.z),e},pointsToString:function(n){return"["+n.map(fe.pointToString).join(", ")+"]"},copy:function(n){return JSON.parse(JSON.stringify(n))},angle:function(n,e,r){const a=e.x-n.x,s=e.y-n.y,o=r.x-n.x,c=r.y-n.y,f=a*c-s*o,h=a*o+s*c;return yo(f,h)},round:function(n,e){const r=""+n,a=r.indexOf(".");return parseFloat(r.substring(0,a+1+e))},dist:function(n,e){const r=n.x-e.x,a=n.y-e.y;return Ri(r*r+a*a)},closest:function(n,e){let r=On(2,63),a,s;return n.forEach(function(o,c){s=fe.dist(e,o),s<r&&(r=s,a=c)}),{mdist:r,mpos:a}},abcratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=On(n,e)+On(1-n,e),a=r-1;return mo(a/r)},projectionratio:function(n,e){if(e!==2&&e!==3)return!1;if(typeof n>"u")n=.5;else if(n===0||n===1)return n;const r=On(1-n,e),a=On(n,e)+r;return r/a},lli8:function(n,e,r,a,s,o,c,f){const h=(n*a-e*r)*(s-c)-(n-r)*(s*f-o*c),g=(n*a-e*r)*(o-f)-(e-a)*(s*f-o*c),m=(n-r)*(o-f)-(e-a)*(s-c);return m==0?!1:{x:h/m,y:g/m}},lli4:function(n,e,r,a){const s=n.x,o=n.y,c=e.x,f=e.y,h=r.x,g=r.y,m=a.x,p=a.y;return fe.lli8(s,o,c,f,h,g,m,p)},lli:function(n,e){return fe.lli4(n,n.c,e,e.c)},makeline:function(n,e){return new it(n.x,n.y,(n.x+e.x)/2,(n.y+e.y)/2,e.x,e.y)},findbbox:function(n){let e=Ep,r=Ep,a=Tp,s=Tp;return n.forEach(function(o){const c=o.bbox();e>c.x.min&&(e=c.x.min),r>c.y.min&&(r=c.y.min),a<c.x.max&&(a=c.x.max),s<c.y.max&&(s=c.y.max)}),{x:{min:e,mid:(e+a)/2,max:a,size:a-e},y:{min:r,mid:(r+s)/2,max:s,size:s-r}}},shapeintersections:function(n,e,r,a,s){if(!fe.bboxoverlap(e,a))return[];const o=[],c=[n.startcap,n.forward,n.back,n.endcap],f=[r.startcap,r.forward,r.back,r.endcap];return c.forEach(function(h){h.virtual||f.forEach(function(g){if(g.virtual)return;const m=h.intersects(g,s);m.length>0&&(m.c1=h,m.c2=g,m.s1=n,m.s2=r,o.push(m))})}),o},makeshape:function(n,e,r){const a=e.points.length,s=n.points.length,o=fe.makeline(e.points[a-1],n.points[0]),c=fe.makeline(n.points[s-1],e.points[0]),f={startcap:o,forward:n,back:e,endcap:c,bbox:fe.findbbox([o,n,e,c])};return f.intersections=function(h){return fe.shapeintersections(f,f.bbox,h,h.bbox,r)},f},getminmax:function(n,e,r){if(!r)return{min:0,max:0};let a=Ep,s=Tp,o,c;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let f=0,h=r.length;f<h;f++)o=r[f],c=n.get(o),c[e]<a&&(a=c[e]),c[e]>s&&(s=c[e]);return{min:a,mid:(a+s)/2,max:s,size:s-a}},align:function(n,e){const r=e.p1.x,a=e.p1.y,s=-yo(e.p2.y-a,e.p2.x-r),o=function(c){return{x:(c.x-r)*Ir(s)-(c.y-a)*Rl(s),y:(c.x-r)*Rl(s)+(c.y-a)*Ir(s)}};return n.map(o)},roots:function(n,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=n.length-1,a=fe.align(n,e),s=function(A){return 0<=A&&A<=1};if(r===2){const A=a[0].y,R=a[1].y,$=a[2].y,H=A-2*R+$;if(H!==0){const I=-Ri(R*R-A*$),F=-A+R,Q=-(I+F)/H,B=-(-I+F)/H;return[Q,B].filter(s)}else if(R!==$&&H===0)return[(2*R-$)/(2*R-2*$)].filter(s);return[]}const o=a[0].y,c=a[1].y,f=a[2].y,h=a[3].y;let g=-o+3*c-3*f+h,m=3*o-6*c+3*f,p=-3*o+3*c,v=o;if(fe.approximately(g,0)){if(fe.approximately(m,0))return fe.approximately(p,0)?[]:[-v/p].filter(s);const A=Ri(p*p-4*m*v),R=2*m;return[(A-p)/R,(-p-A)/R].filter(s)}m/=g,p/=g,v/=g;const _=(3*p-m*m)/3,w=_/3,N=(2*m*m*m-9*m*p+27*v)/27,C=N/2,S=C*C+w*w*w;let E,T,j,M,O;if(S<0){const A=-_/3,R=A*A*A,$=Ri(R),H=-N/(2*$),I=H<-1?-1:H>1?1:H,F=L$(I),Q=xo($),B=2*Q;return j=B*Ir(F/3)-m/3,M=B*Ir((F+lf)/3)-m/3,O=B*Ir((F+2*lf)/3)-m/3,[j,M,O].filter(s)}else{if(S===0)return E=C<0?xo(-C):-xo(C),j=2*E-m/3,M=-E-m/3,[j,M].filter(s);{const A=Ri(S);return E=xo(-C+A),T=xo(C+A),[E-T-m/3].filter(s)}}},droots:function(n){if(n.length===3){const e=n[0],r=n[1],a=n[2],s=e-2*r+a;if(s!==0){const o=-Ri(r*r-e*a),c=-e+r,f=-(o+c)/s,h=-(-o+c)/s;return[f,h]}else if(r!==a&&s===0)return[(2*r-a)/(2*(r-a))];return[]}if(n.length===2){const e=n[0],r=n[1];return e!==r?[e/(e-r)]:[]}return[]},curvature:function(n,e,r,a,s){let o,c,f,h,g=0,m=0;const p=fe.compute(n,e),v=fe.compute(n,r),_=p.x*p.x+p.y*p.y;if(a?(o=Ri(On(p.y*v.z-v.y*p.z,2)+On(p.z*v.x-v.z*p.x,2)+On(p.x*v.y-v.x*p.y,2)),c=On(_+p.z*p.z,3/2)):(o=p.x*v.y-p.y*v.x,c=On(_,3/2)),o===0||c===0)return{k:0,r:0};if(g=o/c,m=c/o,!s){const w=fe.curvature(n-.001,e,r,a,!0).k,N=fe.curvature(n+.001,e,r,a,!0).k;h=(N-g+(g-w))/2,f=(mo(N-g)+mo(g-w))/2}return{k:g,r:m,dk:h,adk:f}},inflections:function(n){if(n.length<4)return[];const e=fe.align(n,{p1:n[0],p2:n.slice(-1)[0]}),r=e[2].x*e[1].y,a=e[3].x*e[1].y,s=e[1].x*e[2].y,o=e[3].x*e[2].y,c=18*(-3*r+2*a+3*s-o),f=18*(3*r-a-3*s),h=18*(s-r);if(fe.approximately(c,0)){if(!fe.approximately(f,0)){let v=-h/f;if(0<=v&&v<=1)return[v]}return[]}const g=2*c;if(fe.approximately(g,0))return[];const m=f*f-4*c*h;if(m<0)return[];const p=Math.sqrt(m);return[(p-f)/g,-(f+p)/g].filter(function(v){return 0<=v&&v<=1})},bboxoverlap:function(n,e){const r=["x","y"],a=r.length;for(let s=0,o,c,f,h;s<a;s++)if(o=r[s],c=n[o].mid,f=e[o].mid,h=(n[o].size+e[o].size)/2,mo(c-f)>=h)return!1;return!0},expandbox:function(n,e){e.x.min<n.x.min&&(n.x.min=e.x.min),e.y.min<n.y.min&&(n.y.min=e.y.min),e.z&&e.z.min<n.z.min&&(n.z.min=e.z.min),e.x.max>n.x.max&&(n.x.max=e.x.max),e.y.max>n.y.max&&(n.y.max=e.y.max),e.z&&e.z.max>n.z.max&&(n.z.max=e.z.max),n.x.mid=(n.x.min+n.x.max)/2,n.y.mid=(n.y.min+n.y.max)/2,n.z&&(n.z.mid=(n.z.min+n.z.max)/2),n.x.size=n.x.max-n.x.min,n.y.size=n.y.max-n.y.min,n.z&&(n.z.size=n.z.max-n.z.min)},pairiteration:function(n,e,r){const a=n.bbox(),s=e.bbox(),o=1e5,c=r||.5;if(a.x.size+a.y.size<c&&s.x.size+s.y.size<c)return[(o*(n._t1+n._t2)/2|0)/o+"/"+(o*(e._t1+e._t2)/2|0)/o];let f=n.split(.5),h=e.split(.5),g=[{left:f.left,right:h.left},{left:f.left,right:h.right},{left:f.right,right:h.right},{left:f.right,right:h.left}];g=g.filter(function(p){return fe.bboxoverlap(p.left.bbox(),p.right.bbox())});let m=[];return g.length===0||(g.forEach(function(p){m=m.concat(fe.pairiteration(p.left,p.right,c))}),m=m.filter(function(p,v){return m.indexOf(p)===v})),m},getccenter:function(n,e,r){const a=e.x-n.x,s=e.y-n.y,o=r.x-e.x,c=r.y-e.y,f=a*Ir(Li)-s*Rl(Li),h=a*Rl(Li)+s*Ir(Li),g=o*Ir(Li)-c*Rl(Li),m=o*Rl(Li)+c*Ir(Li),p=(n.x+e.x)/2,v=(n.y+e.y)/2,_=(e.x+r.x)/2,w=(e.y+r.y)/2,N=p+f,C=v+h,S=_+g,E=w+m,T=fe.lli8(p,v,N,C,_,w,S,E),j=fe.dist(T,n);let M=yo(n.y-T.y,n.x-T.x),O=yo(e.y-T.y,e.x-T.x),A=yo(r.y-T.y,r.x-T.x),R;return M<A?((M>O||O>A)&&(M+=lf),M>A&&(R=A,A=M,M=R)):A<O&&O<M?(R=A,A=M,M=R):A+=lf,T.s=M,T.e=A,T.r=j,T},numberSort:function(n,e){return n-e}};class Ro{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return fe.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,r){return e+r})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var r=e[0].bbox(),a=1;a<e.length;a++)fe.expandbox(r,e[a].bbox());return r}offset(e){const r=[];return this.curves.forEach(function(a){r.push(...a.offset(e))}),new Ro(r)}}const{abs:vo,min:nw,max:rw,cos:B$,sin:H$,acos:P$,sqrt:bo}=Math,F$=Math.PI;class it{constructor(e){let r=e&&e.forEach?e:Array.from(arguments).slice(),a=!1;if(typeof r[0]=="object"){a=r.length;const _=[];r.forEach(function(w){["x","y","z"].forEach(function(N){typeof w[N]<"u"&&_.push(w[N])})}),r=_}let s=!1;const o=r.length;if(a){if(a>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const c=this._3d=!s&&(o===9||o===12)||e&&e[0]&&typeof e[0].z<"u",f=this.points=[];for(let _=0,w=c?3:2;_<o;_+=w){var h={x:r[_],y:r[_+1]};c&&(h.z=r[_+2]),f.push(h)}const g=this.order=f.length-1,m=this.dims=["x","y"];c&&m.push("z"),this.dimlen=m.length;const p=fe.align(f,{p1:f[0],p2:f[g]}),v=fe.dist(f[0],f[g]);this._linear=p.reduce((_,w)=>_+vo(w.y),0)<v/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,r,a,s){if(typeof s>"u"&&(s=.5),s===0)return new it(r,r,a);if(s===1)return new it(e,r,r);const o=it.getABC(2,e,r,a,s);return new it(e,o.A,a)}static cubicFromPoints(e,r,a,s,o){typeof s>"u"&&(s=.5);const c=it.getABC(3,e,r,a,s);typeof o>"u"&&(o=fe.dist(r,c.C));const f=o*(1-s)/s,h=fe.dist(e,a),g=(a.x-e.x)/h,m=(a.y-e.y)/h,p=o*g,v=o*m,_=f*g,w=f*m,N={x:r.x-p,y:r.y-v},C={x:r.x+_,y:r.y+w},S=c.A,E={x:S.x+(N.x-S.x)/(1-s),y:S.y+(N.y-S.y)/(1-s)},T={x:S.x+(C.x-S.x)/s,y:S.y+(C.y-S.y)/s},j={x:e.x+(E.x-e.x)/s,y:e.y+(E.y-e.y)/s},M={x:a.x+(T.x-a.x)/(1-s),y:a.y+(T.y-a.y)/(1-s)};return new it(e,j,M,a)}static getUtils(){return fe}getUtils(){return it.getUtils()}static get PolyBezier(){return Ro}valueOf(){return this.toString()}toString(){return fe.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,r=e[0].x,a=e[0].y,s=["M",r,a,this.order===2?"Q":"C"];for(let o=1,c=e.length;o<c;o++)s.push(e[o].x),s.push(e[o].y);return s.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,r){return""+r+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=fe.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,r=fe.angle(e[0],e[this.order],e[1]);this.clockwise=r>0}length(){return fe.length(this.derivative.bind(this))}static getABC(e=2,r,a,s,o=.5){const c=fe.projectionratio(o,e),f=1-c,h={x:c*r.x+f*s.x,y:c*r.y+f*s.y},g=fe.abcratio(o,e);return{A:{x:a.x+(a.x-h.x)/g,y:a.y+(a.y-h.y)/g},B:a,C:h,S:r,E:s}}getABC(e,r){r=r||this.get(e);let a=this.points[0],s=this.points[this.order];return it.getABC(this.order,a,r,s,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(let r=0,a,s;r<e;r++)s=r/(e-1),a=this.compute(s),a.t=s,this._lut.push(a);return this._lut}on(e,r){r=r||5;const a=this.getLUT(),s=[];for(let o=0,c,f=0;o<a.length;o++)c=a[o],fe.dist(c,e)<r&&(s.push(c),f+=o/a.length);return s.length?t/=s.length:!1}project(e){const r=this.getLUT(),a=r.length-1,s=fe.closest(r,e),o=s.mpos,c=(o-1)/a,f=(o+1)/a,h=.1/a;let g=s.mdist,m=c,p=m,v;g+=1;for(let _;m<f+h;m+=h)v=this.compute(m),_=fe.dist(e,v),_<g&&(g=_,p=m);return p=p<0?0:p>1?1:p,v=this.compute(p),v.t=p,v.d=g,v}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?fe.computeWithRatios(e,this.points,this.ratios,this._3d):fe.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,r=[e[0]],a=e.length;for(let s=1,o,c;s<a;s++)o=e[s],c=e[s-1],r[s]={x:(a-s)/a*o.x+s/a*c.x,y:(a-s)/a*o.y+s/a*c.y};return r[a]=e[a-1],new it(r)}derivative(e){return fe.compute(e,this.dpoints[0],this._3d)}dderivative(e){return fe.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new it(fe.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return fe.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return fe.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const r=this.derivative(e),a=bo(r.x*r.x+r.y*r.y);return{t:e,x:-r.y/a,y:r.x/a}}__normal3(e){const r=this.derivative(e),a=this.derivative(e+.01),s=bo(r.x*r.x+r.y*r.y+r.z*r.z),o=bo(a.x*a.x+a.y*a.y+a.z*a.z);r.x/=s,r.y/=s,r.z/=s,a.x/=o,a.y/=o,a.z/=o;const c={x:a.y*r.z-a.z*r.y,y:a.z*r.x-a.x*r.z,z:a.x*r.y-a.y*r.x},f=bo(c.x*c.x+c.y*c.y+c.z*c.z);c.x/=f,c.y/=f,c.z/=f;const h=[c.x*c.x,c.x*c.y-c.z,c.x*c.z+c.y,c.x*c.y+c.z,c.y*c.y,c.y*c.z-c.x,c.x*c.z-c.y,c.y*c.z+c.x,c.z*c.z];return{t:e,x:h[0]*r.x+h[1]*r.y+h[2]*r.z,y:h[3]*r.x+h[4]*r.y+h[5]*r.z,z:h[6]*r.x+h[7]*r.y+h[8]*r.z}}hull(e){let r=this.points,a=[],s=[],o=0;for(s[o++]=r[0],s[o++]=r[1],s[o++]=r[2],this.order===3&&(s[o++]=r[3]);r.length>1;){a=[];for(let c=0,f,h=r.length-1;c<h;c++)f=fe.lerp(e,r[c],r[c+1]),s[o++]=f,a.push(f);r=a}return s}split(e,r){if(e===0&&r)return this.split(r).left;if(r===1)return this.split(e).right;const a=this.hull(e),s={left:this.order===2?new it([a[0],a[3],a[5]]):new it([a[0],a[4],a[7],a[9]]),right:this.order===2?new it([a[5],a[4],a[2]]):new it([a[9],a[8],a[6],a[3]]),span:a};return s.left._t1=fe.map(0,0,1,this._t1,this._t2),s.left._t2=fe.map(e,0,1,this._t1,this._t2),s.right._t1=fe.map(e,0,1,this._t1,this._t2),s.right._t2=fe.map(1,0,1,this._t1,this._t2),r?(r=fe.map(r,e,1,0,1),s.right.split(r).left):s}extrema(){const e={};let r=[];return this.dims.forEach((function(a){let s=function(c){return c[a]},o=this.dpoints[0].map(s);e[a]=fe.droots(o),this.order===3&&(o=this.dpoints[1].map(s),e[a]=e[a].concat(fe.droots(o))),e[a]=e[a].filter(function(c){return c>=0&&c<=1}),r=r.concat(e[a].sort(fe.numberSort))}).bind(this)),e.values=r.sort(fe.numberSort).filter(function(a,s){return r.indexOf(a)===s}),e}bbox(){const e=this.extrema(),r={};return this.dims.forEach((function(a){r[a]=fe.getminmax(this,a,e[a])}).bind(this)),r}overlaps(e){const r=this.bbox(),a=e.bbox();return fe.bboxoverlap(r,a)}offset(e,r){if(typeof r<"u"){const a=this.get(e),s=this.normal(e),o={c:a,n:s,x:a.x+s.x*r,y:a.y+s.y*r};return this._3d&&(o.z=a.z+s.z*r),o}if(this._linear){const a=this.normal(0),s=this.points.map(function(o){const c={x:o.x+e*a.x,y:o.y+e*a.y};return o.z&&a.z&&(c.z=o.z+e*a.z),c});return[new it(s)]}return this.reduce().map(function(a){return a._linear?a.offset(e)[0]:a.scale(e)})}simple(){if(this.order===3){const s=fe.angle(this.points[0],this.points[3],this.points[1]),o=fe.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&o<0||s<0&&o>0)return!1}const e=this.normal(0),r=this.normal(1);let a=e.x*r.x+e.y*r.y;return this._3d&&(a+=e.z*r.z),vo(P$(a))<F$/3}reduce(){let e,r=0,a=0,s=.01,o,c=[],f=[],h=this.extrema().values;for(h.indexOf(0)===-1&&(h=[0].concat(h)),h.indexOf(1)===-1&&h.push(1),r=h[0],e=1;e<h.length;e++)a=h[e],o=this.split(r,a),o._t1=r,o._t2=a,c.push(o),r=a;return c.forEach(function(g){for(r=0,a=0;a<=1;)for(a=r+s;a<=1+s;a+=s)if(o=g.split(r,a),!o.simple()){if(a-=s,vo(r-a)<s)return[];o=g.split(r,a),o._t1=fe.map(r,0,1,g._t1,g._t2),o._t2=fe.map(a,0,1,g._t1,g._t2),f.push(o),r=a;break}r<1&&(o=g.split(r,1),o._t1=fe.map(r,0,1,g._t1,g._t2),o._t2=g._t2,f.push(o))}),f}translate(e,r,a){a=typeof a=="number"?a:r;const s=this.order;let o=this.points.map((c,f)=>(1-f/s)*r+f/s*a);return new it(this.points.map((c,f)=>({x:c.x+e.x*o[f],y:c.y+e.y*o[f]})))}scale(e){const r=this.order;let a=!1;if(typeof e=="function"&&(a=e),a&&r===2)return this.raise().scale(a);const s=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),a?a(0):e,a?a(1):e);const c=a?a(0):e,f=a?a(1):e,h=[this.offset(0,10),this.offset(1,10)],g=[],m=fe.lli4(h[0],h[0].c,h[1],h[1].c);if(!m)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(p){const v=g[p*r]=fe.copy(o[p*r]);v.x+=(p?f:c)*h[p].n.x,v.y+=(p?f:c)*h[p].n.y}),a?([0,1].forEach(function(p){if(!(r===2&&p)){var v=o[p+1],_={x:v.x-m.x,y:v.y-m.y},w=a?a((p+1)/r):e;a&&!s&&(w=-w);var N=bo(_.x*_.x+_.y*_.y);_.x/=N,_.y/=N,g[p+1]={x:v.x+w*_.x,y:v.y+w*_.y}}}),new it(g)):([0,1].forEach(p=>{if(r===2&&p)return;const v=g[p*r],_=this.derivative(p),w={x:v.x+_.x,y:v.y+_.y};g[p+1]=fe.lli4(v,w,m,o[p+1])}),new it(g))}outline(e,r,a,s){if(r=r===void 0?e:r,this._linear){const M=this.normal(0),O=this.points[0],A=this.points[this.points.length-1];let R,$,H;a===void 0&&(a=e,s=r),R={x:O.x+M.x*e,y:O.y+M.y*e},H={x:A.x+M.x*a,y:A.y+M.y*a},$={x:(R.x+H.x)/2,y:(R.y+H.y)/2};const I=[R,$,H];R={x:O.x-M.x*r,y:O.y-M.y*r},H={x:A.x-M.x*s,y:A.y-M.y*s},$={x:(R.x+H.x)/2,y:(R.y+H.y)/2};const F=[H,$,R],Q=fe.makeline(F[2],I[0]),B=fe.makeline(I[2],F[0]),te=[Q,new it(I),B,new it(F)];return new Ro(te)}const o=this.reduce(),c=o.length,f=[];let h=[],g,m=0,p=this.length();const v=typeof a<"u"&&typeof s<"u";function _(M,O,A,R,$){return function(H){const I=R/A,F=(R+$)/A,Q=O-M;return fe.map(H,0,1,M+I*Q,M+F*Q)}}o.forEach(function(M){const O=M.length();v?(f.push(M.scale(_(e,a,p,m,O))),h.push(M.scale(_(-r,-s,p,m,O)))):(f.push(M.scale(e)),h.push(M.scale(-r))),m+=O}),h=h.map(function(M){return g=M.points,g[3]?M.points=[g[3],g[2],g[1],g[0]]:M.points=[g[2],g[1],g[0]],M}).reverse();const w=f[0].points[0],N=f[c-1].points[f[c-1].points.length-1],C=h[c-1].points[h[c-1].points.length-1],S=h[0].points[0],E=fe.makeline(C,w),T=fe.makeline(N,S),j=[E].concat(f).concat([T]).concat(h);return new Ro(j)}outlineshapes(e,r,a){r=r||e;const s=this.outline(e,r).curves,o=[];for(let c=1,f=s.length;c<f/2;c++){const h=fe.makeshape(s[c],s[f-c],a);h.startcap.virtual=c>1,h.endcap.virtual=c<f/2-1,o.push(h)}return o}intersects(e,r){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof it&&(e=e.reduce()),this.curveintersects(this.reduce(),e,r)):this.selfintersects(r)}lineIntersects(e){const r=nw(e.p1.x,e.p2.x),a=nw(e.p1.y,e.p2.y),s=rw(e.p1.x,e.p2.x),o=rw(e.p1.y,e.p2.y);return fe.roots(this.points,e).filter(c=>{var f=this.get(c);return fe.between(f.x,r,s)&&fe.between(f.y,a,o)})}selfintersects(e){const r=this.reduce(),a=r.length-2,s=[];for(let o=0,c,f,h;o<a;o++)f=r.slice(o,o+1),h=r.slice(o+2),c=this.curveintersects(f,h,e),s.push(...c);return s}curveintersects(e,r,a){const s=[];e.forEach(function(c){r.forEach(function(f){c.overlaps(f)&&s.push({left:c,right:f})})});let o=[];return s.forEach(function(c){const f=fe.pairiteration(c.left,c.right,a);f.length>0&&(o=o.concat(f))}),o}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,r,a,s){const o=(s-a)/4,c=this.get(a+o),f=this.get(s-o),h=fe.dist(e,r),g=fe.dist(e,c),m=fe.dist(e,f);return vo(g-h)+vo(m-h)}_iterate(e,r){let a=0,s=1,o;do{o=0,s=1;let c=this.get(a),f,h,g,m,p=!1,v=!1,_,w=s,N=1;do if(v=p,m=g,w=(a+s)/2,f=this.get(w),h=this.get(s),g=fe.getccenter(c,f,h),g.interval={start:a,end:s},p=this._error(g,c,a,s)<=e,_=v&&!p,_||(N=s),p){if(s>=1){if(g.interval.end=N=1,m=g,s>1){let S={x:g.x+g.r*B$(g.e),y:g.y+g.r*H$(g.e)};g.e+=fe.angle({x:g.x,y:g.y},S,this.get(1))}break}s=s+(s-a)/2}else s=w;while(!_&&o++<100);if(o>=100)break;m=m||g,r.push(m),a=N}while(s<1);return r}}function U0(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,a=Array(e);r<e;r++)a[r]=n[r];return a}function q$(n){if(Array.isArray(n))return n}function G$(n){if(Array.isArray(n))return U0(n)}function K$(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function I$(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var a,s,o,c,f=[],h=!0,g=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(h=(a=o.call(r)).done)&&(f.push(a.value),f.length!==e);h=!0);}catch(m){g=!0,s=m}finally{try{if(!h&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw s}}return f}}function Y$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X$(n,e){if(n==null)return{};var r,a,s=Q$(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)r=o[a],e.includes(r)||{}.propertyIsEnumerable.call(n,r)&&(s[r]=n[r])}return s}function Q$(n,e){if(n==null)return{};var r={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(e.includes(a))continue;r[a]=n[a]}return r}function Z$(n,e){return q$(n)||I$(n,e)||d3(n,e)||Y$()}function J$(n){return G$(n)||K$(n)||d3(n)||V$()}function W$(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function eU(n){var e=W$(n,"string");return typeof e=="symbol"?e:e+""}function d3(n,e){if(n){if(typeof n=="string")return U0(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U0(n,e):void 0}}var tU=(function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(f){return{keyAccessor:f,isProp:!(f instanceof Function)}}),o=n.reduce(function(f,h){var g=f,m=h;return s.forEach(function(p,v){var _=p.keyAccessor,w=p.isProp,N;if(w){var C=m,S=C[_],E=X$(C,[_].map(eU));N=S,m=E}else N=_(m,v);v+1<s.length?(g.hasOwnProperty(N)||(g[N]={}),g=g[N]):r?(g.hasOwnProperty(N)||(g[N]=[]),g[N].push(m)):g[N]=m}),f},{});r instanceof Function&&(function f(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;g===s.length?Object.keys(h).forEach(function(m){return h[m]=r(h[m])}):Object.values(h).forEach(function(m){return f(m,g+1)})})(o);var c=o;return a&&(c=[],(function f(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];g.length===s.length?c.push({keys:g,vals:h}):Object.entries(h).forEach(function(m){var p=Z$(m,2),v=p[0],_=p[1];return f(_,[].concat(J$(g),[v]))})})(o),e instanceof Array&&e.length===0&&c.length===1&&(c[0].keys=[])),c});function nU(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const iw=Symbol("implicit");function h3(){var n=new N2,e=[],r=[],a=iw;function s(o){let c=n.get(o);if(c===void 0){if(a!==iw)return a;n.set(o,c=e.push(o)-1)}return r[c%r.length]}return s.domain=function(o){if(!arguments.length)return e.slice();e=[],n=new N2;for(const c of o)n.has(c)||n.set(c,e.push(c)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return h3(e,r).unknown(a)},nU.apply(s,arguments),s}function rU(n){for(var e=n.length/6|0,r=new Array(e),a=0;a<e;)r[a]="#"+n.slice(a*6,++a*6);return r}const iU=rU("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function aU(n,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var lU=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;aU(lU);function B0(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,a=Array(e);r<e;r++)a[r]=n[r];return a}function sU(n){if(Array.isArray(n))return n}function oU(n){if(Array.isArray(n))return B0(n)}function aw(n,e,r){if(g3())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,e);var s=new(n.bind.apply(n,a));return s}function nu(n,e,r){return(e=gU(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function g3(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g3=function(){return!!n})()}function uU(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function cU(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var a,s,o,c,f=[],h=!0,g=!1;try{if(o=(r=r.call(n)).next,e!==0)for(;!(h=(a=o.call(r)).done)&&(f.push(a.value),f.length!==e);h=!0);}catch(m){g=!0,s=m}finally{try{if(!h&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(g)throw s}}return f}}function fU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lw(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,a)}return r}function Ll(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lw(Object(r),!0).forEach(function(a){nu(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n}function Lo(n,e){return sU(n)||cU(n,e)||p3(n,e)||fU()}function Ln(n){return oU(n)||uU(n)||p3(n)||dU()}function hU(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gU(n){var e=hU(n,"string");return typeof e=="symbol"?e:e+""}function H0(n){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(n)}function p3(n,e){if(n){if(typeof n=="string")return B0(n,e);var r={}.toString.call(n).slice(8,-1);return r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set"?Array.from(n):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B0(n,e):void 0}}var pU=h3(iU);function sw(n,e,r){!e||typeof r!="string"||n.filter(function(a){return!a[r]}).forEach(function(a){a[r]=pU(e(a))})}function mU(n,e){var r=n.nodes,a=n.links,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=s.nodeFilter,c=o===void 0?function(){return!0}:o,f=s.onLoopError,h=f===void 0?function(_){throw"Invalid DAG structure! Found cycle in node path: ".concat(_.join(" -> "),".")}:f,g={};r.forEach(function(_){return g[e(_)]={data:_,out:[],depth:-1,skip:!c(_)}}),a.forEach(function(_){var w=_.source,N=_.target,C=j(w),S=j(N);if(!g.hasOwnProperty(C))throw"Missing source node with id: ".concat(C);if(!g.hasOwnProperty(S))throw"Missing target node with id: ".concat(S);var E=g[C],T=g[S];E.out.push(T);function j(M){return H0(M)==="object"?e(M):M}});var m=[];v(Object.values(g));var p=Object.assign.apply(Object,[{}].concat(Ln(Object.entries(g).filter(function(_){var w=Lo(_,2),N=w[1];return!N.skip}).map(function(_){var w=Lo(_,2),N=w[0],C=w[1];return nu({},N,C.depth)}))));return p;function v(_){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,C=function(){var j=_[S];if(w.indexOf(j)!==-1){var M=[].concat(Ln(w.slice(w.indexOf(j))),[j]).map(function(O){return e(O.data)});return m.some(function(O){return O.length===M.length&&O.every(function(A,R){return A===M[R]})})||(m.push(M),h(M)),1}N>j.depth&&(j.depth=N,v(j.out,[].concat(Ln(w),[j]),N+(j.skip?0:1)))},S=0,E=_.length;S<E;S++)C()}}var yU=2,Ut=function(e,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},ow=function(e,r){if(!r.isShadow){var a=qe(r.linkDirectionalParticles);r.graphData.links.forEach(function(s){var o=Math.round(Math.abs(a(s)));o?s.__photons=Ln(Array(o)).map(function(){return{}}):delete s.__photons})}},ed=Vm({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,r){r.engineRunning=!1,ow(e,r)}},dagMode:{onChange:function(e,r){!e&&(r.graphData.nodes||[]).forEach(function(a){return a.fx=a.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Ut},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Ut},nodeColor:{default:"color",triggerUpdate:!1,onChange:Ut},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Ut},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Ut},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Ut},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Ut},linkColor:{default:"color",triggerUpdate:!1,onChange:Ut},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Ut},linkWidth:{default:1,triggerUpdate:!1,onChange:Ut},linkCurvature:{default:0,triggerUpdate:!1,onChange:Ut},linkCanvasObject:{triggerUpdate:!1,onChange:Ut},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Ut},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Ut},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Ut},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Ut},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:ow},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,r){r.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,r,a){return a===void 0?e.forceLayout.force(r):(e.forceLayout.force(r,a),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&r(),s(),!e.isShadow&&o(),!e.isShadow&&c(),a(),this;function r(){e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick()))}function a(){var f=qe(e.nodeVisibility),h=qe(e.nodeVal),g=qe(e.nodeColor),m=qe(e.nodeCanvasObjectMode),p=e.ctx,v=e.isShadow/e.globalScale,_=e.graphData.nodes.filter(f);p.save(),_.forEach(function(w){var N=m(w);if(e.nodeCanvasObject&&(N==="before"||N==="replace")&&(e.nodeCanvasObject(w,p,e.globalScale),N==="replace")){p.restore();return}var C=Math.sqrt(Math.max(0,h(w)||1))*e.nodeRelSize+v;p.beginPath(),p.arc(w.x,w.y,C,0,2*Math.PI,!1),p.fillStyle=g(w)||"rgba(31, 120, 180, 0.92)",p.fill(),e.nodeCanvasObject&&N==="after"&&e.nodeCanvasObject(w,e.ctx,e.globalScale)}),p.restore()}function s(){var f=qe(e.linkVisibility),h=qe(e.linkColor),g=qe(e.linkWidth),m=qe(e.linkLineDash),p=qe(e.linkCurvature),v=qe(e.linkCanvasObjectMode),_=e.ctx,w=e.isShadow*2,N=e.graphData.links.filter(f);N.forEach(O);var C=[],S=[],E=N;if(e.linkCanvasObject){var T=[],j=[];N.forEach(function(A){return({before:C,after:S,replace:T}[v(A)]||j).push(A)}),E=[].concat(Ln(C),S,j),C=C.concat(T)}_.save(),C.forEach(function(A){return e.linkCanvasObject(A,_,e.globalScale)}),_.restore();var M=tU(E,[h,g,m]);_.save(),Object.entries(M).forEach(function(A){var R=Lo(A,2),$=R[0],H=R[1],I=!$||$==="undefined"?"rgba(0,0,0,0.15)":$;Object.entries(H).forEach(function(F){var Q=Lo(F,2),B=Q[0],te=Q[1],L=(B||1)/e.globalScale+w;Object.entries(te).forEach(function(Y){var se=Lo(Y,2);se[0];var ce=se[1],ge=m(ce[0]);_.beginPath(),ce.forEach(function(U){var Z=U.source,W=U.target;if(!(!Z||!W||!Z.hasOwnProperty("x")||!W.hasOwnProperty("x"))){_.moveTo(Z.x,Z.y);var ae=U.__controlPoints;ae?_[ae.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(_,Ln(ae).concat([W.x,W.y])):_.lineTo(W.x,W.y)}}),_.strokeStyle=I,_.lineWidth=L,_.setLineDash(ge||[]),_.stroke()})})}),_.restore(),_.save(),S.forEach(function(A){return e.linkCanvasObject(A,_,e.globalScale)}),_.restore();function O(A){var R=p(A);if(!R){A.__controlPoints=null;return}var $=A.source,H=A.target;if(!(!$||!H||!$.hasOwnProperty("x")||!H.hasOwnProperty("x"))){var I=Math.sqrt(Math.pow(H.x-$.x,2)+Math.pow(H.y-$.y,2));if(I>0){var F=Math.atan2(H.y-$.y,H.x-$.x),Q=I*R,B={x:($.x+H.x)/2+Q*Math.cos(F-Math.PI/2),y:($.y+H.y)/2+Q*Math.sin(F-Math.PI/2)};A.__controlPoints=[B.x,B.y]}else{var te=R*70;A.__controlPoints=[H.x,H.y-te,H.x+te,H.y]}}}}function o(){var f=1.6,h=.2,g=qe(e.linkDirectionalArrowLength),m=qe(e.linkDirectionalArrowRelPos),p=qe(e.linkVisibility),v=qe(e.linkDirectionalArrowColor||e.linkColor),_=qe(e.nodeVal),w=e.ctx;w.save(),e.graphData.links.filter(p).forEach(function(N){var C=g(N);if(!(!C||C<0)){var S=N.source,E=N.target;if(!(!S||!E||!S.hasOwnProperty("x")||!E.hasOwnProperty("x"))){var T=Math.sqrt(Math.max(0,_(S)||1))*e.nodeRelSize,j=Math.sqrt(Math.max(0,_(E)||1))*e.nodeRelSize,M=Math.min(1,Math.max(0,m(N))),O=v(N)||"rgba(0,0,0,0.28)",A=C/f/2,R=N.__controlPoints&&aw(it,[S.x,S.y].concat(Ln(N.__controlPoints),[E.x,E.y])),$=R?function(L){return R.get(L)}:function(L){return{x:S.x+(E.x-S.x)*L||0,y:S.y+(E.y-S.y)*L||0}},H=R?R.length():Math.sqrt(Math.pow(E.x-S.x,2)+Math.pow(E.y-S.y,2)),I=T+C+(H-T-j-C)*M,F=$(I/H),Q=$((I-C)/H),B=$((I-C*(1-h))/H),te=Math.atan2(F.y-Q.y,F.x-Q.x)-Math.PI/2;w.beginPath(),w.moveTo(F.x,F.y),w.lineTo(Q.x+A*Math.cos(te),Q.y+A*Math.sin(te)),w.lineTo(B.x,B.y),w.lineTo(Q.x-A*Math.cos(te),Q.y-A*Math.sin(te)),w.fillStyle=O,w.fill()}}}),w.restore()}function c(){var f=qe(e.linkDirectionalParticles),h=qe(e.linkDirectionalParticleSpeed),g=qe(e.linkDirectionalParticleOffset),m=qe(e.linkDirectionalParticleWidth),p=qe(e.linkVisibility),v=qe(e.linkDirectionalParticleColor||e.linkColor),_=e.ctx;_.save(),e.graphData.links.filter(p).forEach(function(w){var N=f(w);if(!(!w.hasOwnProperty("__photons")||!w.__photons.length)){var C=w.source,S=w.target;if(!(!C||!S||!C.hasOwnProperty("x")||!S.hasOwnProperty("x"))){var E=h(w),T=Math.abs(g(w)),j=w.__photons||[],M=Math.max(0,m(w)/2)/Math.sqrt(e.globalScale),O=v(w)||"rgba(0,0,0,0.28)";_.fillStyle=O;var A=w.__controlPoints?aw(it,[C.x,C.y].concat(Ln(w.__controlPoints),[S.x,S.y])):null,R=0,$=!1;j.forEach(function(H){var I=!!H.__singleHop;if(H.hasOwnProperty("__progressRatio")||(H.__progressRatio=I?0:(R+T)/N),!I&&R++,H.__progressRatio+=E,H.__progressRatio>=1)if(!I)H.__progressRatio=H.__progressRatio%1;else{$=!0;return}var F=H.__progressRatio,Q=A?A.get(F):{x:C.x+(S.x-C.x)*F||0,y:C.y+(S.y-C.y)*F||0};e.linkDirectionalParticleCanvasObject?e.linkDirectionalParticleCanvasObject(Q.x,Q.y,w,_,e.globalScale):(_.beginPath(),_.arc(Q.x,Q.y,M,0,2*Math.PI,!1),_.fill())}),$&&(w.__photons=w.__photons.filter(function(H){return!H.__singleHop||H.__progressRatio<=1}))}}}),_.restore()}},emitParticle:function(e,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:O$().force("link",N$()).force("charge",z$()).force("center",EL()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,r){r.ctx=e},update:function(e,r){e.engineRunning=!1,e.onUpdate(),e.nodeAutoColorBy!==null&&sw(e.graphData.nodes,qe(e.nodeAutoColorBy),e.nodeColor),e.linkAutoColorBy!==null&&sw(e.graphData.links,qe(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach(function(v){v.source=v[e.linkSource],v.target=v[e.linkTarget]}),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var a=e.forceLayout.force("link");a&&a.id(function(v){return v[e.nodeId]}).links(e.graphData.links);var s=e.dagMode&&mU(e.graphData,function(v){return v[e.nodeId]},{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),o=Math.max.apply(Math,Ln(Object.values(s||[]))),c=e.dagLevelDistance||e.graphData.nodes.length/(o||1)*yU*(["radialin","radialout"].indexOf(e.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var f=["lr","rl"].includes(r.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(v){return delete v[f]})}if(["lr","rl","td","bu"].includes(e.dagMode)){var h=["rl","bu"].includes(e.dagMode),g=function(_){return(s[_[e.nodeId]]-o/2)*c*(h?-1:1)},m=["lr","rl"].includes(e.dagMode)?"fx":"fy";e.graphData.nodes.filter(e.dagNodeFilter).forEach(function(v){return v[m]=g(v)})}e.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(e.dagMode)!==-1?R$(function(v){var _=s[v[e.nodeId]]||-1;return(e.dagMode==="radialin"?o-_:_)*c}).strength(function(v){return e.dagNodeFilter(v)?1:0}):null);for(var p=0;p<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);p++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function m3(n,e){var r=n instanceof Array?n:[n],a=new e;return a._destructor&&a._destructor(),{linkProp:function(o){return{default:a[o](),onChange:function(f,h){r.forEach(function(g){return h[g][o](f)})},triggerUpdate:!1}},linkMethod:function(o){return function(c){for(var f=arguments.length,h=new Array(f>1?f-1:0),g=1;g<f;g++)h[g-1]=arguments[g];var m=[];return r.forEach(function(p){var v=c[p],_=v[o].apply(v,h);_!==v&&m.push(_)}),m.length?m[0]:this}}}}var xU=800,vU=4,bU=5,y3=m3("forceGraph",ed),_U=m3(["forceGraph","shadowGraph"],ed),wU=Object.assign.apply(Object,Ln(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(n){return nu({},n,y3.linkProp(n))})).concat(Ln(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(n){return nu({},n,_U.linkProp(n))})))),SU=Object.assign.apply(Object,Ln(["d3Force","d3ReheatSimulation","emitParticle"].map(function(n){return nu({},n,y3.linkMethod(n))})));function jp(n){if(n.canvas){var e=n.canvas.width,r=n.canvas.height;e===300&&r===150&&(e=r=0);var a=window.devicePixelRatio;e/=a,r/=a,[n.canvas,n.shadowCanvas].forEach(function(o){o.style.width="".concat(n.width,"px"),o.style.height="".concat(n.height,"px"),o.width=n.width*a,o.height=n.height*a,!e&&!r&&o.getContext("2d").scale(a,a)});var s=cr(n.canvas).k;n.zoom.translateBy(n.zoom.__baseElem,(n.width-e)/2/s,(n.height-r)/2/s),n.needsRedraw=!0}}function x3(n){var e=window.devicePixelRatio;n.setTransform(e,0,0,e,0,0)}function uw(n,e,r){n.save(),x3(n),n.clearRect(0,0,e,r),n.restore()}var CU=Vm({props:Ll({width:{default:window.innerWidth,onChange:function(e,r){return jp(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,r){return jp(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,r){[e.nodes,e.links].every(function(s){return(s||[]).every(function(o){return!o.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach(a),r.forceGraph.graphData(e),r.shadowGraph.graphData(e);function a(s){var o=s.type,c=s.objs;c.filter(function(f){if(!f.hasOwnProperty("__indexColor"))return!0;var h=r.colorTracker.lookup(f.__indexColor);return!h||!h.hasOwnProperty("d")||h.d!==f}).forEach(function(f){f.__indexColor=r.colorTracker.register({type:o,d:f})})}},triggerUpdate:!1},backgroundColor:{onChange:function(e,r){r.canvas&&e&&(r.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,r){r.shadowGraph.nodeCanvasObject(e?function(a,s,o){return e(a,a.__indexColor,s,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,r){r.shadowGraph.linkCanvasObject(e?function(a,s,o){return e(a,a.__indexColor,s,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,r){r.zoom.scaleExtent([e,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},wU),aliases:{stopAnimation:"pauseAnimation"},methods:Ll({graph2ScreenCoords:function(e,r,a){var s=cr(e.canvas);return{x:r*s.k+s.x,y:a*s.k+s.y}},screen2GraphCoords:function(e,r,a){var s=cr(e.canvas);return{x:(r-s.x)/s.k,y:(a-s.y)/s.k}},centerAt:function(e,r,a,s){if(!e.canvas)return null;if(r!==void 0||a!==void 0){var o=Object.assign({},r!==void 0?{x:r}:{},a!==void 0?{y:a}:{});return s?e.tweenGroup.add(new D2(c()).to(o,s).easing(Aa.Quadratic.Out).onUpdate(f).start()):f(o),this}return c();function c(){var h=cr(e.canvas);return{x:(e.width/2-h.x)/h.k,y:(e.height/2-h.y)/h.k}}function f(h){var g=h.x,m=h.y;e.zoom.translateTo(e.zoom.__baseElem,g===void 0?c().x:g,m===void 0?c().y:m),e.needsRedraw=!0}},zoom:function(e,r,a){if(!e.canvas)return null;if(r!==void 0)return a?e.tweenGroup.add(new D2({k:s()}).to({k:r},a).easing(Aa.Quadratic.Out).onUpdate(function(c){var f=c.k;return o(f)}).start()):o(r),this;return s();function s(){return cr(e.canvas).k}function o(c){e.zoom.scaleTo(e.zoom.__baseElem,c),e.needsRedraw=!0}},zoomToFit:function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length,o=new Array(s>3?s-3:0),c=3;c<s;c++)o[c-3]=arguments[c];var f=this.getGraphBbox.apply(this,o);if(f){var h={x:(f.x[0]+f.x[1])/2,y:(f.y[0]+f.y[1])/2},g=Math.max(1e-12,Math.min(1e12,(e.width-a*2)/(f.x[1]-f.x[0]),(e.height-a*2)/(f.y[1]-f.y[0])));this.centerAt(h.x,h.y,r),this.zoom(g,r)}return this},getGraphBbox:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},a=qe(e.nodeVal),s=function(f){return Math.sqrt(Math.max(0,a(f)||1))*e.nodeRelSize},o=e.graphData.nodes.filter(r).map(function(c){return{x:c.x,y:c.y,r:s(c)}});return o.length?{x:[T2(o,function(c){return c.x-c.r}),E2(o,function(c){return c.x+c.r})],y:[T2(o,function(c){return c.y-c.r}),E2(o,function(c){return c.y+c.r})]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},SU),stateInit:function(){return{lastSetZoom:1,zoom:R9(),forceGraph:new ed,shadowGraph:new ed().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new aL,tweenGroup:new HN}},init:function(e,r){var a=this;e.innerHTML="";var s=document.createElement("div");s.classList.add("force-graph-container"),s.style.position="relative",e.appendChild(s),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),s.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var o=r.canvas.getContext("2d"),c=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),f={x:-1e12,y:-1e12},h=function(){var p=null,v=window.devicePixelRatio,_=f.x>0&&f.y>0?c.getImageData(f.x*v,f.y*v,1,1):null;return _&&(p=r.colorTracker.lookup(_.data)),p};Rn(r.canvas).call(Kz().subject(function(){if(!r.enableNodeDrag)return null;var m=h();return m&&m.type==="Node"?m.d:null}).on("start",function(m){var p=m.subject;p.__initialDragPos={x:p.x,y:p.y,fx:p.fx,fy:p.fy},m.active||(p.fx=p.x,p.fy=p.y),r.canvas.classList.add("grabbable")}).on("drag",function(m){var p=m.subject,v=p.__initialDragPos,_=m,w=cr(r.canvas).k,N={x:v.x+(_.x-v.x)/w-p.x,y:v.y+(_.y-v.y)/w-p.y};["x","y"].forEach(function(C){return p["f".concat(C)]=p[C]=v[C]+(_[C]-v[C])/w}),!(!p.__dragged&&bU>=Math.sqrt(B9(["x","y"].map(function(C){return Math.pow(m[C]-v[C],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,p.__dragged=!0,r.onNodeDrag(p,N))}).on("end",function(m){var p=m.subject,v=p.__initialDragPos,_={x:p.x-v.x,y:p.y-v.y};v.fx===void 0&&(p.fx=void 0),v.fy===void 0&&(p.fy=void 0),delete p.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,p.__dragged&&(delete p.__dragged,r.onNodeDragEnd(p,_))})),r.zoom(r.zoom.__baseElem=Rn(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(m){return!m.button&&r.enableZoomPanInteraction&&(m.type!=="wheel"||qe(r.enableZoomInteraction)(m))&&(m.type==="wheel"||qe(r.enablePanInteraction)(m))}).on("zoom",function(m){var p=m.transform;[o,c].forEach(function(v){x3(v),v.translate(p.x,p.y),v.scale(p.k,p.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(Ll(Ll({},p),a.centerAt())),r.needsRedraw=!0}).on("end",function(m){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(Ll(Ll({},m.transform),a.centerAt()))}),jp(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){cr(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=vU/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new kL(s),["pointermove","pointerdown"].forEach(function(m){return s.addEventListener(m,function(p){m==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=p),!r.isPointerDragging&&p.type==="pointermove"&&r.onBackgroundClick&&(p.pressure>0||r.isPointerPressed)&&(p.pointerType==="mouse"||p.movementX===void 0||[p.movementX,p.movementY].some(function(w){return Math.abs(w)>1}))&&(r.isPointerDragging=!0);var v=_(s);f.x=p.pageX-v.left,f.y=p.pageY-v.top;function _(w){var N=w.getBoundingClientRect(),C=window.pageXOffset||document.documentElement.scrollLeft,S=window.pageYOffset||document.documentElement.scrollTop;return{top:N.top+S,left:N.left+C}}},{passive:!0})}),s.addEventListener("pointerup",function(m){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var p=[m,r.pointerDownEvent];requestAnimationFrame(function(){if(m.button===0)if(r.hoverObj){var v=r["on".concat(r.hoverObj.type,"Click")];v&&v.apply(void 0,[r.hoverObj.d].concat(p))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,p);if(m.button===2)if(r.hoverObj){var _=r["on".concat(r.hoverObj.type,"RightClick")];_&&_.apply(void 0,[r.hoverObj.d].concat(p))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,p)})}},{passive:!0}),s.addEventListener("contextmenu",function(m){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(m.preventDefault(),!1)}),r.forceGraph(o),r.shadowGraph(c);var g=d7(function(){uw(c,r.width,r.height),r.shadowGraph.linkWidth(function(p){return qe(r.linkWidth)(p)+r.linkHoverPrecision});var m=cr(r.canvas);r.shadowGraph.globalScale(m.k).tickFrame()},xU);r.flushShadowCanvas=g.flush,(this._animationCycle=function m(){var p=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(T){return T.__photons&&T.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var v=r.isPointerDragging?null:h();if(v!==r.hoverObj){var _=r.hoverObj,w=_?_.type:null,N=v?v.type:null;if(w&&w!==N){var C=r["on".concat(w,"Hover")];C&&C(null,_.d)}if(N){var S=r["on".concat(N,"Hover")];S&&S(v.d,w===N?_.d:null)}r.tooltip.content(v&&qe(r["".concat(v.type.toLowerCase(),"Label")])(v.d)||null),r.canvas.classList[(v&&r["on".concat(N,"Click")]||!v&&r.onBackgroundClick)&&qe(r.showPointerCursor)(v?.d)?"add":"remove"]("clickable"),r.hoverObj=v}p&&g()}if(p){uw(o,r.width,r.height);var E=cr(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(o,E),r.forceGraph.globalScale(E).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(o,E)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(m)})()},update:function(e){}}),Ap={exports:{}},Mp,cw;function NU(){if(cw)return Mp;cw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Mp=n,Mp}var Dp,fw;function kU(){if(fw)return Dp;fw=1;var n=NU();function e(){}function r(){}return r.resetWarningCache=e,Dp=function(){function a(c,f,h,g,m,p){if(p!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}a.isRequired=a;function s(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},Dp}var dw;function EU(){return dw||(dw=1,Ap.exports=kU()()),Ap.exports}var TU=EU();const G=pw(TU),Ad={width:G.number,height:G.number,graphData:G.shape({nodes:G.arrayOf(G.object).isRequired,links:G.arrayOf(G.object).isRequired}),backgroundColor:G.string,nodeRelSize:G.number,nodeId:G.string,nodeLabel:G.oneOfType([G.string,G.func]),nodeVal:G.oneOfType([G.number,G.string,G.func]),nodeVisibility:G.oneOfType([G.bool,G.string,G.func]),nodeColor:G.oneOfType([G.string,G.func]),nodeAutoColorBy:G.oneOfType([G.string,G.func]),onNodeHover:G.func,onNodeClick:G.func,linkSource:G.string,linkTarget:G.string,linkLabel:G.oneOfType([G.string,G.func]),linkVisibility:G.oneOfType([G.bool,G.string,G.func]),linkColor:G.oneOfType([G.string,G.func]),linkAutoColorBy:G.oneOfType([G.string,G.func]),linkWidth:G.oneOfType([G.number,G.string,G.func]),linkCurvature:G.oneOfType([G.number,G.string,G.func]),linkDirectionalArrowLength:G.oneOfType([G.number,G.string,G.func]),linkDirectionalArrowColor:G.oneOfType([G.string,G.func]),linkDirectionalArrowRelPos:G.oneOfType([G.number,G.string,G.func]),linkDirectionalParticles:G.oneOfType([G.number,G.string,G.func]),linkDirectionalParticleSpeed:G.oneOfType([G.number,G.string,G.func]),linkDirectionalParticleOffset:G.oneOfType([G.number,G.string,G.func]),linkDirectionalParticleWidth:G.oneOfType([G.number,G.string,G.func]),linkDirectionalParticleColor:G.oneOfType([G.string,G.func]),onLinkHover:G.func,onLinkClick:G.func,dagMode:G.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:G.number,dagNodeFilter:G.func,onDagError:G.func,d3AlphaMin:G.number,d3AlphaDecay:G.number,d3VelocityDecay:G.number,warmupTicks:G.number,cooldownTicks:G.number,cooldownTime:G.number,onEngineTick:G.func,onEngineStop:G.func,getGraphBbox:G.func},v3={zoomToFit:G.func,onNodeRightClick:G.func,onNodeDrag:G.func,onNodeDragEnd:G.func,onLinkRightClick:G.func,linkHoverPrecision:G.number,onBackgroundClick:G.func,onBackgroundRightClick:G.func,showPointerCursor:G.oneOfType([G.bool,G.func]),enablePointerInteraction:G.bool,enableNodeDrag:G.bool},ny={showNavInfo:G.bool,nodeOpacity:G.number,nodeResolution:G.number,nodeThreeObject:G.oneOfType([G.object,G.string,G.func]),nodeThreeObjectExtend:G.oneOfType([G.bool,G.string,G.func]),nodePositionUpdate:G.func,linkOpacity:G.number,linkResolution:G.number,linkCurveRotation:G.oneOfType([G.number,G.string,G.func]),linkMaterial:G.oneOfType([G.object,G.string,G.func]),linkThreeObject:G.oneOfType([G.object,G.string,G.func]),linkThreeObjectExtend:G.oneOfType([G.bool,G.string,G.func]),linkPositionUpdate:G.func,linkDirectionalArrowResolution:G.number,linkDirectionalParticleResolution:G.number,linkDirectionalParticleThreeObject:G.oneOfType([G.object,G.string,G.func]),forceEngine:G.oneOf(["d3","ngraph"]),ngraphPhysics:G.object,numDimensions:G.oneOf([1,2,3])},jU=Object.assign({},Ad,v3,{linkLineDash:G.oneOfType([G.arrayOf(G.number),G.string,G.func]),nodeCanvasObjectMode:G.oneOfType([G.string,G.func]),nodeCanvasObject:G.func,nodePointerAreaPaint:G.func,linkCanvasObjectMode:G.oneOfType([G.string,G.func]),linkCanvasObject:G.func,linkPointerAreaPaint:G.func,linkDirectionalParticleCanvasObject:G.func,autoPauseRedraw:G.bool,minZoom:G.number,maxZoom:G.number,enableZoomInteraction:G.oneOfType([G.bool,G.func]),enablePanInteraction:G.oneOfType([G.bool,G.func]),onZoom:G.func,onZoomEnd:G.func,onRenderFramePre:G.func,onRenderFramePost:G.func});Object.assign({},Ad,v3,ny,{enableNavigationControls:G.bool,controlType:G.oneOf(["trackball","orbit","fly"]),rendererConfig:G.object,extraRenderers:G.arrayOf(G.shape({render:G.func.isRequired}))});Object.assign({},Ad,ny,{nodeDesc:G.oneOfType([G.string,G.func]),linkDesc:G.oneOfType([G.string,G.func])});Object.assign({},Ad,ny,{markerAttrs:G.object,yOffset:G.number,glScale:G.number});const ry=r8(CU,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});ry.displayName="ForceGraph2D";ry.propTypes=jU;function AU({references:n=[]}){const e=D.useRef(),r=D.useRef(null),[a,s]=D.useState({w:400,h:300}),[o,c]=D.useState(new Set),[f,h]=D.useState(new Set),[g,m]=D.useState(null),p=D.useMemo(()=>{if(!n||n.length===0)return{nodes:[],links:[]};const w=[],N=[],C={},S=["#8B5CF6","#10B981","#F59E0B","#3B82F6","#EC4899"];return n.forEach((E,T)=>{const j=`ref-${T}`;w.push({id:j,name:E.title,author:E.author,year:E.year,val:5,type:"paper",color:"#E2E8F0"}),E.title.toLowerCase().replace(/[^\w\s]/gi,"").split(" ").filter(O=>O.length>4&&!["study","analysis","using","based","review","effect","impact"].includes(O)).slice(0,2).forEach(O=>{const A=`topic-${O}`;C[O]||(C[O]={id:A,name:O.toUpperCase(),val:12,type:"topic",color:S[Object.keys(C).length%S.length]},w.push(C[O])),N.push({source:j,target:A,color:C[O].color})})}),{nodes:w,links:N}},[n]);D.useEffect(()=>{if(!r.current)return;const w=new ResizeObserver(N=>{const{width:C,height:S}=N[0].contentRect;s({w:C,h:S})});return w.observe(r.current),()=>w.disconnect()},[]),D.useEffect(()=>{e.current&&(e.current.d3Force("charge").strength(-150),e.current.d3Force("link").distance(60),setTimeout(()=>e.current.zoomToFit(400,40),500))},[p]);const v=w=>{if(!w&&!o.size||w&&g===w)return;const N=new Set,C=new Set;w&&(N.add(w),p.links.forEach(S=>{(S.source.id===w.id||S.target.id===w.id)&&(C.add(S),N.add(S.source),N.add(S.target))})),m(w||null),c(N),h(C),r.current&&(r.current.style.cursor=w?"pointer":"move")},_=D.useCallback((w,N,C)=>{const S=w===g,E=o.has(w),T=g&&!S&&!E,j=w.type==="topic"?5:2.5;N.globalAlpha=T?.15:1,T?N.shadowBlur=0:(N.shadowColor=w.color,N.shadowBlur=S?15:0),N.beginPath(),N.arc(w.x,w.y,j,0,2*Math.PI,!1),N.fillStyle=w.color,N.fill(),N.shadowBlur=0,N.globalAlpha=1;const M=w.name,O=!S&&M.length>15&&w.type!=="topic"?M.substring(0,12)+"...":M,A=w.type==="topic"?4.5:3.5,R=w.type==="topic"||S?"600":"400";N.font=`${R} ${A}px Inter, sans-serif`;const H=[N.measureText(O).width,A].map(B=>B+A*.4);N.fillStyle=T?"rgba(15, 17, 21, 0.3)":"rgba(15, 17, 21, 0.8)";const I=w.x-H[0]/2,F=w.type==="topic"?w.y+j+1:w.y-j-H[1]-1;N.beginPath(),N.roundRect(I,F,H[0],H[1],1),N.fill(),S&&(N.strokeStyle=w.color,N.lineWidth=.2,N.stroke()),N.textAlign="center",N.textBaseline="middle",T?N.fillStyle="rgba(203, 213, 225, 0.3)":N.fillStyle=S?"#FFFFFF":w.type==="topic"?w.color:"#CBD5E1",N.fillText(O,w.x,F+H[1]/2)},[g,o]);return n.length===0?x.jsxs("div",{className:"h-64 flex flex-col items-center justify-center border border-dashed border-[#252830] rounded-xl bg-[#0F1115]/50 text-slate-500",children:[x.jsx(Tj,{size:24,className:"mb-2 opacity-50"}),x.jsx("p",{className:"text-xs",children:"Data referensi kosong."})]}):x.jsxs("div",{className:"flex flex-col h-full bg-[#0F1115] rounded-xl border border-[#252830] overflow-hidden relative group shadow-lg",children:[x.jsx("div",{className:"absolute top-3 left-3 z-10 pointer-events-none opacity-50 group-hover:opacity-100 transition-opacity",children:x.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-full bg-black/20 border border-white/5 backdrop-blur-sm",children:[x.jsx(Jj,{size:10,className:"text-[#6C5DD3]"}),x.jsx("span",{className:"text-[9px] font-medium text-slate-400",children:"Scroll to Zoom"})]})}),x.jsx("div",{className:"absolute top-3 right-3 z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:x.jsx("button",{onClick:()=>e.current.zoomToFit(500),className:"p-1.5 bg-[#1C1E24] text-slate-400 hover:text-white rounded-md border border-white/10 hover:bg-[#6C5DD3] transition-colors",children:x.jsx(Ww,{size:12})})}),x.jsx("div",{ref:r,className:"flex-1 min-h-[350px] cursor-move bg-[#0F1115]",children:x.jsx(ry,{ref:e,width:a.w,height:a.h,graphData:p,backgroundColor:"#0F1115",nodeLabel:"",linkColor:w=>f.has(w)?w.color:"#252830",linkWidth:w=>f.has(w)?1:.5,nodeCanvasObject:_,onNodeHover:v,onNodeClick:w=>{e.current.centerAt(w.x,w.y,1e3),e.current.zoom(6,1e3)},cooldownTicks:100,onEngineStop:()=>e.current.zoomToFit(400)})}),x.jsxs("div",{className:"bg-[#1C1E24] p-2 text-[9px] text-slate-500 flex justify-between items-center border-t border-[#252830]",children:[x.jsx("span",{children:"Knowledge Graph"}),x.jsxs("span",{className:"flex gap-3",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#6C5DD3]"})," Keyword"]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"})," Paper"]})]})]})]})}function MU({projectId:n,onInsert:e,onUpdateStyle:r,onExport:a,projectData:s,getEditorContent:o}){const[c,f]=D.useState("formal"),[h,g]=D.useState(null),[m,p]=D.useState(!1),v=s?.references||[],_=()=>{p(!0),setTimeout(()=>{const w=o?o():"",N=document.createElement("div");N.innerHTML=w;const C=N.textContent||N.innerText||"",S=/([A-Z][a-zA-Z\s\.\-]+?)(?:et al\.?)?[\s,]*\(?(\d{4})\)?/g,E=new Set;let T;for(;(T=S.exec(C))!==null;){const A=T[1].trim().replace(/[\(\),]/g,""),R=T[2],$=A.split(" ").pop().toLowerCase().replace(/[^a-z]/g,"");$.length>=3&&E.add(`${$}-${R}`)}const j=[],M=new Set;E.forEach(A=>{const[R,$]=A.split("-"),H=v.findIndex((I,F)=>{if(!I.author||!I.year)return!1;const Q=String(I.year).trim(),B=I.author.toLowerCase();return Q===$&&B.includes(R)});if(H!==-1)M.add(H);else{const I=R.charAt(0).toUpperCase()+R.slice(1);j.push(`${I} (${$})`)}});const O=v.filter((A,R)=>!M.has(R));g({score:Math.max(0,100-j.length*20-O.length*10),missingInBib:j,unusedInText:O,totalCitations:E.size,totalRefs:v.length}),p(!1)},800)};return x.jsxs("div",{className:"h-full flex flex-col bg-[#16181D]",children:[x.jsx("div",{className:"p-4 border-b border-[#252830] bg-[#1C1E24]",children:x.jsxs("h3",{className:"text-xs font-bold text-white uppercase flex items-center gap-2",children:[x.jsx(Zw,{size:14,className:"text-[#6C5DD3]"})," Research Toolkit"]})}),x.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Smart Citation Map"}),x.jsxs("span",{className:"text-[9px] bg-[#6C5DD3]/10 text-[#6C5DD3] px-1.5 py-0.5 rounded",children:[v.length," Refs"]})]}),x.jsx("div",{className:"h-[280px]",children:x.jsx(AU,{references:v})})]}),x.jsx("div",{className:"h-px bg-[#252830] w-full"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1",children:[x.jsx(Nb,{size:12})," Reference Audit"]}),h&&x.jsxs("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${h.score===100?"bg-green-500 text-black":"bg-red-500 text-white"}`,children:["Score: ",h.score]})]}),h?x.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-bottom-2",children:[h.missingInBib.length>0?x.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 p-3 rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(V4,{size:14,className:"text-red-500"}),x.jsx("span",{className:"text-[10px] font-bold text-red-400 uppercase",children:"Ada di Teks, Hilang di Dapus"})]}),x.jsx("ul",{className:"list-disc list-inside space-y-1",children:h.missingInBib.map((w,N)=>x.jsx("li",{className:"text-[10px] text-slate-300 font-mono",children:w},N))})]}):x.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 p-2 rounded-lg flex items-center gap-2",children:[x.jsx(Ho,{size:14,className:"text-green-500"}),x.jsx("span",{className:"text-[10px] font-bold text-green-400",children:"Semua sitasi teks valid!"})]}),h.unusedInText.length>0?x.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-3 rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x.jsx(W0,{size:14,className:"text-yellow-500"}),x.jsx("span",{className:"text-[10px] font-bold text-yellow-400 uppercase",children:"Ada di Dapus, Belum dipakai"})]}),x.jsx("div",{className:"space-y-1 max-h-[150px] overflow-y-auto custom-scrollbar",children:h.unusedInText.map((w,N)=>x.jsxs("div",{className:"flex justify-between items-center text-[10px] text-slate-400 bg-black/20 p-1.5 rounded",children:[x.jsx("span",{className:"truncate w-32",children:w.title}),x.jsxs("button",{onClick:()=>e(`(${w.author?w.author.split(",")[0].split(" ").pop():"Anonim"}, ${w.year})`),className:"text-[#6C5DD3] hover:text-white flex items-center gap-1 shrink-0",children:["Insert ",x.jsx(T4,{size:10})]})]},N))})]}):x.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 p-2 rounded-lg flex items-center gap-2",children:[x.jsx(Ho,{size:14,className:"text-blue-500"}),x.jsx("span",{className:"text-[10px] font-bold text-blue-400",children:"Dapus efisien (semua terpakai)."})]}),x.jsxs("button",{onClick:_,className:"w-full py-1.5 bg-[#252830] text-[10px] text-slate-400 hover:text-white rounded hover:bg-[#323642] transition-colors flex items-center justify-center gap-2",children:[x.jsx(Qn,{size:10})," Scan Ulang"]})]}):x.jsxs("div",{className:"bg-[#1C1E24] p-4 rounded-xl border border-[#252830] text-center",children:[x.jsx("p",{className:"text-[10px] text-slate-400 mb-3",children:"Cek sinkronisasi antara Sitasi di Teks vs Daftar Pustaka. Deteksi otomatis typo atau referensi yatim."}),x.jsxs("button",{onClick:_,disabled:m,className:"px-4 py-2 bg-[#6C5DD3] hover:bg-[#5a4cb8] text-white text-xs font-bold rounded-lg transition-all flex items-center justify-center gap-2 mx-auto",children:[m?x.jsx(Qn,{size:12,className:"animate-spin"}):x.jsx(Nb,{size:12}),m?"Scanning...":"Mulai Audit Pustaka"]})]})]}),x.jsx("div",{className:"h-px bg-[#252830] w-full"}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Document Actions"}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("button",{onClick:()=>a("word"),className:"flex flex-col items-center justify-center p-3 bg-[#1C1E24] border border-[#252830] rounded-xl hover:border-[#6C5DD3] hover:bg-[#6C5DD3]/5 transition-all group",children:[x.jsx(Po,{size:20,className:"text-blue-400 mb-2 group-hover:scale-110 transition-transform"}),x.jsx("span",{className:"text-xs font-bold text-slate-300",children:"MS Word"})]}),x.jsxs("button",{onClick:()=>a("pdf"),className:"flex flex-col items-center justify-center p-3 bg-[#1C1E24] border border-[#252830] rounded-xl hover:border-red-500 hover:bg-red-500/5 transition-all group",children:[x.jsx(fA,{size:20,className:"text-red-400 mb-2 group-hover:scale-110 transition-transform"}),x.jsx("span",{className:"text-xs font-bold text-slate-300",children:"PDF Print"})]})]})]})]})]})}function DU({projectId:n,onInsert:e}){const[r,a]=D.useState([]),[s,o]=D.useState(!1),[c,f]=D.useState(null),[h,g]=D.useState(""),m=async()=>{o(!0);try{const _=await tn.get("/api/my-analyses");_&&_.history&&a(_.history)}catch(_){console.error("Gagal ambil history:",_),$e.error("Gagal memuat riwayat analisis.")}finally{o(!1)}};D.useEffect(()=>{m()},[]);const p=_=>_?new Date(_).toLocaleDateString("id-ID",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}):"-",v=r.filter(_=>_.analysis_type?.toLowerCase().includes(h.toLowerCase())||_.filename?.toLowerCase().includes(h.toLowerCase()));return x.jsxs("div",{className:"flex flex-col h-full bg-[#16181D]",children:[x.jsxs("div",{className:"p-4 border-b border-white/5 bg-gradient-to-b from-[#1C1E24] to-[#16181D]",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsxs("div",{className:"flex items-center gap-2 text-[#6C5DD3]",children:[x.jsx(Bo,{size:16}),x.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"DATA STUDIO LINK"})]}),x.jsx("button",{onClick:m,className:`p-1.5 rounded-lg hover:bg-white/5 text-slate-400 hover:text-white transition-colors ${s?"animate-spin":""}`,title:"Refresh Data",children:x.jsx(Qn,{size:14})})]}),x.jsx("h2",{className:"text-sm font-bold text-white mb-1",children:"Hasil Analisis Data"}),x.jsx("p",{className:"text-[10px] text-slate-400",children:"Pilih hasil olah data dari Data Studio untuk dimasukkan ke Bab 4."}),x.jsxs("div",{className:"mt-3 relative",children:[x.jsx("input",{type:"text",placeholder:"Cari (misal: Regresi, Uji T)...",value:h,onChange:_=>g(_.target.value),className:"w-full bg-[#0D0F12] border border-white/10 rounded-xl py-2 pl-8 pr-3 text-xs text-slate-300 focus:outline-none focus:border-[#6C5DD3] transition-colors"}),x.jsx(ld,{size:12,className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-slate-500"})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 space-y-2",children:s?[1,2,3].map(_=>x.jsx("div",{className:"h-20 bg-[#1C1E24] rounded-xl animate-pulse"},_)):v.length===0?x.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-slate-500 gap-2",children:[x.jsx(X0,{size:24,className:"opacity-50"}),x.jsx("p",{className:"text-xs",children:"Belum ada riwayat analisis."}),x.jsx("a",{href:"/data-analysis",className:"text-[10px] text-[#6C5DD3] hover:underline",children:"Buka Data Studio"})]}):v.map(_=>{const w=c?.id===_.id;return x.jsxs("div",{onClick:()=>f(w?null:_),className:`group rounded-xl border transition-all cursor-pointer overflow-hidden ${w?"bg-[#1C1E24] border-[#6C5DD3] shadow-lg shadow-[#6C5DD3]/10":"bg-[#1C1E24]/50 border-white/5 hover:border-white/20 hover:bg-[#1C1E24]"}`,children:[x.jsx("div",{className:"p-3",children:x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:`p-1.5 rounded-lg ${w?"bg-[#6C5DD3] text-white":"bg-[#0D0F12] text-slate-400"}`,children:x.jsx(Po,{size:14})}),x.jsxs("div",{children:[x.jsx("h4",{className:`text-xs font-bold ${w?"text-white":"text-slate-300"}`,children:_.analysis_type||"Analisis Tanpa Judul"}),x.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[x.jsxs("span",{className:"text-[10px] text-slate-500 flex items-center gap-1",children:[x.jsx(Iw,{size:10})," ",p(_.timestamp)]}),_.result?.n&&x.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-white/5 text-slate-400 border border-white/5",children:["N=",_.result.n]})]})]})]}),x.jsx(B4,{size:14,className:`text-slate-500 transition-transform ${w?"rotate-90":""}`})]})}),w&&x.jsx("div",{className:"px-3 pb-3 pt-0 animate-in slide-in-from-top-2",children:x.jsxs("div",{className:"p-3 bg-[#0D0F12] rounded-lg border border-white/5 space-y-2",children:[_.result?.ai_narrative_summary&&x.jsxs("div",{className:"mb-2",children:[x.jsx("p",{className:"text-[10px] font-bold text-slate-400 mb-1 uppercase tracking-wider",children:"RINGKASAN HASIL"}),x.jsxs("p",{className:"text-[11px] text-slate-300 leading-relaxed font-serif italic border-l-2 border-[#6C5DD3] pl-2",children:['"',_.result.ai_narrative_summary,'"']})]}),_.result?.details&&x.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(_.result.details[0]||{}).slice(0,4).map(([N,C])=>x.jsxs("div",{className:"bg-white/5 p-1.5 rounded",children:[x.jsx("div",{className:"text-[9px] text-slate-500 capitalize",children:N.replace(/_/g," ")}),x.jsx("div",{className:"text-[10px] font-bold text-white truncate",children:typeof C=="number"?C.toFixed(3):String(C)})]},N))}),x.jsxs("button",{onClick:N=>{N.stopPropagation();const C=_.result?.ai_narrative||_.result?.ai_narrative_summary;C?e(C):$e.error("Tidak ada narasi teks untuk data ini.")},className:"w-full mt-2 py-2 bg-[#6C5DD3] hover:bg-[#5b4ec2] text-white rounded-lg text-xs font-bold transition-all flex items-center justify-center gap-2",children:[x.jsx(Ho,{size:14})," Masukkan ke Bab 4"]})]})})]},_.id)})})]})}const OU=()=>{const{project:n,isPro:e,setShowUpgradeModal:r}=Ia(),[a,s]=D.useState([]),[o,c]=D.useState(!1),[f,h]=D.useState(""),[g,m]=D.useState(!1),[p,v]=D.useState(null),[_,w]=D.useState("critical"),[N,C]=D.useState("hard"),S=D.useRef(null),E=()=>{S.current?.scrollIntoView({behavior:"smooth"})};D.useEffect(()=>E(),[a]);const T=async()=>{if(!e&&(N==="extreme"||_==="critical")){r(!0);return}c(!0),v(null),s([{role:"system",content:`SIDANG DIBUKA. PENGUJI: ${O(_).toUpperCase()}.`,type:"info"}]),m(!0);try{const A=await tn.post("/api/defense/start",{examiner_type:_,difficulty:N,project_context:{title:n?.title,problem:n?.problem_statement,method:n?.methodology}}),R=A?.response?.message||A?.message||"Silakan perkenalkan diri Anda.";s($=>[...$,{role:"assistant",content:R}])}catch{s(R=>[...R,{role:"system",content:"Gagal terhubung ke Dosen AI.",type:"error"}]),c(!1)}finally{m(!1)}},j=async A=>{if(A.preventDefault(),!f.trim()||g)return;const R=f;h(""),s($=>[...$,{role:"user",content:R}]),m(!0);try{const $=await tn.post("/api/defense/answer",{answer:R,history:a.filter(F=>F.role!=="system"),examiner_type:_}),I=$?.response?.message||$?.message||"Maaf, saya kurang menangkap maksud Anda. Bisa ulangi?";s(F=>[...F,{role:"assistant",content:I}])}catch{s(H=>[...H,{role:"system",content:"Koneksi terputus. Coba kirim ulang.",type:"error"}])}finally{m(!1)}},M=async()=>{if(a.length<3){c(!1);return}m(!0);try{const A=await tn.post("/api/defense/evaluate",{history:a.filter($=>$.role!=="system")}),R=A?.response||A?.report||A;R&&(R.score||R.verdict)?v(R):v({score:0,verdict:"Error Data",advice:"Gagal memuat evaluasi. Coba lagi."}),c(!1)}catch(A){console.error("Evaluation error:",A),c(!1)}finally{m(!1)}},O=A=>{switch(A){case"critical":return"Prof. Killer";case"methodologist":return"Dr. Metodologi";default:return"Dosen Pembimbing"}};return x.jsxs("div",{className:"h-full flex flex-col bg-[#16181D] relative overflow-hidden font-sans",children:[x.jsxs("div",{className:"p-4 border-b border-white/5 bg-[#1C1E24]/80 backdrop-blur-sm z-10 flex justify-between items-center shrink-0",children:[x.jsxs("div",{children:[x.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2 uppercase tracking-wide",children:[x.jsx(kb,{className:"text-red-500",size:16}),"Simulasi Sidang"]}),x.jsxs("p",{className:"text-[10px] text-slate-400 mt-0.5",children:["Mode: ",N.toUpperCase()]})]}),o&&x.jsxs("button",{onClick:M,className:"px-3 py-1.5 bg-red-500/10 hover:bg-red-500/20 text-red-400 text-[10px] font-bold rounded-lg border border-red-500/20 transition-all flex items-center gap-2",children:[x.jsx(Xw,{size:14})," Selesai & Nilai"]})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4 relative z-0",children:[!o&&!p&&x.jsxs("div",{className:"max-w-md mx-auto mt-4 animate-in fade-in zoom-in-95 duration-500",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tight",children:"Pilih Penguji"}),x.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Siapa yang ingin Anda hadapi hari ini?"})]}),x.jsx("div",{className:"grid grid-cols-1 gap-3 mb-6",children:[{id:"critical",label:"PROF. KILLER",desc:"Sangat kritis, pertanyaan pendek & tajam.",icon:ZA,color:"text-red-500",bg:"bg-red-500/10",border:"border-red-500/20"},{id:"methodologist",label:"DR. METODOLOGI",desc:"Mengejar validitas data & rumus statistik.",icon:Vi,color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/20"},{id:"supportive",label:"DOSEN PEMBIMBING",desc:"Latihan santai untuk melancarkan lidah.",icon:sd,color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20"}].map(A=>x.jsxs("button",{onClick:()=>w(A.id),className:`relative flex items-center gap-4 p-4 rounded-xl border transition-all text-left group overflow-hidden ${_===A.id?`${A.bg} ${A.border} ring-1 ring-${A.color.split("-")[1]}-500`:"bg-[#1C1E24] border-white/5 hover:border-white/10"}`,children:[!e&&A.id==="critical"&&x.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-[1px] flex items-center justify-center z-10",children:x.jsxs("div",{className:"bg-black/80 px-3 py-1 rounded-full flex items-center gap-2 border border-amber-500/30",children:[x.jsx(Cb,{size:12,className:"text-amber-500"}),x.jsx("span",{className:"text-[10px] font-bold text-amber-500 uppercase",children:"Pro Only"})]})}),x.jsx("div",{className:`p-3 rounded-lg ${_===A.id?"bg-black/20":"bg-[#252830]"}`,children:x.jsx(A.icon,{size:20,className:A.color})}),x.jsxs("div",{children:[x.jsx("div",{className:`text-sm font-black ${_===A.id?"text-white":"text-slate-300"}`,children:A.label}),x.jsx("div",{className:"text-[10px] text-slate-500 leading-tight mt-1",children:A.desc})]})]},A.id))}),x.jsxs("div",{className:"bg-[#1C1E24] p-1 rounded-xl border border-white/5 flex relative",children:[["normal","hard","extreme"].map(A=>x.jsxs("button",{onClick:()=>C(A),className:`flex-1 py-3 rounded-lg text-[10px] font-bold uppercase transition-all relative z-10 ${N===A?"text-white":"text-slate-500 hover:text-slate-300"}`,children:[A,A==="extreme"&&!e&&x.jsx(Cb,{size:10,className:"inline ml-1 mb-0.5 text-amber-500"})]},A)),x.jsx("div",{className:"absolute top-1 bottom-1 rounded-lg bg-[#252830] transition-all duration-300 ease-out border border-white/5 shadow-sm",style:{left:N==="normal"?"4px":N==="hard"?"33.33%":"66.66%",width:"calc(33.33% - 4px)"}})]}),x.jsxs("button",{onClick:T,className:"w-full py-4 mt-6 bg-white hover:bg-slate-200 text-black rounded-xl text-sm font-black uppercase tracking-wide transition-all shadow-xl hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-2",children:[x.jsx(tS,{size:16,fill:"currentColor"})," Masuk Ruang Sidang"]})]}),o&&x.jsxs("div",{className:"space-y-6 pb-24",children:[a.map((A,R)=>x.jsx("div",{className:`flex flex-col ${A.role==="user"?"items-end":"items-start"} animate-in slide-in-from-bottom-2`,children:A.role==="system"?x.jsx("div",{className:"w-full flex justify-center my-4",children:x.jsx("span",{className:"text-[9px] font-mono text-slate-500 uppercase tracking-widest bg-[#1C1E24] px-3 py-1 rounded-full border border-white/5",children:A.content})}):x.jsxs(x.Fragment,{children:[x.jsx("div",{className:`text-[9px] font-bold mb-1 px-1 ${A.role==="user"?"text-slate-400":"text-red-400 uppercase tracking-wider"}`,children:A.role==="user"?"Anda":O(_)}),x.jsx("div",{className:`max-w-[85%] p-4 rounded-2xl text-sm leading-relaxed shadow-lg ${A.role==="user"?"bg-[#2C303B] text-slate-200 rounded-tr-none border border-white/5":"bg-[#1C1E24] text-slate-300 rounded-tl-none border-l-2 border-l-red-500 border-y border-r border-white/5"}`,children:A.content})]})},R)),g&&x.jsxs("div",{className:"flex gap-2 items-center text-[10px] text-slate-500 ml-2 animate-pulse",children:[x.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Dosen sedang menilai jawaban Anda..."]}),x.jsx("div",{ref:S})]}),p&&!o&&x.jsxs("div",{className:"max-w-lg mx-auto mt-6 animate-in zoom-in-95 duration-500 pb-10",children:[x.jsxs("div",{className:"bg-white text-black p-6 rounded-t-2xl text-center",children:[x.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.2em] mb-2 opacity-60",children:"Hasil Evaluasi"}),x.jsx("h2",{className:`text-4xl font-black uppercase ${p.verdict==="LULUS"?"text-green-600":"text-red-600"}`,children:p.verdict||"SELESAI"}),x.jsx("div",{className:"mt-4 flex justify-center gap-4",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-3xl font-black",children:p.score}),x.jsx("div",{className:"text-[9px] font-bold uppercase opacity-50",children:"Skor Akhir"})]})})]}),x.jsxs("div",{className:"bg-[#1C1E24] p-6 rounded-b-2xl border-t border-dashed border-slate-700",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("h4",{className:"text-[10px] font-bold text-green-400 uppercase mb-1 flex items-center gap-2",children:[x.jsx(A4,{size:12})," Kekuatan"]}),x.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:p.strengths||"-"})]}),x.jsxs("div",{children:[x.jsxs("h4",{className:"text-[10px] font-bold text-red-400 uppercase mb-1 flex items-center gap-2",children:[x.jsx(kb,{size:12})," Kelemahan Fatal"]}),x.jsx("p",{className:"text-xs text-slate-300 leading-relaxed",children:p.weaknesses||"-"})]}),x.jsxs("div",{className:"bg-[#252830] p-3 rounded-lg border border-white/5",children:[x.jsx("h4",{className:"text-[10px] font-bold text-white uppercase mb-1",children:"Saran Perbaikan"}),x.jsxs("p",{className:"text-xs text-slate-400 italic",children:['"',p.advice||"-",'"']})]})]}),x.jsxs("button",{onClick:()=>{v(null),s([])},className:"w-full mt-6 py-3 bg-[#2C303B] hover:bg-white hover:text-black text-white text-xs font-bold rounded-xl transition-colors flex items-center justify-center gap-2 uppercase tracking-wide",children:[x.jsx(Qn,{size:14})," Uji Ulang"]})]})]})]}),o&&x.jsx("div",{className:"p-4 bg-[#16181D] border-t border-white/5 absolute bottom-0 w-full z-20",children:x.jsxs("form",{onSubmit:j,className:"relative flex items-center gap-2",children:[x.jsx("input",{type:"text",value:f,onChange:A=>h(A.target.value),placeholder:"Jawab dengan singkat (Max 2 kalimat)...",className:"flex-1 bg-[#0D0F12] border border-white/10 text-white text-sm rounded-xl px-4 py-3 focus:border-red-500 outline-none transition-all placeholder-slate-600",disabled:g,autoFocus:!0}),x.jsx("button",{type:"submit",disabled:g||!f.trim(),className:"p-3 bg-red-600 hover:bg-red-500 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-red-900/20",children:x.jsx(Q0,{size:18,className:"fill-white/20"})})]})})]})},zU=()=>{const{project:n}=Ia(),[e,r]=D.useState(null),[a,s]=D.useState(!1),[o,c]=D.useState(null),f=async()=>{const g=n?.title||"",m=n?.problem_statement||"",p=n?.research_objectives||"";if(!g||!m){c("Judul dan Rumusan Masalah wajib diisi di Settings Project sebelum audit.");return}s(!0),c(null);try{const v=await tn.post("/api/assistant/logic-check",{title:g,problem:m,objectives:p});r(v)}catch(v){console.error("Logic check failed:",v),c(v.message||"Gagal melakukan audit logika.")}finally{s(!1)}},h=g=>g>=80?"text-emerald-400":g>=50?"text-yellow-400":"text-red-400";return x.jsxs("div",{className:"h-full flex flex-col bg-[#16181D]",children:[x.jsxs("div",{className:"p-4 border-b border-white/5 bg-[#1C1E24]",children:[x.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[x.jsx(Bp,{className:"text-[#6C5DD3]",size:18}),"Logic Guard"]}),x.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:'Audit konsistensi "Benang Merah" skripsi Anda (Judul vs Masalah vs Tujuan).'})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4",children:[!e&&!a&&!o&&x.jsxs("div",{className:"text-center py-10 px-4 border-2 border-dashed border-white/5 rounded-xl bg-[#1A1D23]/50",children:[x.jsx(Lp,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),x.jsx("h4",{className:"text-sm font-bold text-slate-300 mb-2",children:"Siap Mengaudit?"}),x.jsx("p",{className:"text-xs text-slate-500 mb-4 leading-relaxed",children:"AI akan memeriksa apakah Judul, Rumusan Masalah, dan Tujuan Penelitian Anda sudah sinkron secara logis."}),x.jsxs("button",{onClick:f,className:"bg-[#6C5DD3] hover:bg-[#5a4cb5] text-white px-5 py-2.5 rounded-xl text-xs font-bold transition-all shadow-lg shadow-[#6C5DD3]/20 flex items-center gap-2 mx-auto",children:[x.jsx(Bp,{size:16})," Jalankan Audit"]})]}),a&&x.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[x.jsx(Qn,{className:"w-8 h-8 text-[#6C5DD3] animate-spin mb-4"}),x.jsx("p",{className:"text-xs font-bold text-slate-300",children:"Sedang Menganalisis Logika..."}),x.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"Membedah benang merah skripsi Anda."})]}),o&&x.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-xl mb-4",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx(W0,{className:"text-red-400 shrink-0 mt-0.5",size:16}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-xs font-bold text-red-300 mb-1",children:"Gagal Audit"}),x.jsx("p",{className:"text-[11px] text-red-200/80",children:o}),!n?.title&&x.jsx("button",{className:"mt-2 text-[10px] bg-red-500/20 hover:bg-red-500/30 text-red-200 px-3 py-1 rounded transition-colors",children:"Lengkapi Data Project"})]})]})}),e&&!a&&x.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[x.jsxs("div",{className:"bg-[#1C1E24] p-5 rounded-2xl border border-white/5 relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:x.jsx(Lp,{size:80,className:"text-white"})}),x.jsxs("div",{className:"relative z-10",children:[x.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Konsistensi Score"}),x.jsxs("div",{className:`text-4xl font-black mt-1 mb-1 ${h(e.consistency_score)}`,children:[e.consistency_score,"/100"]}),x.jsxs("div",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-white/5 border border-white/10 text-[10px] font-medium text-slate-300",children:["Status: ",x.jsx("span",{className:"text-white font-bold",children:e.status})]})]})]}),x.jsx("div",{className:"space-y-3",children:e.analysis&&e.analysis.map((g,m)=>x.jsxs("div",{className:"bg-[#1A1D23] p-4 rounded-xl border border-white/5",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h5",{className:"text-xs font-bold text-slate-200",children:g.pair}),x.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded ${g.status==="Valid"?"bg-emerald-500/20 text-emerald-400":g.status==="Warning"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:g.status})]}),x.jsx("p",{className:"text-[11px] text-slate-400 leading-relaxed border-l-2 border-slate-700 pl-3",children:g.feedback})]},m))}),e.suggestions&&e.suggestions.length>0&&x.jsxs("div",{className:"bg-[#1A1D23] p-4 rounded-xl border border-white/5",children:[x.jsxs("h5",{className:"text-xs font-bold text-slate-300 mb-3 flex items-center gap-2",children:[x.jsx($p,{size:14,className:"text-[#6C5DD3]"})," Rekomendasi Perbaikan"]}),x.jsx("ul",{className:"space-y-2",children:e.suggestions.map((g,m)=>x.jsxs("li",{className:"text-[11px] text-slate-400 flex gap-2",children:[x.jsx("span",{className:"text-[#6C5DD3] mt-0.5",children:""}),g]},m))})]}),x.jsxs("button",{onClick:f,className:"w-full py-3 mt-2 bg-[#252830] hover:bg-[#2d313a] text-slate-300 rounded-xl text-xs font-bold transition-colors flex items-center justify-center gap-2 border border-white/5",children:[x.jsx(Qn,{size:14})," Audit Ulang"]})]})]})]})};function RU(n){const{activeTab:e,setActiveTab:r}=n,[a,s]=D.useState("write"),o={write:[{id:"generator",icon:su,label:"Draft"},{id:"chat",icon:Q0,label:"Chat"},{id:"tools",icon:Vi,label:"Tools"}],review:[{id:"analysis",icon:Bo,label:"Data"},{id:"logic",icon:Bp,label:"Audit"},{id:"defense",icon:bj,label:"Sidang"}]};return x.jsxs("div",{className:"flex flex-col h-full bg-[#16181D] text-slate-300 border-l border-[#252830]",children:[x.jsx("div",{className:"p-3 bg-[#0D0F12] border-b border-white/5",children:x.jsxs("div",{className:"flex bg-[#16181D] p-1 rounded-xl border border-white/5",children:[x.jsx(hw,{isActive:a==="write",onClick:()=>{s("write"),r("generator")},icon:ej,label:"WRITER"}),x.jsx(hw,{isActive:a==="review",onClick:()=>{s("review"),r("analysis")},icon:Zw,label:"REVIEWER"})]})}),x.jsx("div",{className:"flex items-center gap-1 px-3 py-2 bg-[#0D0F12]/50 border-b border-white/5 overflow-x-auto custom-scrollbar",children:o[a].map(c=>{const f=c.icon,h=e===c.id;return x.jsxs("button",{onClick:()=>r(c.id),className:`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg transition-all text-[10px] font-bold uppercase tracking-wider ${h?"bg-[#6C5DD3] text-white shadow-lg shadow-[#6C5DD3]/20":"text-slate-500 hover:text-slate-200 hover:bg-white/5"}`,children:[x.jsx(f,{size:14,strokeWidth:h?2.5:2}),x.jsx("span",{children:c.label})]},c.id)})}),x.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative bg-[#16181D]",children:[e==="generator"&&x.jsx($O,{...n}),e==="chat"&&x.jsx(UO,{...n}),e==="tools"&&x.jsx(MU,{...n}),e==="analysis"&&x.jsx(DU,{projectId:n.projectData?.id,onInsert:n.onInsert}),e==="logic"&&x.jsx(zU,{projectData:n.projectData}),e==="defense"&&x.jsx(OU,{projectData:n.projectData})]})]})}function hw({isActive:n,onClick:e,icon:r,label:a}){return x.jsxs("button",{onClick:e,className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-[10px] font-bold transition-all ${n?"bg-[#252830] text-white shadow-sm":"text-slate-500 hover:text-slate-300"}`,children:[x.jsx(r,{size:12})," ",a]})}function b3({isOpen:n,onClose:e}){const{project:r,updateProjectMeta:a,isSaving:s}=Ia(),[o,c]=D.useState("identity"),[f,h]=D.useState({});if(D.useEffect(()=>{n&&r&&(console.log("[MODAL DEBUG] Project Data received:",r),h({student_name:r.student_name||"",university:r.university||"",degree_level:r.degree_level||"S1",title:r.title||"",problem_statement:r.problem_statement||"",research_objectives:r.research_objectives||"",significance:r.significance||"",theoretical_framework:r.theoretical_framework||"",variables_indicators:r.variables_indicators||"",methodology:r.methodology||"quantitative",population_sample:r.population_sample||"",data_analysis:r.data_analysis||""}))},[n,r]),!n)return null;const g=_=>{const{name:w,value:N}=_.target;h(C=>({...C,[w]:N}))},m=()=>{a(f),e()},p=[{id:"identity",label:"Identitas",icon:sd,desc:"Nama, Judul, Kampus"},{id:"problem",label:"Masalah & Tujuan",icon:iS,desc:"Rumusan & Signifikansi"},{id:"theory",label:"Landasan Teori",icon:Vi,desc:"Variabel & Grand Theory"},{id:"method",label:"Metodologi",icon:Nf,desc:"Jenis & Teknik Analisis"}],v="w-full bg-[#0D0F12] border border-white/10 text-slate-200 text-[13px] p-3 rounded-xl outline-none transition-all focus:border-[#6C5DD3] focus:ring-2 focus:ring-[#6C5DD3]/10 placeholder:text-slate-600";return x.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:x.jsxs("div",{className:"w-full max-w-4xl h-[85vh] bg-[#16181D] border border-white/10 rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[x.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/5 bg-[#1C1E24]",children:[x.jsxs("div",{children:[x.jsxs("h2",{className:"text-sm font-bold text-white flex items-center gap-2",children:[x.jsx(Nf,{size:16,className:"text-[#6C5DD3]"}),"Pengaturan Skripsi"]}),x.jsx("p",{className:"text-[11px] text-slate-400 mt-0.5",children:"Atur metadata proyek untuk konteks AI."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[s&&x.jsxs("span",{className:"text-[10px] text-emerald-400 font-bold flex items-center gap-1 animate-pulse",children:[x.jsx(Ho,{size:12})," Menyimpan..."]}),x.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-white/10 text-slate-400 hover:text-white transition-all",children:x.jsx(ou,{size:18})})]})]}),x.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[x.jsx("div",{className:"w-64 bg-[#0D0F12] border-r border-white/5 p-3 flex flex-col gap-1 overflow-y-auto",children:p.map(_=>{const w=_.icon,N=o===_.id;return x.jsxs("button",{onClick:()=>c(_.id),className:`flex items-start gap-3 p-3 rounded-xl text-left transition-all duration-200 ${N?"bg-[#6C5DD3]/10 border border-[#6C5DD3]/20":"hover:bg-white/5 border border-transparent"}`,children:[x.jsx(w,{size:18,className:`mt-0.5 ${N?"text-[#6C5DD3]":"text-slate-500"}`}),x.jsxs("div",{children:[x.jsx("div",{className:`text-xs font-bold ${N?"text-white":"text-slate-400"}`,children:_.label}),x.jsx("div",{className:"text-[10px] text-slate-600 font-medium mt-0.5",children:_.desc})]})]},_.id)})}),x.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-[#16181D] p-8",children:x.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[o==="identity"&&x.jsxs("div",{className:"space-y-5 animate-in slide-in-from-right-4 duration-300",children:[x.jsx(sf,{title:"Identitas Dasar",desc:"Informasi mahasiswa dan institusi."}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsx(Dn,{label:"Nama Mahasiswa",children:x.jsx("input",{className:v,name:"student_name",value:f.student_name,onChange:g,placeholder:"Nama Lengkap..."})}),x.jsx(Dn,{label:"Jenjang Studi",children:x.jsxs("select",{className:`${v} appearance-none cursor-pointer`,name:"degree_level",value:f.degree_level,onChange:g,children:[x.jsx("option",{value:"S1",children:"S1 - Sarjana"}),x.jsx("option",{value:"S2",children:"S2 - Magister"}),x.jsx("option",{value:"S3",children:"S3 - Doktoral"})]})})]}),x.jsx(Dn,{label:"Universitas / Instansi",children:x.jsx("input",{className:v,name:"university",value:f.university,onChange:g,placeholder:"Nama Universitas..."})}),x.jsx(Dn,{label:"Judul Penelitian",children:x.jsx("textarea",{className:`${v} min-h-[100px] resize-none`,name:"title",value:f.title,onChange:g,placeholder:"Judul skripsi..."})})]}),o==="problem"&&x.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[x.jsx(sf,{title:"Kerangka Masalah",desc:"Fokus utama penelitian."}),x.jsx(Dn,{label:"Rumusan Masalah",children:x.jsx("textarea",{className:`${v} min-h-[120px] resize-none`,name:"problem_statement",value:f.problem_statement,onChange:g,placeholder:"Daftar pertanyaan penelitian..."})}),x.jsx(Dn,{label:"Tujuan Penelitian",children:x.jsx("textarea",{className:`${v} min-h-[100px] resize-none`,name:"research_objectives",value:f.research_objectives,onChange:g,placeholder:"Tujuan yang ingin dicapai..."})}),x.jsx(Dn,{label:"Signifikansi / Manfaat",children:x.jsx("textarea",{className:`${v} min-h-[80px] resize-none`,name:"significance",value:f.significance,onChange:g,placeholder:"Manfaat teoritis & praktis..."})})]}),o==="theory"&&x.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[x.jsx(sf,{title:"Landasan Teori",desc:"Teori dan Variabel."}),x.jsx(Dn,{label:"Grand Theory",children:x.jsx("textarea",{className:`${v} min-h-[100px] resize-none`,name:"theoretical_framework",value:f.theoretical_framework,onChange:g,placeholder:"Teori utama yang digunakan..."})}),x.jsx(Dn,{label:"Variabel & Indikator",children:x.jsx("textarea",{className:`${v} min-h-[120px] resize-none`,name:"variables_indicators",value:f.variables_indicators,onChange:g,placeholder:"Definisi variabel dan indikator..."})})]}),o==="method"&&x.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[x.jsx(sf,{title:"Metodologi",desc:"Metode penelitian."}),x.jsx(Dn,{label:"Pendekatan Penelitian",children:x.jsxs("select",{className:`${v} appearance-none cursor-pointer`,name:"methodology",value:f.methodology,onChange:g,children:[x.jsx("option",{value:"quantitative",children:"Kuantitatif (Statistik)"}),x.jsx("option",{value:"qualitative",children:"Kualitatif (Deskriptif)"}),x.jsx("option",{value:"mix_method",children:"Mixed Method"}),x.jsx("option",{value:"rnd",children:"R&D"})]})}),x.jsx(Dn,{label:"Populasi & Sampel",children:x.jsx("textarea",{className:`${v} min-h-[80px] resize-none`,name:"population_sample",value:f.population_sample,onChange:g,placeholder:"Detail populasi dan sampel..."})}),x.jsx(Dn,{label:"Teknik Analisis Data",children:x.jsx("textarea",{className:`${v} min-h-[80px] resize-none`,name:"data_analysis",value:f.data_analysis,onChange:g,placeholder:"Teknik analisis yang dipakai..."})})]})]})})]}),x.jsxs("div",{className:"p-4 border-t border-white/5 bg-[#16181D] flex justify-end gap-3",children:[x.jsx("button",{onClick:e,className:"px-5 py-2.5 text-xs font-bold text-slate-400 hover:text-white transition-colors rounded-xl",children:"Batal"}),x.jsxs("button",{onClick:m,className:"px-6 py-2.5 bg-[#6C5DD3] hover:bg-[#5b4cc4] text-white rounded-xl text-xs font-bold transition-all shadow-lg shadow-[#6C5DD3]/20 flex items-center gap-2 active:scale-95",children:[x.jsx(vA,{size:16})," Simpan Perubahan"]})]})]})})}function sf({title:n,desc:e}){return x.jsxs("div",{className:"pb-2 border-b border-white/5 mb-4",children:[x.jsx("h3",{className:"text-lg font-bold text-white",children:n}),x.jsx("p",{className:"text-xs text-slate-500",children:e})]})}function Dn({label:n,children:e}){return x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-xs font-bold text-slate-400 ml-1",children:n}),e]})}function LU({onInsertCitation:n}){const{addToast:e}=Ff(),{project:r,projectsList:a,chapters:s=[],activeChapterId:o,changeActiveChapter:c,loadProject:f,createNewProject:h,isSaving:g,isContentLoading:m,addReference:p,isPro:v}=Ia(),[_,w]=D.useState(!1),[N,C]=D.useState("structure"),[S,E]=D.useState(!1),[T,j]=D.useState(!1),M=r||{},O=H=>{if(H.formatted_citation)return H.formatted_citation;const I=H.author||"Anonim",F=H.year||"n.d.",Q=H.title||"Tanpa Judul",B=H.publisher||H.journal||H.website||"";return`${I}. (${F}). ${Q}. ${B}.`},A=H=>{const I=O(H);navigator.clipboard.writeText(I),e&&e("Format Daftar Pustaka disalin!","success")},R=H=>{p(H)},$=M.references?[...M.references].reverse():[];return x.jsxs("aside",{className:"w-full flex flex-col h-full bg-[#0D0F12] border-r border-white/5 relative",children:[x.jsxs("div",{className:"p-3 border-b border-white/5 bg-[#0D0F12]",children:[x.jsxs("button",{onClick:()=>w(!_),className:"w-full flex items-center gap-3 p-2 rounded-xl hover:bg-white/5 transition-all group relative",children:[x.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-[#6C5DD3] to-[#4F46E5] flex items-center justify-center shrink-0 shadow-lg shadow-[#6C5DD3]/20",children:x.jsx(hj,{size:14,className:"text-white"})}),x.jsxs("div",{className:"flex-1 text-left overflow-hidden",children:[x.jsxs("div",{className:"text-[10px] text-slate-500 font-bold tracking-wider flex items-center gap-2",children:["PROJECT",g&&x.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),v&&x.jsxs("span",{className:"flex items-center gap-0.5 px-1 py-0.5 rounded bg-gradient-to-r from-amber-500 to-orange-500 text-[8px] font-bold text-white",children:[x.jsx(Qw,{size:8,fill:"currentColor"})," PRO"]})]}),x.jsx("div",{className:"text-xs font-bold text-white truncate",children:M.title||"Untitled Project"})]}),x.jsx("div",{className:"p-1.5 text-slate-500 hover:text-white hover:bg-white/10 rounded transition-colors",onClick:H=>{H.stopPropagation(),j(!0)},children:x.jsx(Nf,{size:14})})]}),_&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>w(!1)}),x.jsx("div",{className:"absolute top-16 left-3 right-3 bg-[#1C1E24] border border-white/10 rounded-xl shadow-2xl z-50 overflow-hidden animate-in fade-in zoom-in-95",children:x.jsxs("div",{className:"max-h-[200px] overflow-y-auto custom-scrollbar p-1",children:[a&&a.length>0?a.map(H=>x.jsxs("button",{onClick:()=>{f(H.id),w(!1)},className:"w-full text-left p-2 rounded-lg text-xs hover:bg-white/5 text-slate-300 truncate flex items-center gap-2",children:[x.jsx(Po,{size:12,className:"opacity-50"}),H.title||"Untitled"]},H.id)):x.jsx("div",{className:"p-2 text-[10px] text-slate-500 text-center",children:"Tidak ada project lain"}),x.jsxs("button",{onClick:()=>{h(),w(!1)},className:"w-full flex items-center gap-2 p-2 rounded-lg text-xs text-[#6C5DD3] hover:bg-[#6C5DD3]/10 font-bold mt-1 border-t border-white/5",children:[x.jsx(nS,{size:12})," New Project"]})]})})]})]}),x.jsxs("div",{className:"grid grid-cols-2 p-1 m-3 bg-[#16181D] rounded-lg border border-white/5",children:[x.jsxs("button",{onClick:()=>C("structure"),className:`flex items-center justify-center gap-2 py-2 rounded-md text-[10px] font-bold transition-all ${N==="structure"?"bg-[#252830] text-white":"text-slate-500"}`,children:[x.jsx(Oj,{size:12})," Struktur"]}),x.jsxs("button",{onClick:()=>C("references"),className:`flex items-center justify-center gap-2 py-2 rounded-md text-[10px] font-bold transition-all ${N==="references"?"bg-[#252830] text-white":"text-slate-500"}`,children:[x.jsx(Vi,{size:12})," Referensi"]})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-3 pb-4",children:[N==="structure"&&x.jsxs("div",{className:"space-y-1",children:[x.jsx("div",{className:"px-2 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"CHAPTERS"}),s.map(H=>x.jsxs("button",{onClick:()=>c(H.id),disabled:m,className:`w-full flex items-center gap-3 p-2.5 rounded-lg transition-all border ${o===H.id?"bg-[#6C5DD3]/10 text-white border-[#6C5DD3]/20":"text-slate-400 border-transparent hover:bg-white/5"}`,children:[x.jsx(Po,{size:14,className:o===H.id?"text-[#6C5DD3]":"text-slate-600"}),x.jsx("span",{className:"text-[11px] font-medium truncate flex-1 text-left",children:H.title}),o===H.id&&x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#6C5DD3] shadow-[0_0_8px_#6C5DD3]"})]},H.id))]}),N==="references"&&x.jsxs("div",{className:"space-y-3",children:[x.jsxs("button",{onClick:()=>E(!0),className:"w-full py-2.5 bg-[#6C5DD3] hover:bg-[#5a4cb5] text-white rounded-xl text-xs font-bold transition-all flex items-center justify-center gap-2 shadow-lg shadow-[#6C5DD3]/20",children:[x.jsx(ld,{size:14})," Cari Referensi Online"]}),x.jsx("div",{className:"space-y-2",children:$.length>0?$.map((H,I)=>x.jsxs("div",{className:"bg-[#16181D] p-3 rounded-xl border border-white/5 hover:border-[#6C5DD3]/30 transition-all group",children:[x.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[x.jsx("div",{className:"mt-0.5 shrink-0 w-4 h-4 bg-[#252830] rounded flex items-center justify-center text-[8px] font-bold text-slate-500",children:$.length-I}),x.jsxs("div",{children:[x.jsx("div",{className:"text-[11px] font-bold text-slate-200 line-clamp-2 leading-snug",children:H.title}),x.jsxs("div",{className:"flex items-center gap-2 mt-1 text-[9px] text-slate-500",children:[x.jsx("span",{className:"bg-white/5 px-1.5 py-0.5 rounded text-slate-400",children:H.year||"?"}),x.jsx("span",{className:"truncate max-w-[120px]",children:H.author})]})]})]}),x.jsxs("div",{className:"flex gap-2 pt-2 border-t border-white/5 opacity-60 group-hover:opacity-100 transition-opacity",children:[x.jsxs("button",{onClick:()=>n&&n(`(${H.author?H.author.split(",")[0].split(" ").pop():"Anonim"}, ${H.year})`),className:"flex-1 py-1.5 bg-[#252830] hover:bg-[#6C5DD3] text-slate-400 hover:text-white rounded text-[9px] font-bold flex items-center justify-center gap-1",children:[x.jsx(rS,{size:10})," Cite"]}),x.jsxs("button",{onClick:()=>A(H),className:"flex-1 py-1.5 bg-[#252830] hover:bg-emerald-600 text-slate-400 hover:text-white rounded text-[9px] font-bold flex items-center justify-center gap-1",children:[x.jsx(J4,{size:10})," Copy Bib"]})]})]},I)):x.jsx("div",{className:"text-center py-8 text-slate-600 text-[10px]",children:"Belum ada referensi."})})]})]}),x.jsx(aN,{isOpen:S,onClose:()=>E(!1),onReferenceAdded:R}),x.jsx(b3,{isOpen:T,onClose:()=>j(!1)})]})}const $U=({isOpen:n,onClose:e})=>{if(!n)return null;const r=()=>{window.open("/upgrade","_blank")};return x.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:x.jsxs("div",{className:"bg-[#1A1D23] border border-gray-700 rounded-2xl w-full max-w-md shadow-2xl relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-b from-purple-900/40 to-transparent pointer-events-none"}),x.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:x.jsx(ou,{size:20})}),x.jsxs("div",{className:"p-8 text-center relative z-10",children:[x.jsx("div",{className:"mx-auto w-16 h-16 bg-purple-900/50 rounded-full flex items-center justify-center mb-6 border border-purple-500/30 shadow-[0_0_15px_rgba(168,85,247,0.3)]",children:x.jsx(Qw,{size:32,className:"text-purple-400"})}),x.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Kuota Harian Habis"}),x.jsxs("p",{className:"text-gray-400 mb-6 text-sm leading-relaxed",children:["Anda telah mencapai batas penggunaan gratis hari ini. Upgrade ke ",x.jsx("span",{className:"text-purple-400 font-semibold",children:"Pro Plan"})," untuk akses tanpa batas ke fitur premium."]}),x.jsxs("div",{className:"bg-[#13151A] rounded-xl p-4 mb-6 text-left space-y-3 border border-gray-800",children:[x.jsx(of,{text:"Unlimited Generator (Bab 1-5)"}),x.jsx(of,{text:"Akses GPT-5 Nano & GPT-5.2"}),x.jsx(of,{text:"Simulasi Sidang Skripsi AI"}),x.jsx(of,{text:"Prioritas Server (Tanpa Antri)"})]}),x.jsx("button",{onClick:r,className:"w-full py-3 px-4 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white font-semibold rounded-xl transition-all shadow-lg shadow-purple-900/20 transform hover:-translate-y-0.5",children:"Upgrade Sekarang"}),x.jsx("button",{onClick:e,className:"mt-4 text-xs text-gray-500 hover:text-gray-300 transition-colors",children:"Nanti saja, saya pakai besok"})]})]})})},of=({text:n})=>x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-5 h-5 rounded-full bg-green-900/30 flex items-center justify-center flex-shrink-0",children:x.jsx(Yw,{size:12,className:"text-green-400"})}),x.jsx("span",{className:"text-gray-300 text-sm",children:n})]});function UU(){const{project:n,content:e,projectId:r,activeChapterId:a,chapters:s,isSaving:o,isLoading:c,isContentLoading:f,saveContent:h,projectsList:g,loadProject:m,showUpgradeModal:p,setShowUpgradeModal:v}=Ia(),{generate:_,stop:w,status:N,streamData:C,error:S}=yu(),[E,T]=D.useState(!0),[j,M]=D.useState(!0),[O,A]=D.useState("generator"),[R,$]=D.useState(!1),[H,I]=D.useState(!1),F=D.useRef(null);D.useEffect(()=>{const L=Y=>{console.log("Upgrade Modal Triggered:",Y.detail),v&&v(!0)};return typeof window<"u"&&window.addEventListener(v0,L),()=>{typeof window<"u"&&window.removeEventListener(v0,L)}},[v]);const Q=L=>{F.current?.insertContent(L)},B=(L,Y)=>{if(!n)return alert("Pilih atau buat project dulu!");const se=n.references&&n.references.length>0?n.references.map((U,Z)=>`[${Z+1}] (${U.author}, ${U.year}): ${U.title}`).join(`
`):"",ce=F.current?.getHtml()||"",ge={projectId:r,task:L,data:{...Y,student_name:n.student_name,university:n.university,context_title:n.title,context_problem:n.problem_statement,context_material:`REFERENCES:
${se}

CURRENT CONTENT:
${ce}`,current_chapter_id:a},model:Y.model||"fast"};_("/api/writing-assistant",ge),O==="analysis"&&A("generator"),j||M(!0)};if(c)return x.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-[#0F1115] text-slate-400",children:x.jsxs("div",{className:"flex flex-col items-center gap-3",children:[x.jsx(Cf,{className:"w-8 h-8 text-[#6C5DD3] animate-spin"}),x.jsx("span",{className:"text-xs font-mono tracking-widest",children:"MEMUAT STUDIO..."})]})});const te=s?.find(L=>L.id===a)?.title||"Editor";return x.jsxs(x.Fragment,{children:[x.jsx(m4,{position:"bottom-center",toastOptions:{style:{background:"#333",color:"#fff"}}}),x.jsxs("div",{className:"flex h-screen w-screen bg-[#0D0F12] text-white overflow-hidden font-sans",children:[x.jsxs("aside",{className:`${E&&!R?"w-[300px]":"w-0"} h-full bg-[#16181D] border-r border-[#252830] flex flex-col transition-all duration-300 relative overflow-hidden`,children:[x.jsxs("div",{className:"h-14 px-4 border-b border-[#252830] flex items-center justify-between bg-[#1C1E24] shrink-0",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#6C5DD3] flex items-center justify-center text-white",children:x.jsx(oj,{size:18})}),x.jsx("h1",{className:"text-sm font-bold",children:"OnThesis"})]}),x.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"p-1.5 text-slate-500 hover:text-red-400",title:"Keluar ke Dashboard",children:x.jsx(Gj,{size:16})})]}),x.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:x.jsx(LU,{onInsertCitation:Q,onOpenSettings:()=>I(!0)})})]}),x.jsxs("main",{className:"flex-1 flex flex-col h-full min-w-0 bg-[#0D0F12] relative",children:[!R&&x.jsxs("header",{className:"h-14 border-b border-[#252830] bg-[#0D0F12] flex items-center justify-between px-4 shrink-0 z-20",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:()=>T(!E),className:"text-slate-400 hover:text-white",children:E?x.jsx(eA,{size:18}):x.jsx(nA,{size:18})}),x.jsx("div",{className:"h-4 w-px bg-[#252830]"}),x.jsx("div",{className:"text-xs font-bold text-slate-200",children:te}),x.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-[#16181D] border border-[#252830] rounded",children:[o?x.jsx(Qn,{size:10,className:"text-yellow-500 animate-spin"}):x.jsx(Ho,{size:10,className:"text-green-500"}),x.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:o?"SAVING...":"SAVED"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>$(!0),className:"p-2 text-slate-400 hover:text-white",title:"Zen Mode",children:x.jsx(Qj,{size:18})}),x.jsx("button",{onClick:()=>M(!j),className:"text-slate-400 hover:text-white",children:j?x.jsx(iA,{size:18}):x.jsx(lA,{size:18})})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto bg-[#0D0F12] flex justify-center custom-scrollbar relative",children:x.jsx("div",{className:`w-full max-w-[900px] transition-all ${R?"py-0":"py-8 px-4"}`,children:f?x.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-[#0D0F12] backdrop-blur-sm",children:[x.jsx(Cf,{className:"w-10 h-10 text-[#6C5DD3] animate-spin"}),x.jsxs("p",{className:"text-xs font-bold text-white mt-2",children:["Memuat ",te,"..."]})]}):x.jsx(SO,{ref:F,projectId:r,activeChapterId:a,initialContent:e,isStreaming:N==="streaming",projectContext:n,onSave:h},a)})}),R&&x.jsxs("button",{onClick:()=>$(!1),className:"absolute top-4 right-4 z-50 bg-black/50 text-white px-4 py-2 rounded-full text-xs font-bold flex gap-2",children:[x.jsx(eS,{size:14})," Exit Focus"]})]}),x.jsx("aside",{className:`${j&&!R?"w-[380px]":"w-0"} h-full bg-[#16181D] border-l border-[#252830] flex flex-col transition-all duration-300 shadow-2xl`,children:x.jsx(RU,{activeTab:O,setActiveTab:A,status:N,streamData:C,error:S,onRunAI:B,onStop:w,onInsert:Q,getEditorContent:()=>F.current?.getHtml(),activeChapterId:a,chapters:s,projectData:n})}),x.jsx(b3,{isOpen:H,onClose:()=>I(!1)}),x.jsx($U,{isOpen:p,onClose:()=>v&&v(!1)})]})]})}console.log("[DEBUG] Main.jsx loaded");console.log("[DEBUG] ToastProvider is:",oN);const BU=window.initialState||{},gw=document.getElementById("writing-studio-react-root");gw?Jk.createRoot(gw).render(x.jsx($o.StrictMode,{children:x.jsx(vT,{children:x.jsx(oN,{children:x.jsx(kO,{initialData:BU,children:x.jsx(UU,{})})})})})):console.error("[ERROR] Container #writing-studio-react-root tidak ditemukan di HTML!");
